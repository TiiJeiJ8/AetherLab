{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, vShow as _vShow, normalizeClass as _normalizeClass, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"nav-container\"\n};\nconst _hoisted_2 = {\n  class: \"nav-actions\"\n};\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = [\"href\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: /*@__PURE__*/_normalizeClass({})\n};\nconst _hoisted_7 = [\"href\", \"target\"];\nconst _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"header\", {\n    class: _normalizeClass(['top-bar', {\n      'top-bar--hidden': $data.isHidden\n    }])\n  }, [_createElementVNode(\"nav\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"logo dynamic-gradient-text\"\n  }, \" Fuck Charts \", -1)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.actions, (item, idx) => {\n    return _openBlock(), _createElementBlock(_Fragment, {\n      key: idx\n    }, [item.type === 'button' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"nav-btn gradient-btn\",\n      onClick: $event => item.onClick && item.onClick(),\n      type: \"button\"\n    }, _toDisplayString(item.label), 9, _hoisted_3)) : item.type === 'link' ? (_openBlock(), _createElementBlock(\"a\", {\n      key: 1,\n      class: \"nav-btn gradient-btn\",\n      href: item.target || '_self',\n      rel: \"noopener noreferrer\"\n    }, _toDisplayString(item.label), 9, _hoisted_4)) : item.type === 'dropdown' ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 2,\n      class: \"dropdown\",\n      onClick: _cache[1] || (_cache[1] = _withModifiers(() => {}, [\"stop\"]))\n    }, [_createElementVNode(\"button\", {\n      class: \"nav-btn gradient-btn dropdown-toggle\",\n      onClick: $event => $options.toggleDropdown(idx),\n      type: \"button\"\n    }, [_createTextVNode(_toDisplayString(item.label) + \" \", 1), _cache[2] || (_cache[2] = _createElementVNode(\"i\", {\n      class: \"fa fa-chevron-down ml-1\",\n      \"aria-hidden\": \"true\"\n    }, null, -1))], 8, _hoisted_5), _withDirectives(_createElementVNode(\"ul\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.options, (opt, i) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: i\n      }, [opt.href ? (_openBlock(), _createElementBlock(\"a\", {\n        key: 0,\n        href: opt.href,\n        target: opt.target || '_self',\n        rel: \"noopener noreferrer\",\n        onClick: _cache[0] || (_cache[0] = (...args) => $options.closeDropdown && $options.closeDropdown(...args))\n      }, _toDisplayString(opt.label), 9, _hoisted_7)) : (_openBlock(), _createElementBlock(\"button\", {\n        key: 1,\n        type: \"button\",\n        onClick: () => {\n          opt.onClick && opt.onClick();\n          $options.closeDropdown();\n        }\n      }, _toDisplayString(opt.label), 9, _hoisted_8))]);\n    }), 128))], 512), [[_vShow, $data.dropdownOpen === idx]])])) : _createCommentVNode(\"\", true)], 64);\n  }), 128))])])], 2);\n}","map":{"version":3,"names":["class","_normalizeClass","_createElementBlock","$data","isHidden","_createElementVNode","_hoisted_1","_hoisted_2","_Fragment","_renderList","$props","actions","item","idx","key","type","onClick","$event","label","_hoisted_3","href","target","rel","_hoisted_4","_cache","_withModifiers","$options","toggleDropdown","_createTextVNode","_toDisplayString","_hoisted_5","_hoisted_6","options","opt","i","args","closeDropdown","_hoisted_7","_hoisted_8","dropdownOpen","_createCommentVNode"],"sources":["D:\\Learning Material\\Git\\Fuck-Charts\\newArchitecture\\frontend_vue_design\\src\\components\\TopBar.vue"],"sourcesContent":["<template>\n    <header :class=\"['top-bar', { 'top-bar--hidden': isHidden }]\">\n        <nav class=\"nav-container\">\n            <div class=\"logo dynamic-gradient-text\">\n                Fuck Charts\n            </div>\n            <div class=\"nav-actions\">\n                <!-- Btn -->\n                <template v-for=\"(item, idx) in actions\" :key=\"idx\">\n                    <!-- normal btn -->\n                    <button v-if=\"item.type === 'button'\"\n                            class=\"nav-btn gradient-btn\"\n                            @click=\"item.onClick && item.onClick()\"\n                            type=\"button\">\n                        {{ item.label }}\n                    </button>\n                    <!-- link -->\n                    <a  v-else-if=\"item.type === 'link'\"\n                        class=\"nav-btn gradient-btn\"\n                        :href=\"item.target || '_self'\"\n                        rel=\"noopener noreferrer\">\n                        {{ item.label }}\n                    </a>\n                    <!-- Dropdown menu -->\n                    <div v-else-if=\"item.type === 'dropdown'\" class=\"dropdown\" @click.stop>\n                        <button class=\"nav-btn gradient-btn dropdown-toggle\"\n                                @click=\"toggleDropdown(idx)\"\n                                type=\"button\">\n                            {{ item.label }}\n                            <i class=\"fa fa-chevron-down ml-1\" aria-hidden=\"true\"></i> <!-- 添加下拉箭头图标 -->\n                        </button>\n                        <ul v-show=\"dropdownOpen === idx\"\n                            :class=\"{}\">\n                            <li v-for=\"(opt, i) in item.options\" :key='i'>\n                                <a  v-if=\"opt.href\"\n                                    :href=\"opt.href\"\n                                    :target=\"opt.target || '_self'\"\n                                    rel=\"noopener noreferrer\"\n                                    @click=\"closeDropdown\">\n                                    {{ opt.label }}\n                                </a>\n                                <button v-else\n                                        type=\"button\"\n                                        @click=\"() => { opt.onClick && opt.onClick(); closeDropdown(); }\">\n                                    {{ opt.label }}\n                                </button>\n                            </li>\n                        </ul>\n                    </div>\n                </template>\n            </div>\n        </nav>\n    </header>\n</template>\n\n<script>\n/* eslint-disable */\nexport default {\n    name: 'TopBar',\n    props: {\n        actions: {\n            type: Array,\n            default: () => ([])\n        }\n    },\n    data() {\n        return {\n            lastScrollY: 0,\n            isHidden: false,\n            dropdownOpen: null\n        };\n    },\n    mounted() {\n        this.lastScrollY = window.scrollY;\n        window.addEventListener('scroll', this.handleScroll);\n        window.addEventListener('click', this.handleWindowClick);\n    },\n    beforeUnmount() {\n        window.removeEventListener('scroll', this.handleScroll);\n        window.removeEventListener('click', this.handleWindowClick);\n    },\n    methods: {\n        handleScroll() {\n            const currentY = window.scrollY;\n            this.isHidden = currentY > this.lastScrollY && currentY > 50;\n            this.lastScrollY = currentY;\n        },\n        toggleDropdown(idx) {\n            // 添加一些调试信息\n            console.log('Toggling dropdown with index:', idx);\n            this.dropdownOpen = this.dropdownOpen === idx ? null : idx;\n        },\n        closeDropdown() {\n            this.dropdownOpen = null;\n        },\n        handleWindowClick(e) {\n            if (!e.target.closest('.dropdown')) {\n                this.closeDropdown();\n            }\n        }\n    }\n};\n</script>\n\n<style>\n.top-bar {\n    position: fixed;\n    top: 0; left: 0; right: 0;\n    z-index: 1000;\n    background: rgba(34, 34, 34, 0.95);\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n.top-bar--hidden {\n    transform: translateY(-100%);\n    transition: 0.3s ease-in-out;\n}\n.nav-container {\n    max-width: 1200px;\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 64px;\n    padding: 0 1rem;\n}\n.dynamic-gradient-text {\n    background: linear-gradient(45deg, #eb4690, #8354e2);\n    -webkit-background-clip: text;\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n}\n.logo {\n    font-size: 2.4rem;\n    font-weight: bold;\n    margin-right: auto;\n    user-select: none;\n}\n.nav-actions {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n}\n.nav-btn {\n    border: none;\n    outline: none;\n    padding: 0.5rem 1.2rem;\n    border-radius: 16px;\n    font-size: 1rem;\n    color: #fff;\n    cursor: pointer;\n    background: none;\n    transition: all 0.2s;\n    position: relative;\n}\n.gradient-btn {\n    background: linear-gradient(to right, #2e2d2e, #313234);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n}\n.gradient-btn:hover {\n    filter: brightness(1.1);\n    transform: translateY(-2px);\n}\n.dropdown {\n    position: relative;\n}\n.dropdown-menu {\n    position: absolute;\n    top: 110%;\n    right: 0;\n    min-width: 140px;\n    background: #222;\n    border-radius: 10px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n    padding: 0.5rem 0;\n    z-index: 10;\n    opacity: 0;\n    visibility: hidden;\n    transform: translateY(10px);\n    transition: all 0.2s ease;\n}\n.dropdown-menu.active {\n    opacity: 1;\n    visibility: visible;\n    transform: translateY(0);\n}\n.dropdown-menu li {\n    list-style: none;\n}\n.dropdown-menu a,\n.dropdown-menu button {\n    display: block;\n    width: 100%;\n    padding: 0.5rem 1.2rem;\n    color: #fff;\n    background: none;\n    border: none;\n    text-align: left;\n    cursor: pointer;\n    border-radius: 8px;\n    transition: background 0.2s;\n}\n.dropdown-menu a:hover,\n.dropdown-menu button:hover {\n    background: #333;\n}\n@media (max-width: 768px) {\n    .nav-container {\n        flex-direction: column;\n        height: auto;\n        padding: 0.5rem;\n    }\n    .logo {\n        margin: 0 0 0.5rem 0;\n        font-size: 1.5rem;\n    }\n    .nav-actions {\n        flex-direction: column;\n        gap: 0.5rem;\n        width: 100%;\n    }\n    .dropdown-menu {\n        right: auto;\n        left: 0;\n        min-width: 120px;\n    }\n}\n@media (max-width: 480px) {\n    .logo {\n        font-size: 1.1rem;\n    }\n    .nav-btn, .dropdown-menu a, .dropdown-menu button {\n        font-size: 0.95rem;\n        padding: 0.4rem 0.7rem;\n    }\n}\n</style>"],"mappings":";;EAEaA,KAAK,EAAC;AAAe;;EAIjBA,KAAK,EAAC;AAAa;mBANpC;mBAAA;mBAAA;;EAgC6BA,KAAK,eAhClCC,eAAA,CAgCoC,EAAE;;mBAhCtC;mBAAA;;uBACIC,mBAAA,CAmDS;IAnDAF,KAAK,EADlBC,eAAA;MAAA,mBACqDE,KAAA,CAAAC;IAAQ;MACrDC,mBAAA,CAiDM,OAjDNC,UAiDM,G,0BAhDFD,mBAAA,CAEM;IAFDL,KAAK,EAAC;EAA4B,GAAC,eAExC,QACAK,mBAAA,CA4CM,OA5CNE,UA4CM,I,kBA1CFL,mBAAA,CAyCWM,SAAA,QAjD3BC,WAAA,CAQgDC,MAAA,CAAAC,OAAO,EARvD,CAQkCC,IAAI,EAAEC,GAAG;yBAR3CX,mBAAA,CAAAM,SAAA;MAAAM,GAAA,EAQ+DD;IAAG,IAEhCD,IAAI,CAACG,IAAI,iB,cAAvBb,mBAAA,CAKS;MAf7BY,GAAA;MAW4Bd,KAAK,EAAC,sBAAsB;MAC3BgB,OAAK,EAAAC,MAAA,IAAEL,IAAI,CAACI,OAAO,IAAIJ,IAAI,CAACI,OAAO;MACpCD,IAAI,EAAC;wBACNH,IAAI,CAACM,KAAK,MAdrCC,UAAA,KAiBmCP,IAAI,CAACG,IAAI,e,cAAxBb,mBAAA,CAKI;MAtBxBY,GAAA;MAkBwBd,KAAK,EAAC,sBAAsB;MAC3BoB,IAAI,EAAER,IAAI,CAACS,MAAM;MAClBC,GAAG,EAAC;wBACDV,IAAI,CAACM,KAAK,MArBrCK,UAAA,KAwBoCX,IAAI,CAACG,IAAI,mB,cAAzBb,mBAAA,CAwBM;MAhD1BY,GAAA;MAwB8Dd,KAAK,EAAC,UAAU;MAAEgB,OAAK,EAAAQ,MAAA,QAAAA,MAAA,MAxBrFC,cAAA,CAwB+E,QAAW;QAClEpB,mBAAA,CAKS;MALDL,KAAK,EAAC,sCAAsC;MAC3CgB,OAAK,EAAAC,MAAA,IAAES,QAAA,CAAAC,cAAc,CAACd,GAAG;MAC1BE,IAAI,EAAC;QA3BrCa,gBAAA,CAAAC,gBAAA,CA4B+BjB,IAAI,CAACM,KAAK,IAAG,GAChB,M,0BAAAb,mBAAA,CAA0D;MAAvDL,KAAK,EAAC,yBAAyB;MAAC,aAAW,EAAC;uBA7B3E8B,UAAA,G,gBA+BwBzB,mBAAA,CAgBK,MAhBL0B,UAgBK,I,kBAdD7B,mBAAA,CAaKM,SAAA,QA9CjCC,WAAA,CAiCmDG,IAAI,CAACoB,OAAO,EAjC/D,CAiCwCC,GAAG,EAAEC,CAAC;2BAAlBhC,mBAAA,CAaK;QAbiCY,GAAG,EAAEoB;MAAC,IAC9BD,GAAG,CAACb,IAAI,I,cAAlBlB,mBAAA,CAMI;QAxCpCY,GAAA;QAmCqCM,IAAI,EAAEa,GAAG,CAACb,IAAI;QACdC,MAAM,EAAEY,GAAG,CAACZ,MAAM;QACnBC,GAAG,EAAC,qBAAqB;QACxBN,OAAK,EAAAQ,MAAA,QAAAA,MAAA,UAAAW,IAAA,KAAET,QAAA,CAAAU,aAAA,IAAAV,QAAA,CAAAU,aAAA,IAAAD,IAAA,CAAa;0BAClBF,GAAG,CAACf,KAAK,MAvChDmB,UAAA,M,cAyCgCnC,mBAAA,CAIS;QA7CzCY,GAAA;QA0CwCC,IAAI,EAAC,QAAQ;QACZC,OAAK,EAAAA,CAAA;UAAUiB,GAAG,CAACjB,OAAO,IAAIiB,GAAG,CAACjB,OAAO;UAAIU,QAAA,CAAAU,aAAa;QAAA;0BAC5DH,GAAG,CAACf,KAAK,MA5ChDoB,UAAA,G;gCA+BoCnC,KAAA,CAAAoC,YAAY,KAAK1B,GAAG,E,OA/BxD2B,mBAAA,W","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}