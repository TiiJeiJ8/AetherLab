{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\n/* eslint-disable */\n\n/**\n * 热力图高级配置项：\n * 颜色离散映射和连续映射\n * 热力区块标签是否显示\n * 空白区块是否有颜色\n */\n\nimport { getVisualMapInRangeColor } from \"../utils/themeDispatcher\";\n\n// 引入主题视觉编码分发器\n\n// 热力图生成器\nexport default function heatmapOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n  // 获取视觉编码色\n  let visualColors = getVisualMapInRangeColor(config.colorScheme);\n\n  // 动态调整 visualMap\n  let visualMapOption = {};\n  switch (config.legendPosition) {\n    case 'bottom':\n      visualMapOption = {\n        orient: 'horizontal',\n        left: 'center',\n        bottom: 0\n      };\n      break;\n    case 'top':\n      visualMapOption = {\n        orient: 'horizontal',\n        left: 'center',\n        top: 0\n      };\n      break;\n    case 'right':\n      visualMapOption = {\n        orient: 'vertical',\n        right: 0,\n        top: 'center'\n      };\n      break;\n    case 'left':\n      visualMapOption = {\n        orient: 'vertical',\n        left: -10,\n        top: 'center'\n      };\n      break;\n    default:\n      visualMapOption = {\n        orient: 'horizontal',\n        left: 'center',\n        bottom: 0\n      };\n  }\n  // 判断是否离散映射\n  const isDiscrete = config.isDiscrete;\n  let visualMapConfig = {\n    min: seriesData.reduce((min, item) => Math.min(min, item[2]), Infinity),\n    max: seriesData.reduce((max, item) => Math.max(max, item[2]), -Infinity),\n    calculable: true,\n    inRange: {\n      color: visualColors\n    },\n    ...visualMapOption\n  };\n  if (isDiscrete) {\n    visualMapConfig.type = 'piecewise';\n    // 可选：自动分段\n    const min = visualMapConfig.min;\n    const max = visualMapConfig.max;\n    const splitNumber = config.discreteSplitNumber || 5;\n    const step = (max - min) / splitNumber;\n    visualMapConfig.pieces = Array.from({\n      length: splitNumber\n    }, (_, i) => ({\n      min: min + i * step,\n      max: i === splitNumber - 1 ? max : min + (i + 1) * step\n    }));\n    delete visualMapConfig.inRange; // piecewise用pieces分段\n  } else {\n    visualMapConfig.type = 'continuous';\n  }\n  return {\n    // ECharts 热力图配置\n    title: {\n      text: config.title || 'Chart of Heatmap',\n      subtext: config.subtext,\n      left: config.titlePosition === 'left' ? 'left' : config.titlePosition === 'center' ? 'center' : config.titlePosition === 'right' ? 'right' : 'center',\n      // bottom 也用 center\n      top: config.titlePosition === 'bottom' ? 'bottom' : 'top',\n      textStyle: {\n        fontSize: 16,\n        fontWeight: 'bold'\n      },\n      subtextStyle: {\n        fontSize: 12\n      }\n    },\n    tooltip: {\n      position: 'top'\n    },\n    xAxis: {\n      type: 'category',\n      data: xData\n    },\n    yAxis: {\n      type: 'category',\n      data: yDataArr\n    },\n    visualMap: visualMapConfig,\n    series: [{\n      name: selectedChartType.name,\n      type: 'heatmap',\n      data: seriesData,\n      label: {\n        show: config.isLabelVisible || false\n      },\n      emphasis: {\n        itemStyle: {\n          shadowBlur: 10,\n          shadowColor: '#333'\n        }\n      }\n    }],\n    ...customOption\n  };\n}","map":{"version":3,"names":["getVisualMapInRangeColor","heatmapOption","config","fileDataMap","xData","yDataArr","selectedChartType","seriesData","customOption","visualColors","colorScheme","visualMapOption","legendPosition","orient","left","bottom","top","right","isDiscrete","visualMapConfig","min","reduce","item","Math","Infinity","max","calculable","inRange","color","type","splitNumber","discreteSplitNumber","step","pieces","Array","from","length","_","i","title","text","subtext","titlePosition","textStyle","fontSize","fontWeight","subtextStyle","tooltip","position","xAxis","data","yAxis","visualMap","series","name","label","show","isLabelVisible","emphasis","itemStyle","shadowBlur","shadowColor"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/assets/JS/chartOptions/heatmap.js"],"sourcesContent":["/* eslint-disable */\n\n/**\n * 热力图高级配置项：\n * 颜色离散映射和连续映射\n * 热力区块标签是否显示\n * 空白区块是否有颜色\n */\n\nimport { getVisualMapInRangeColor } from \"../utils/themeDispatcher\";\n\n// 引入主题视觉编码分发器\n\n// 热力图生成器\nexport default function heatmapOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n    // 获取视觉编码色\n    let visualColors = getVisualMapInRangeColor(config.colorScheme);\n\n    // 动态调整 visualMap\n    let visualMapOption = {};\n    switch (config.legendPosition) {\n        case 'bottom':\n            visualMapOption = {\n                orient: 'horizontal',\n                left: 'center',\n                bottom: 0\n            };\n            break;\n        case 'top':\n            visualMapOption = {\n                orient: 'horizontal',\n                left: 'center',\n                top: 0\n            };\n            break;\n        case 'right':\n            visualMapOption = {\n                orient: 'vertical',\n                right: 0,\n                top: 'center'\n            };\n            break;\n        case 'left':\n            visualMapOption = {\n                orient: 'vertical',\n                left: -10,\n                top: 'center'\n            };\n            break;\n        default:\n            visualMapOption = {\n                orient: 'horizontal',\n                left: 'center',\n                bottom: 0\n            };\n    }\n    // 判断是否离散映射\n    const isDiscrete = config.isDiscrete;\n    let visualMapConfig = {\n        min: seriesData.reduce((min, item) => Math.min(min, item[2]), Infinity),\n        max: seriesData.reduce((max, item) => Math.max(max, item[2]), -Infinity),\n        calculable: true,\n        inRange: {\n            color: visualColors\n        },\n        ...visualMapOption\n    };\n    if (isDiscrete) {\n        visualMapConfig.type = 'piecewise';\n        // 可选：自动分段\n        const min = visualMapConfig.min;\n        const max = visualMapConfig.max;\n        const splitNumber = config.discreteSplitNumber || 5;\n        const step = (max - min) / splitNumber;\n        visualMapConfig.pieces = Array.from({ length: splitNumber }, (_, i) => ({\n            min: min + i * step,\n            max: i === splitNumber - 1 ? max : min + (i + 1) * step\n        }));\n        delete visualMapConfig.inRange; // piecewise用pieces分段\n    } else {\n        visualMapConfig.type = 'continuous';\n    }\n    return {\n        // ECharts 热力图配置\n        title: {\n            text: config.title || 'Chart of Heatmap',\n            subtext: config.subtext,\n            left: config.titlePosition === 'left' ? 'left'\n                : config.titlePosition === 'center' ? 'center'\n                    : config.titlePosition === 'right' ? 'right'\n                        : 'center', // bottom 也用 center\n            top: config.titlePosition === 'bottom' ? 'bottom' : 'top',\n            textStyle: { fontSize: 16, fontWeight: 'bold' },\n            subtextStyle: { fontSize: 12 }\n        },\n        tooltip: {\n            position: 'top'\n        },\n        xAxis: {\n            type: 'category',\n            data: xData\n        },\n        yAxis: {\n            type: 'category',\n            data: yDataArr\n        },\n        visualMap: visualMapConfig,\n        series: [{\n            name: selectedChartType.name,\n            type: 'heatmap',\n            data: seriesData,\n            label: {\n                show: config.isLabelVisible || false,\n            },\n            emphasis: {\n                itemStyle: {\n                    shadowBlur: 10,\n                    shadowColor: '#333'\n                }\n            }\n        }],\n        ...customOption\n    };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}