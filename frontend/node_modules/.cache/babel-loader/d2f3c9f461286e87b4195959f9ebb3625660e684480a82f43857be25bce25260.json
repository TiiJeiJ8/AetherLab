{"ast":null,"code":"import { ref, computed, onUnmounted } from 'vue';\nexport default {\n  __name: 'SideBar',\n  props: {\n    position: {\n      type: String,\n      default: 'left',\n      validator: v => ['left', 'right'].includes(v)\n    },\n    collapsedWidth: {\n      type: Number,\n      default: 40\n    },\n    expandedWidth: {\n      type: Number,\n      default: 200\n    },\n    autoCollapseOnMobile: {\n      type: Boolean,\n      default: true\n    },\n    mobileWidth: {\n      type: Number,\n      default: 32\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const props = __props;\n    const isCollapsed = ref(true);\n    const isHovered = ref(false);\n    const isFixed = ref(false);\n    const isMobile = ref(window.innerWidth < 768);\n    function onResize() {\n      isMobile.value = window.innerWidth < 768;\n      if (props.autoCollapseOnMobile && isMobile.value) {\n        isCollapsed.value = true;\n      }\n    }\n    window.addEventListener('resize', onResize);\n    function handleMouseEnter() {\n      if (!isFixed.value) {\n        isHovered.value = true;\n      }\n    }\n    function handleMouseLeave() {\n      isHovered.value = false;\n    }\n    const isExpanded = computed(() => !isCollapsed.value || isHovered.value);\n\n    // 动态宽度，配合动画\n    const sidebarWidth = computed(() => {\n      isExpanded.value ? props.expandedWidth : props.collapsedWidth;\n    });\n    function toggleCollapse() {\n      isCollapsed.value = !isCollapsed.value;\n    }\n    const positionClass = computed(() => {\n      return props.position === 'left' ? 'sidebar-left' : 'sidebar-right';\n    });\n    onUnmounted(() => {\n      window.removeEventListener('resize', onResize);\n    });\n    const __returned__ = {\n      props,\n      isCollapsed,\n      isHovered,\n      isFixed,\n      isMobile,\n      onResize,\n      handleMouseEnter,\n      handleMouseLeave,\n      isExpanded,\n      sidebarWidth,\n      toggleCollapse,\n      positionClass,\n      ref,\n      computed,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onUnmounted","props","__props","isCollapsed","isHovered","isFixed","isMobile","window","innerWidth","onResize","value","autoCollapseOnMobile","addEventListener","handleMouseEnter","handleMouseLeave","isExpanded","sidebarWidth","expandedWidth","collapsedWidth","toggleCollapse","positionClass","position","removeEventListener"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/SideBar.vue"],"sourcesContent":["<template>\n    <aside\n        :class=\"[\n            'sidebar',\n            positionClass,\n            { collapsed: isCollapsed, expanded: isExpanded }\n        ]\"\n        :style=\"{ width: sidebarWidth + 'px' }\"\n        @click=\"toggleCollapse\"\n        @mouseenter=\"handleMouseEnter\"\n        @mouseleave=\"handleMouseLeave\"\n    >\n        <!-- 切换按钮图标 -->\n        <span class=\"SidebarToggleBtn\" style=\"font-size: auto;\">\n            {{ isCollapsed ? 'III' : '☰' }}\n        </span>\n        <!-- 内容区域过渡动画 -->\n        <transition name=\"fade-slide\">\n            <div\n                v-show=\"isExpanded || !isCollapsed\"\n                class=\"sidebar-content\"\n                @click.stop\n            >\n                <slot />\n            </div>\n        </transition>\n    </aside>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, computed, onUnmounted } from 'vue'\n\nconst props = defineProps({\n    position: {\n        type: String,\n        default: 'left',\n        validator: v => ['left', 'right'].includes(v),\n    },\n    collapsedWidth: {\n        type: Number,\n        default: 40,\n    },\n    expandedWidth: {\n        type: Number,\n        default: 200,\n    },\n    autoCollapseOnMobile: {\n        type: Boolean,\n        default: true,\n    },\n    mobileWidth: {\n        type: Number,\n        default: 32,\n    }\n})\n\nconst isCollapsed = ref(true)\nconst isHovered = ref(false)\nconst isFixed = ref(false)\n\nconst isMobile = ref(window.innerWidth < 768)\nfunction onResize() {\n    isMobile.value = window.innerWidth < 768\n    if (props.autoCollapseOnMobile && isMobile.value) {\n        isCollapsed.value = true\n    }\n}\nwindow.addEventListener('resize', onResize)\n\nfunction handleMouseEnter() {\n    if (!isFixed.value) {\n        isHovered.value = true\n    }\n}\nfunction handleMouseLeave() {\n    isHovered.value = false\n}\n\nconst isExpanded = computed(() => !isCollapsed.value || isHovered.value)\n\n// 动态宽度，配合动画\nconst sidebarWidth = computed(() => {\n    \n    isExpanded.value ? props.expandedWidth : props.collapsedWidth\n})\n\nfunction toggleCollapse() {\n    isCollapsed.value = !isCollapsed.value\n}\n\nconst positionClass = computed(() => {\n    return props.position === 'left' ? 'sidebar-left' : 'sidebar-right'\n})\n\nonUnmounted(() => {\n    window.removeEventListener('resize', onResize)\n})\n</script>\n    \n<style scoped>\n.sidebar {\n    position: fixed;\n    top: 100px;\n    bottom: 30px;\n    background-color: var(--bg-color);\n    box-shadow: 0 0 1px var(--text-color);\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    z-index: 9998;\n    user-select: none;\n    cursor: pointer;\n    transition: width 0.4s cubic-bezier(.4,2,.6,1), box-shadow 0.3s, background-color 0.3s;\n}\n\n.sidebar-left {\n    left: 0;\n    border-radius: 0 10px 10px 0;\n}\n\n.sidebar-right {\n    right: 0;\n    border-radius: 10px 0 0 10px;\n}\n\n/* 图标按钮 */\n.SidebarToggleBtn {\n    font-size: 1.2rem;\n    padding: 8px;\n    margin: 6px;\n    align-self: flex-end;\n    pointer-events: none;\n    user-select: none;\n    color: var(--text-color);\n}\n\n/* 内容区域 */\n.sidebar-content {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 12px 16px;\n    color: var(--text-color);\n    pointer-events: auto;\n    cursor: default;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n.sidebar-content::-webkit-scrollbar {\n    width: 8px;\n    background: transparent;\n}\n\n/* 进入/离开动画 */\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n    transition: all 0.3s ease;\n}\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n    opacity: 0;\n    transform: translateY(-10px);\n}\n\n/* 小屏自动折叠 */\n@media (max-width: 767px) {\n    .sidebar {\n        top: 80px;\n        width: var(--collapsed-width) !important;\n        height: 30%;\n    }\n}\n</style>\n"],"mappings":"AA+BA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAD/C;IAGA,MAAMC,KAAK,GAAGC,OAAA;IAwBd,MAAMC,WAAW,GAAGL,GAAG,CAAC,IAAI;IAC5B,MAAMM,SAAS,GAAGN,GAAG,CAAC,KAAK;IAC3B,MAAMO,OAAO,GAAGP,GAAG,CAAC,KAAK;IAEzB,MAAMQ,QAAQ,GAAGR,GAAG,CAACS,MAAM,CAACC,UAAU,GAAG,GAAG;IAC5C,SAASC,QAAQA,CAAA,EAAG;MAChBH,QAAQ,CAACI,KAAK,GAAGH,MAAM,CAACC,UAAU,GAAG,GAAE;MACvC,IAAIP,KAAK,CAACU,oBAAoB,IAAIL,QAAQ,CAACI,KAAK,EAAE;QAC9CP,WAAW,CAACO,KAAK,GAAG,IAAG;MAC3B;IACJ;IACAH,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAEH,QAAQ;IAE1C,SAASI,gBAAgBA,CAAA,EAAG;MACxB,IAAI,CAACR,OAAO,CAACK,KAAK,EAAE;QAChBN,SAAS,CAACM,KAAK,GAAG,IAAG;MACzB;IACJ;IACA,SAASI,gBAAgBA,CAAA,EAAG;MACxBV,SAAS,CAACM,KAAK,GAAG,KAAI;IAC1B;IAEA,MAAMK,UAAU,GAAGhB,QAAQ,CAAC,MAAM,CAACI,WAAW,CAACO,KAAK,IAAIN,SAAS,CAACM,KAAK;;IAEvE;IACA,MAAMM,YAAY,GAAGjB,QAAQ,CAAC,MAAM;MAEhCgB,UAAU,CAACL,KAAK,GAAGT,KAAK,CAACgB,aAAa,GAAGhB,KAAK,CAACiB,cAAa;IAChE,CAAC;IAED,SAASC,cAAcA,CAAA,EAAG;MACtBhB,WAAW,CAACO,KAAK,GAAG,CAACP,WAAW,CAACO,KAAI;IACzC;IAEA,MAAMU,aAAa,GAAGrB,QAAQ,CAAC,MAAM;MACjC,OAAOE,KAAK,CAACoB,QAAQ,KAAK,MAAM,GAAG,cAAc,GAAG,eAAc;IACtE,CAAC;IAEDrB,WAAW,CAAC,MAAM;MACdO,MAAM,CAACe,mBAAmB,CAAC,QAAQ,EAAEb,QAAQ;IACjD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}