{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, createBlock as _createBlock, Transition as _Transition, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"file-content\"\n};\nconst _hoisted_2 = {\n  class: \"file-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-left\"\n};\nconst _hoisted_4 = {\n  class: \"connection-status\"\n};\nconst _hoisted_5 = {\n  class: \"status-text\"\n};\nconst _hoisted_6 = {\n  class: \"header-right\"\n};\nconst _hoisted_7 = [\"innerHTML\"];\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = {\n  class: \"main-content\"\n};\nconst _hoisted_10 = {\n  class: \"upload-section\"\n};\nconst _hoisted_11 = {\n  class: \"upload-tip\"\n};\nconst _hoisted_12 = [\"innerHTML\"];\nconst _hoisted_13 = {\n  class: \"file-section\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"stats-bar\"\n};\nconst _hoisted_15 = {\n  class: \"stat-item\"\n};\nconst _hoisted_16 = {\n  class: \"stat-value\"\n};\nconst _hoisted_17 = {\n  class: \"stat-item\"\n};\nconst _hoisted_18 = {\n  class: \"stat-value\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"stat-item\"\n};\nconst _hoisted_20 = {\n  class: \"stat-value\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  class: \"file-list\"\n};\nconst _hoisted_22 = {\n  class: \"file-info\"\n};\nconst _hoisted_23 = {\n  class: \"file-basic\"\n};\nconst _hoisted_24 = {\n  class: \"file-name-section\"\n};\nconst _hoisted_25 = [\"title\", \"onDblclick\"];\nconst _hoisted_26 = [\"onUpdate:modelValue\", \"onBlur\", \"onKeyup\"];\nconst _hoisted_27 = [\"innerHTML\"];\nconst _hoisted_28 = {\n  key: 0,\n  class: \"upload-progress\"\n};\nconst _hoisted_29 = {\n  class: \"progress-bar\"\n};\nconst _hoisted_30 = {\n  class: \"progress-text\"\n};\nconst _hoisted_31 = {\n  key: 0,\n  class: \"operating-mark\",\n  title: \"File is being operated\"\n};\nconst _hoisted_32 = {\n  class: \"file-details\"\n};\nconst _hoisted_33 = {\n  class: \"file-size\"\n};\nconst _hoisted_34 = {\n  class: \"file-type\"\n};\nconst _hoisted_35 = {\n  key: 0,\n  class: \"file-dimensions\"\n};\nconst _hoisted_36 = {\n  class: \"file-created\"\n};\nconst _hoisted_37 = {\n  class: \"file-actions\"\n};\nconst _hoisted_38 = [\"onClick\", \"disabled\"];\nconst _hoisted_39 = [\"innerHTML\"];\nconst _hoisted_40 = [\"onClick\"];\nconst _hoisted_41 = [\"innerHTML\"];\nconst _hoisted_42 = [\"onClick\", \"disabled\"];\nconst _hoisted_43 = [\"innerHTML\"];\nconst _hoisted_44 = [\"onClick\"];\nconst _hoisted_45 = [\"innerHTML\"];\nconst _hoisted_46 = {\n  key: 2,\n  class: \"no-files\"\n};\nconst _hoisted_47 = {\n  key: 3,\n  class: \"loading\"\n};\nconst _hoisted_48 = {\n  key: 0,\n  class: \"workspace-management\"\n};\nconst _hoisted_49 = {\n  class: \"workspace-header\"\n};\nconst _hoisted_50 = {\n  class: \"workspace-title\"\n};\nconst _hoisted_51 = {\n  class: \"workspace-count\"\n};\nconst _hoisted_52 = [\"innerHTML\"];\nconst _hoisted_53 = {\n  class: \"workspace-file-list\"\n};\nconst _hoisted_54 = [\"title\"];\nconst _hoisted_55 = {\n  class: \"workspace-file-actions\"\n};\nconst _hoisted_56 = [\"onClick\"];\nconst _hoisted_57 = [\"innerHTML\"];\nconst _hoisted_58 = [\"onClick\"];\nconst _hoisted_59 = [\"innerHTML\"];\nimport { ref, nextTick, onMounted, computed, watch } from 'vue';\nimport DataPreviewModal from './DataPreviewModal.vue';\nimport { getThemeIcon } from '../assets/JS/icons.js';\nimport { uploadFile, deleteFile, renameFile, getFilePreview, getAllFiles, checkBackendConnection, getBackendStatus, syncFileToBackend } from '../services/FileServices.js';\nexport default {\n  __name: 'FileUploadModal',\n  props: {\n    show: Boolean,\n    workspaceFiles: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: ['close', 'workspace-updated'],\n  setup(__props, {\n    emit: __emit\n  }) {\n    /* eslint-disable */\n    const props = __props;\n    const emit = __emit;\n    const isDragging = ref(false);\n    const files = ref([]);\n    const workspaceFiles = ref([]);\n    const showPreview = ref(false);\n    const currentPreviewFile = ref(null);\n    const previewData = ref([]);\n    const isBackendConnected = ref(false);\n    const isLoading = ref(false);\n\n    // ÁõëÂê¨ props ‰∏≠ÁöÑÂ∑•‰ΩúÂå∫Êñá‰ª∂ÂèòÂåñ\n    watch(() => props.workspaceFiles, newFiles => {\n      console.log('FileUploadModal: workspaceFiles prop changed:', newFiles);\n      if (newFiles) {\n        workspaceFiles.value = [...newFiles];\n      }\n    }, {\n      immediate: true\n    });\n\n    // ËÆ°ÁÆóÁªüËÆ°‰ø°ÊÅØ\n    const stats = computed(() => {\n      const totalFiles = files.value.length;\n      const totalSize = files.value.reduce((sum, file) => sum + (file.size || 0), 0);\n      const notUploadedCount = files.value.filter(file => file.status === 'local').length;\n      return {\n        totalFiles,\n        totalSize: formatFileSize(totalSize),\n        notUploadedCount\n      };\n    });\n\n    // È°µÈù¢Âä†ËΩΩÊó∂Ê£ÄÊü•ÂêéÁ´ØËøûÊé•Âπ∂Âä†ËΩΩÊñá‰ª∂\n    onMounted(async () => {\n      await checkConnectionStatus();\n      await loadFiles();\n    });\n\n    // Ê£ÄÊü•ÂêéÁ´ØËøûÊé•Áä∂ÊÄÅ\n    async function checkConnectionStatus() {\n      isBackendConnected.value = await checkBackendConnection();\n    }\n\n    // Âä†ËΩΩÊâÄÊúâÊñá‰ª∂\n    async function loadFiles() {\n      isLoading.value = true;\n      try {\n        const allFiles = await getAllFiles();\n        files.value = allFiles.map(file => ({\n          ...file,\n          isEditing: false,\n          newName: file.name\n        }));\n      } catch (error) {\n        console.error('Load files failed:', error);\n      } finally {\n        isLoading.value = false;\n      }\n    }\n\n    // Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è\n    function formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    }\n\n    // Ëß¶ÂèëÊñá‰ª∂ÈÄâÊã©\n    function triggerFileInput() {\n      document.querySelector('.file-input').click();\n    }\n\n    // Â§ÑÁêÜÊñá‰ª∂ÈÄâÊã©\n    async function handleFileSelect(event) {\n      const newFiles = Array.from(event.target.files);\n      await processFiles(newFiles);\n    }\n\n    // Â§ÑÁêÜÊãñÊãΩ\n    async function handleDrop(event) {\n      isDragging.value = false;\n      const newFiles = Array.from(event.dataTransfer.files);\n      await processFiles(newFiles);\n    }\n\n    // ÈáçÂëΩÂêçÁõ∏ÂÖ≥\n    function startRename(idx) {\n      files.value[idx].isEditing = true;\n      files.value[idx].newName = files.value[idx].name;\n      nextTick(() => {\n        const inputs = document.querySelectorAll('.file-item input');\n        if (inputs[idx]) {\n          inputs[idx].focus();\n        }\n      });\n    }\n    async function finishRename(idx) {\n      const file = files.value[idx];\n      if (file.newName && file.newName !== file.name) {\n        try {\n          await renameFile(file.id, file.newName);\n          file.name = file.newName;\n        } catch (error) {\n          console.error('Rename failed:', error);\n          alert('Rename failed: ' + error.message);\n          file.newName = file.name;\n        }\n      }\n      file.isEditing = false;\n    }\n\n    // Âà†Èô§Êñá‰ª∂\n    async function unloadFile(idx) {\n      const file = files.value[idx];\n      if (confirm(`Are you sure you want to delete file \"${file.name}\"?`)) {\n        try {\n          await deleteFile(file.id);\n          files.value.splice(idx, 1);\n        } catch (error) {\n          console.error('Delete failed:', error);\n          alert('Delete failed: ' + error.message);\n        }\n      }\n    }\n\n    // ÂêåÊ≠•Êñá‰ª∂Âà∞ÂêéÁ´Ø\n    async function syncFile(idx) {\n      const file = files.value[idx];\n      try {\n        file.status = 'uploading';\n        const syncedFile = await syncFileToBackend(file.id);\n        files.value[idx] = {\n          ...syncedFile,\n          isEditing: false,\n          newName: syncedFile.name\n        };\n      } catch (error) {\n        console.error('Sync failed:', error);\n        alert('Sync failed: ' + error.message);\n        file.status = 'local';\n      }\n    }\n\n    // Ëé∑ÂèñÊñá‰ª∂ËØ¶ÁªÜ‰ø°ÊÅØ\n    function getFileDetails(file) {\n      return {\n        name: file.name,\n        size: formatFileSize(file.size),\n        rows: file.rows || 0,\n        columns: file.columns || 0,\n        type: file.name.split('.').pop().toUpperCase(),\n        status: getStatusText(file.status),\n        id: file.id,\n        createdAt: new Date(file.createdAt).toLocaleString()\n      };\n    }\n\n    // È¢ÑËßàÊñá‰ª∂\n    async function previewFile(idx) {\n      const file = files.value[idx];\n      try {\n        const previewResult = await getFilePreview(file.id);\n        currentPreviewFile.value = file;\n        previewData.value = previewResult.data;\n        showPreview.value = true;\n      } catch (error) {\n        console.error('Preview failed:', error);\n        alert('Preview failed: ' + error.message);\n      }\n    }\n    function closePreview() {\n      showPreview.value = false;\n      currentPreviewFile.value = null;\n      previewData.value = [];\n    }\n    function onClose() {\n      emit('close');\n    }\n\n    // Ëé∑ÂèñÁä∂ÊÄÅÊñáÊú¨\n    function getStatusText(status) {\n      const statusMap = {\n        'local': 'Local Cache',\n        'uploading': 'Uploading',\n        'uploaded': 'Uploaded',\n        'operating': 'Operating',\n        'error': 'Error'\n      };\n      return statusMap[status] || 'Unknown';\n    }\n\n    // Ëé∑ÂèñÁä∂ÊÄÅÂõæÊ†á (SVG)\n    function getStatusIcon(status) {\n      const iconMap = {\n        'local': 'localCache',\n        'uploading': 'uploading',\n        'uploaded': 'uploaded',\n        'operating': 'sync',\n        'error': 'error'\n      };\n      const iconName = iconMap[status] || 'unknown';\n      return getThemeIcon(iconName);\n    }\n\n    // Â∑•‰ΩúÂå∫Áõ∏ÂÖ≥ÊñπÊ≥ï\n    function addToWorkspace(idx) {\n      const file = files.value[idx];\n      console.log('Adding file to workspace:', file.name);\n\n      // Ê£ÄÊü•ÊòØÂê¶Â∑≤Âú®Â∑•‰ΩúÂå∫\n      if (isInWorkspace(file.id)) {\n        alert('File is already in workspace');\n        return;\n      }\n\n      // Â¶ÇÊûúÊòØÂ∑≤‰∏ä‰º†ÁöÑÊñá‰ª∂ÔºåËÆæÁΩÆ‰∏∫Êìç‰ΩúÁä∂ÊÄÅ\n      if (file.status === 'uploaded') {\n        file.status = 'operating';\n      }\n\n      // Ê∑ªÂä†Âà∞Â∑•‰ΩúÂå∫\n      workspaceFiles.value.push({\n        ...file\n      });\n      console.log('Workspace files after adding:', workspaceFiles.value.length);\n\n      // ÈÄöÁü•Áà∂ÁªÑ‰ª∂Â∑•‰ΩúÂå∫Êõ¥Êñ∞\n      emit('workspace-updated', workspaceFiles.value);\n    }\n    function removeFromWorkspace(idx) {\n      const file = workspaceFiles.value[idx];\n\n      // Â¶ÇÊûúÊòØÊìç‰ΩúÁä∂ÊÄÅÁöÑÊñá‰ª∂ÔºåÊÅ¢Â§ç‰∏∫Â∑≤‰∏ä‰º†Áä∂ÊÄÅ\n      if (file.status === 'operating') {\n        const originalFile = files.value.find(f => f.id === file.id);\n        if (originalFile) {\n          originalFile.status = 'uploaded';\n        }\n      }\n\n      // ‰ªéÂ∑•‰ΩúÂå∫ÁßªÈô§\n      workspaceFiles.value.splice(idx, 1);\n\n      // ÈÄöÁü•Áà∂ÁªÑ‰ª∂Â∑•‰ΩúÂå∫Êõ¥Êñ∞\n      emit('workspace-updated', workspaceFiles.value);\n    }\n    function clearWorkspace() {\n      // ÊÅ¢Â§çÊâÄÊúâÊìç‰ΩúÁä∂ÊÄÅÁöÑÊñá‰ª∂\n      workspaceFiles.value.forEach(workspaceFile => {\n        if (workspaceFile.status === 'operating') {\n          const originalFile = files.value.find(f => f.id === workspaceFile.id);\n          if (originalFile) {\n            originalFile.status = 'uploaded';\n          }\n        }\n      });\n\n      // Ê∏ÖÁ©∫Â∑•‰ΩúÂå∫\n      workspaceFiles.value = [];\n\n      // ÈÄöÁü•Áà∂ÁªÑ‰ª∂Â∑•‰ΩúÂå∫Êõ¥Êñ∞\n      emit('workspace-updated', workspaceFiles.value);\n    }\n    function isInWorkspace(fileId) {\n      return workspaceFiles.value.some(file => file.id === fileId);\n    }\n    function previewWorkspaceFile(idx) {\n      const file = workspaceFiles.value[idx];\n      previewFile(files.value.findIndex(f => f.id === file.id));\n    }\n\n    // ÊâπÈáèÂêåÊ≠•ÊâÄÊúâÊú¨Âú∞Êñá‰ª∂\n    async function syncAllFiles() {\n      const localFiles = files.value.filter(file => file.status === 'local');\n      if (localFiles.length === 0) {\n        alert('No files to sync');\n        return;\n      }\n      if (!isBackendConnected.value) {\n        alert('Backend not connected, unable to sync');\n        return;\n      }\n      if (confirm(`Are you sure you want to sync ${localFiles.length} files to the backend?`)) {\n        for (let i = 0; i < localFiles.length; i++) {\n          const fileIndex = files.value.findIndex(f => f.id === localFiles[i].id);\n          if (fileIndex !== -1) {\n            await syncFile(fileIndex);\n          }\n        }\n      }\n    }\n\n    // Âà∑Êñ∞Êñá‰ª∂ÂàóË°®\n    async function refreshFiles() {\n      await checkConnectionStatus();\n      await loadFiles();\n    }\n\n    // Â§ÑÁêÜÊñá‰ª∂\n    async function processFiles(newFiles) {\n      const validFiles = newFiles.filter(file => {\n        const ext = file.name.split('.').pop().toLowerCase();\n        return ['csv', 'xlsx', 'xls'].includes(ext);\n      });\n      if (validFiles.length !== newFiles.length) {\n        alert('Only CSV, XLSX, XLS format files are supported');\n      }\n      for (const file of validFiles) {\n        try {\n          // Ê∑ªÂä†Êñá‰ª∂Âà∞ÂàóË°®ÔºàÊ≠£Âú®‰∏ä‰º†Áä∂ÊÄÅÔºâ\n          const fileItem = {\n            id: Date.now() + Math.random(),\n            name: file.name,\n            size: file.size,\n            status: 'uploading',\n            isEditing: false,\n            newName: file.name,\n            rows: 0,\n            columns: 0,\n            createdAt: new Date().toISOString(),\n            progress: 0 // Ê∑ªÂä†ËøõÂ∫¶Â≠óÊÆµ\n          };\n          files.value.push(fileItem);\n\n          // Ë∞ÉÁî®Êô∫ËÉΩ‰∏ä‰º† API Âπ∂‰º†ÈÄíËøõÂ∫¶ÂõûË∞É\n          const uploadedFile = await uploadFile(file, progress => {\n            // Êõ¥Êñ∞ËøõÂ∫¶\n            const index = files.value.findIndex(f => f.id === fileItem.id);\n            if (index !== -1) {\n              files.value[index].progress = progress;\n            }\n          });\n\n          // Êõ¥Êñ∞Êñá‰ª∂Áä∂ÊÄÅ\n          const index = files.value.findIndex(f => f.id === fileItem.id);\n          if (index !== -1) {\n            files.value[index] = {\n              ...uploadedFile,\n              isEditing: false,\n              newName: uploadedFile.name,\n              progress: 100\n            };\n          }\n        } catch (error) {\n          console.error('File processing failed:', error);\n          // Êõ¥Êñ∞Â§±Ë¥•Áä∂ÊÄÅ\n          const index = files.value.findIndex(f => f.name === file.name);\n          if (index !== -1) {\n            files.value[index].status = 'error';\n            files.value[index].progress = 0;\n          }\n        }\n      }\n    }\n    return (_ctx, _cache) => {\n      return _openBlock(), _createBlock(_Transition, {\n        name: \"modal-expand\",\n        appear: \"\"\n      }, {\n        default: _withCtx(() => [__props.show ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"file-modal\",\n          onClick: _withModifiers(onClose, [\"self\"])\n        }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"File Manager\", -1)), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", {\n          class: _normalizeClass([\"status-dot\", {\n            'connected': isBackendConnected.value\n          }])\n        }, null, 2), _createElementVNode(\"span\", _hoisted_5, _toDisplayString(isBackendConnected.value ? 'Connected' : 'Offline'), 1)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n          class: \"refresh-btn\",\n          onClick: refreshFiles,\n          title: \"Refresh file list\"\n        }, [_createElementVNode(\"span\", {\n          innerHTML: _unref(getThemeIcon)('refresh')\n        }, null, 8, _hoisted_7)]), stats.value.notUploadedCount > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n          key: 0,\n          class: \"sync-all-btn\",\n          onClick: syncAllFiles,\n          disabled: !isBackendConnected.value,\n          title: \"Sync all files to backend\"\n        }, \" Sync All (\" + _toDisplayString(stats.value.notUploadedCount) + \") \", 9, _hoisted_8)) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n          class: \"close-btn\",\n          onClick: onClose\n        }, \"√ó\")])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", {\n          class: _normalizeClass([\"upload-area\", {\n            'dragging': isDragging.value\n          }]),\n          onDrop: _withModifiers(handleDrop, [\"prevent\"]),\n          onDragover: _cache[0] || (_cache[0] = _withModifiers($event => isDragging.value = true, [\"prevent\"])),\n          onDragleave: _cache[1] || (_cache[1] = _withModifiers($event => isDragging.value = false, [\"prevent\"]))\n        }, [_createElementVNode(\"input\", {\n          type: \"file\",\n          ref: \"fileInput\",\n          onChange: handleFileSelect,\n          accept: \".csv,.xlsx,.xls\",\n          multiple: \"\",\n          class: \"file-input\"\n        }, null, 544), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", {\n          class: \"upload-icon\",\n          innerHTML: _unref(getThemeIcon)('upload')\n        }, null, 8, _hoisted_12), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createTextVNode(\"Drag files here or \")), _createElementVNode(\"button\", {\n          onClick: triggerFileInput\n        }, \"Click to select\")]), _cache[4] || (_cache[4] = _createElementVNode(\"p\", {\n          class: \"sub-tip\"\n        }, \"Supports CSV„ÄÅXLSX„ÄÅXLS formats\", -1))])], 34)]), _createElementVNode(\"div\", _hoisted_13, [files.value.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_cache[5] || (_cache[5] = _createElementVNode(\"span\", {\n          class: \"stat-label\"\n        }, \"Total Files:\", -1)), _createElementVNode(\"span\", _hoisted_16, _toDisplayString(stats.value.totalFiles), 1)]), _createElementVNode(\"div\", _hoisted_17, [_cache[6] || (_cache[6] = _createElementVNode(\"span\", {\n          class: \"stat-label\"\n        }, \"Total Size:\", -1)), _createElementVNode(\"span\", _hoisted_18, _toDisplayString(stats.value.totalSize), 1)]), stats.value.notUploadedCount > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n          class: \"stat-label\"\n        }, \"Not Uploaded:\", -1)), _createElementVNode(\"span\", _hoisted_20, _toDisplayString(stats.value.notUploadedCount), 1)])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true), files.value.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(files.value, (file, idx) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: file.id,\n            class: \"file-item\"\n          }, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_createElementVNode(\"span\", {\n            class: _normalizeClass([\"file-name\", {\n              'editing': file.isEditing\n            }]),\n            title: file.name,\n            onDblclick: $event => startRename(idx)\n          }, [!file.isEditing ? (_openBlock(), _createElementBlock(_Fragment, {\n            key: 0\n          }, [_createTextVNode(_toDisplayString(file.name), 1)], 64)) : _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n            key: 1,\n            \"onUpdate:modelValue\": $event => file.newName = $event,\n            onBlur: $event => finishRename(idx),\n            onKeyup: _withKeys($event => finishRename(idx), [\"enter\"]),\n            ref_for: true,\n            ref: \"renameInput\",\n            type: \"text\"\n          }, null, 40, _hoisted_26)), [[_vModelText, file.newName]])], 42, _hoisted_25), _createElementVNode(\"span\", {\n            class: _normalizeClass([\"file-status\", file.status])\n          }, [_createElementVNode(\"span\", {\n            innerHTML: getStatusIcon(file.status)\n          }, null, 8, _hoisted_27), _createTextVNode(\" \" + _toDisplayString(getStatusText(file.status)) + \" \", 1), file.status === 'uploading' && file.progress !== undefined ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", {\n            class: \"progress-fill\",\n            style: _normalizeStyle({\n              width: file.progress + '%'\n            })\n          }, null, 4)]), _createElementVNode(\"span\", _hoisted_30, _toDisplayString(file.progress) + \"%\", 1)])) : _createCommentVNode(\"\", true)], 2), file.status === 'operating' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_31)) : _createCommentVNode(\"\", true)]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"span\", _hoisted_33, _toDisplayString(formatFileSize(file.size)), 1), _createElementVNode(\"span\", _hoisted_34, _toDisplayString(file.name.split('.').pop().toUpperCase()), 1), file.rows && file.columns ? (_openBlock(), _createElementBlock(\"span\", _hoisted_35, _toDisplayString(file.rows) + \" x \" + _toDisplayString(file.columns), 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"span\", _hoisted_36, _toDisplayString(new Date(file.createdAt).toLocaleString()), 1)])])]), _createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"button\", {\n            onClick: $event => addToWorkspace(idx),\n            title: \"Add to workspace\",\n            class: \"action-btn workspace-btn\",\n            disabled: isInWorkspace(file.id)\n          }, [_createElementVNode(\"span\", {\n            innerHTML: _unref(getThemeIcon)('folder')\n          }, null, 8, _hoisted_39)], 8, _hoisted_38), _createElementVNode(\"button\", {\n            onClick: $event => previewFile(idx),\n            title: \"Preview data\",\n            class: \"action-btn preview-btn\"\n          }, [_createElementVNode(\"span\", {\n            innerHTML: _unref(getThemeIcon)('preview')\n          }, null, 8, _hoisted_41)], 8, _hoisted_40), file.status === 'local' ? (_openBlock(), _createElementBlock(\"button\", {\n            key: 0,\n            onClick: $event => syncFile(idx),\n            title: \"Sync to backend\",\n            class: \"action-btn sync-btn\",\n            disabled: !isBackendConnected.value\n          }, [_createElementVNode(\"span\", {\n            innerHTML: _unref(getThemeIcon)('sync')\n          }, null, 8, _hoisted_43)], 8, _hoisted_42)) : _createCommentVNode(\"\", true), _createElementVNode(\"button\", {\n            onClick: $event => unloadFile(idx),\n            title: \"Delete file\",\n            class: \"action-btn delete-btn\"\n          }, [_createElementVNode(\"span\", {\n            innerHTML: _unref(getThemeIcon)('delete')\n          }, null, 8, _hoisted_45)], 8, _hoisted_44)])]);\n        }), 128))])) : !isLoading.value ? (_openBlock(), _createElementBlock(\"div\", _hoisted_46, _cache[8] || (_cache[8] = [_createElementVNode(\"p\", null, \"No files yet, please upload files on the left\", -1)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_47, _cache[9] || (_cache[9] = [_createElementVNode(\"p\", null, \"Loading...\", -1)])))])]), workspaceFiles.value.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_48, [_createElementVNode(\"div\", _hoisted_49, [_createElementVNode(\"div\", _hoisted_50, [_cache[10] || (_cache[10] = _createElementVNode(\"span\", {\n          class: \"workspace-icon\"\n        }, \"üìÅ\", -1)), _createElementVNode(\"span\", _hoisted_51, _toDisplayString(workspaceFiles.value.length), 1)]), _createElementVNode(\"button\", {\n          class: \"clear-workspace-btn\",\n          onClick: clearWorkspace,\n          title: \"Clear all files\"\n        }, [_createElementVNode(\"span\", {\n          innerHTML: _unref(getThemeIcon)('delete')\n        }, null, 8, _hoisted_52)])]), _createElementVNode(\"div\", _hoisted_53, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(workspaceFiles.value, (file, idx) => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: file.id,\n            class: \"workspace-file-item\"\n          }, [_createElementVNode(\"div\", {\n            class: \"workspace-file-name\",\n            title: file.name\n          }, _toDisplayString(file.name), 9, _hoisted_54), _createElementVNode(\"div\", _hoisted_55, [_createElementVNode(\"button\", {\n            onClick: $event => previewWorkspaceFile(idx),\n            title: \"Preview\",\n            class: \"workspace-action-btn\"\n          }, [_createElementVNode(\"span\", {\n            innerHTML: _unref(getThemeIcon)('preview')\n          }, null, 8, _hoisted_57)], 8, _hoisted_56), _createElementVNode(\"button\", {\n            onClick: $event => removeFromWorkspace(idx),\n            title: \"Remove\",\n            class: \"workspace-action-btn\"\n          }, [_createElementVNode(\"span\", {\n            innerHTML: _unref(getThemeIcon)('delete')\n          }, null, 8, _hoisted_59)], 8, _hoisted_58)])]);\n        }), 128))])])) : _createCommentVNode(\"\", true)]), currentPreviewFile.value ? (_openBlock(), _createBlock(DataPreviewModal, {\n          key: 0,\n          show: showPreview.value,\n          \"current-file\": currentPreviewFile.value,\n          \"preview-data\": previewData.value,\n          \"is-side-preview\": true,\n          onClose: closePreview\n        }, null, 8, [\"show\", \"current-file\", \"preview-data\"])) : _createCommentVNode(\"\", true)])) : _createCommentVNode(\"\", true)]),\n        _: 1\n      });\n    };\n  }\n};","map":{"version":3,"names":["ref","nextTick","onMounted","computed","watch","DataPreviewModal","getThemeIcon","uploadFile","deleteFile","renameFile","getFilePreview","getAllFiles","checkBackendConnection","getBackendStatus","syncFileToBackend","props","__props","emit","__emit","isDragging","files","workspaceFiles","showPreview","currentPreviewFile","previewData","isBackendConnected","isLoading","newFiles","console","log","value","immediate","stats","totalFiles","length","totalSize","reduce","sum","file","size","notUploadedCount","filter","status","formatFileSize","checkConnectionStatus","loadFiles","allFiles","map","isEditing","newName","name","error","bytes","k","sizes","i","Math","floor","parseFloat","pow","toFixed","triggerFileInput","document","querySelector","click","handleFileSelect","event","Array","from","target","processFiles","handleDrop","dataTransfer","startRename","idx","inputs","querySelectorAll","focus","finishRename","id","alert","message","unloadFile","confirm","splice","syncFile","syncedFile","getFileDetails","rows","columns","type","split","pop","toUpperCase","getStatusText","createdAt","Date","toLocaleString","previewFile","previewResult","data","closePreview","onClose","statusMap","getStatusIcon","iconMap","iconName","addToWorkspace","isInWorkspace","push","removeFromWorkspace","originalFile","find","f","clearWorkspace","forEach","workspaceFile","fileId","some","previewWorkspaceFile","findIndex","syncAllFiles","localFiles","fileIndex","refreshFiles","validFiles","ext","toLowerCase","includes","fileItem","now","random","toISOString","progress","uploadedFile","index"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/FileUploadModal.vue"],"sourcesContent":["<template>\n<transition name=\"modal-expand\" appear>\n    <div v-if=\"show\" class=\"file-modal\" @click.self=\"onClose\">\n        <div class=\"file-content\">\n            <div class=\"file-header\">\n                <div class=\"header-left\">\n                    <span>File Manager</span>\n                    <div class=\"connection-status\">\n                        <span class=\"status-dot\" :class=\"{ 'connected': isBackendConnected }\"></span>\n                        <span class=\"status-text\">{{ isBackendConnected ? 'Connected' : 'Offline' }}</span>\n                    </div>\n                </div>\n                <div class=\"header-right\">\n                    <button class=\"refresh-btn\" @click=\"refreshFiles\" title=\"Refresh file list\">\n                        <span v-html=\"getThemeIcon('refresh')\"></span>\n                    </button>\n                    <button v-if=\"stats.notUploadedCount > 0\"\n                            class=\"sync-all-btn\"\n                            @click=\"syncAllFiles\"\n                            :disabled=\"!isBackendConnected\"\n                            title=\"Sync all files to backend\">\n                        Sync All ({{ stats.notUploadedCount }})\n                    </button>\n                    <button class=\"close-btn\" @click=\"onClose\">√ó</button>\n                </div>\n            </div>\n\n            <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->\n            <div class=\"main-content\">\n                <!-- Â∑¶‰æßÔºöÊãñÊãΩ‰∏ä‰º†Âå∫Âüü -->\n                <div class=\"upload-section\">\n                    <div class=\"upload-area\"\n                            :class=\"{ 'dragging': isDragging }\"\n                            @drop.prevent=\"handleDrop\"\n                            @dragover.prevent=\"isDragging = true\"\n                            @dragleave.prevent=\"isDragging = false\">\n                        <input type=\"file\"\n                                ref=\"fileInput\"\n                                @change=\"handleFileSelect\"\n                                accept=\".csv,.xlsx,.xls\"\n                                multiple\n                                class=\"file-input\" />\n                        <div class=\"upload-tip\">\n                            <div class=\"upload-icon\" v-html=\"getThemeIcon('upload')\"></div>\n                            <p>Drag files here or <button @click=\"triggerFileInput\">Click to select</button></p>\n                            <p class=\"sub-tip\">Supports CSV„ÄÅXLSX„ÄÅXLS formats</p>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Âè≥‰æßÔºöÊñá‰ª∂ÂàóË°® -->\n                <div class=\"file-section\">\n                    <!-- ÁªüËÆ°‰ø°ÊÅØ -->\n                    <div class=\"stats-bar\" v-if=\"files.length\">\n                        <div class=\"stat-item\">\n                            <span class=\"stat-label\">Total Files:</span>\n                            <span class=\"stat-value\">{{ stats.totalFiles }}</span>\n                        </div>\n                        <div class=\"stat-item\">\n                            <span class=\"stat-label\">Total Size:</span>\n                            <span class=\"stat-value\">{{ stats.totalSize }}</span>\n                        </div>\n                        <div class=\"stat-item\" v-if=\"stats.notUploadedCount > 0\">\n                            <span class=\"stat-label\">Not Uploaded:</span>\n                            <span class=\"stat-value\">{{ stats.notUploadedCount }}</span>\n                        </div>\n                    </div>\n\n                    <!-- Êñá‰ª∂ÂàóË°® -->\n                    <div class=\"file-list\" v-if=\"files.length\">\n                        <div v-for=\"(file, idx) in files\"\n                                :key=\"file.id\"\n                                class=\"file-item\">\n                            <div class=\"file-info\">\n                                <div class=\"file-basic\">\n                                    <div class=\"file-name-section\">\n                                        <span class=\"file-name\"\n                                                :class=\"{ 'editing': file.isEditing }\"\n                                                :title=\"file.name\"\n                                                @dblclick=\"startRename(idx)\">\n                                            <template v-if=\"!file.isEditing\">\n                                                {{ file.name }}\n                                            </template>\n                                            <input v-else\n                                                    v-model=\"file.newName\"\n                                                    @blur=\"finishRename(idx)\"\n                                                    @keyup.enter=\"finishRename(idx)\"\n                                                    ref=\"renameInput\"\n                                                    type=\"text\" />\n                                        </span>\n                                        <span class=\"file-status\" :class=\"file.status\">\n                                            <span v-html=\"getStatusIcon(file.status)\"></span>\n                                            {{ getStatusText(file.status) }}\n                                            <!-- ‰∏ä‰º†ËøõÂ∫¶Êù° -->\n                                            <div v-if=\"file.status === 'uploading' && file.progress !== undefined\"\n                                                 class=\"upload-progress\">\n                                                <div class=\"progress-bar\">\n                                                    <div class=\"progress-fill\"\n                                                         :style=\"{ width: file.progress + '%' }\"></div>\n                                                </div>\n                                                <span class=\"progress-text\">{{ file.progress }}%</span>\n                                            </div>\n                                        </span>\n                                        <!-- Êìç‰ΩúÁä∂ÊÄÅÊ†áËÆ∞ -->\n                                        <div v-if=\"file.status === 'operating'\" class=\"operating-mark\" title=\"File is being operated\"></div>\n                                    </div>\n                                    <div class=\"file-details\">\n                                        <span class=\"file-size\">{{ formatFileSize(file.size) }}</span>\n                                        <span class=\"file-type\">{{ file.name.split('.').pop().toUpperCase() }}</span>\n                                        <span class=\"file-dimensions\" v-if=\"file.rows && file.columns\">\n                                            {{ file.rows }} x {{ file.columns }}\n                                        </span>\n                                        <span class=\"file-created\">\n                                            {{ new Date(file.createdAt).toLocaleString() }}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"file-actions\">\n                                <button @click=\"addToWorkspace(idx)\"\n                                        title=\"Add to workspace\"\n                                        class=\"action-btn workspace-btn\"\n                                        :disabled=\"isInWorkspace(file.id)\">\n                                    <span v-html=\"getThemeIcon('folder')\"></span>\n                                </button>\n                                <button @click=\"previewFile(idx)\"\n                                        title=\"Preview data\"\n                                        class=\"action-btn preview-btn\">\n                                    <span v-html=\"getThemeIcon('preview')\"></span>\n                                </button>\n                                <button v-if=\"file.status === 'local'\"\n                                        @click=\"syncFile(idx)\"\n                                        title=\"Sync to backend\"\n                                        class=\"action-btn sync-btn\"\n                                        :disabled=\"!isBackendConnected\">\n                                    <span v-html=\"getThemeIcon('sync')\"></span>\n                                </button>\n                                <button @click=\"unloadFile(idx)\"\n                                        title=\"Delete file\"\n                                        class=\"action-btn delete-btn\">\n                                    <span v-html=\"getThemeIcon('delete')\"></span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div v-else-if=\"!isLoading\" class=\"no-files\">\n                        <p>No files yet, please upload files on the left</p>\n                    </div>\n                    <div v-else class=\"loading\">\n                        <p>Loading...</p>\n                    </div>\n                </div>\n            </div>\n\n            <!-- Â∑•‰ΩúÂå∫ÁÆ°ÁêÜÂå∫Âüü -->\n            <div class=\"workspace-management\" v-if=\"workspaceFiles.length > 0\">\n                <div class=\"workspace-header\">\n                    <div class=\"workspace-title\">\n                        <span class=\"workspace-icon\">üìÅ</span>\n                        <span class=\"workspace-count\">{{ workspaceFiles.length }}</span>\n                    </div>\n                    <button class=\"clear-workspace-btn\" @click=\"clearWorkspace\" title=\"Clear all files\">\n                        <span v-html=\"getThemeIcon('delete')\"></span>\n                    </button>\n                </div>\n                <div class=\"workspace-file-list\">\n                    <div v-for=\"(file, idx) in workspaceFiles\"\n                            :key=\"file.id\"\n                            class=\"workspace-file-item\">\n                        <div class=\"workspace-file-name\" :title=\"file.name\">\n                            {{ file.name }}\n                        </div>\n                        <div class=\"workspace-file-actions\">\n                            <button @click=\"previewWorkspaceFile(idx)\"\n                                    title=\"Preview\"\n                                    class=\"workspace-action-btn\">\n                                <span v-html=\"getThemeIcon('preview')\"></span>\n                            </button>\n                            <button @click=\"removeFromWorkspace(idx)\"\n                                    title=\"Remove\"\n                                    class=\"workspace-action-btn\">\n                                <span v-html=\"getThemeIcon('delete')\"></span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Êï∞ÊçÆÈ¢ÑËßàÁªÑ‰ª∂ -->\n        <DataPreviewModal\n            v-if=\"currentPreviewFile\"\n            :show=\"showPreview\"\n            :current-file=\"currentPreviewFile\"\n            :preview-data=\"previewData\"\n            :is-side-preview=\"true\"\n            @close=\"closePreview\"\n        />\n    </div>\n</transition>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, nextTick, onMounted, computed, watch } from 'vue'\nimport DataPreviewModal from './DataPreviewModal.vue'\nimport { getThemeIcon } from '../assets/JS/icons.js'\nimport {\n    uploadFile,\n    deleteFile,\n    renameFile,\n    getFilePreview,\n    getAllFiles,\n    checkBackendConnection,\n    getBackendStatus,\n    syncFileToBackend\n} from '../services/FileServices.js'\n\nconst props = defineProps({\n    show: Boolean,\n    workspaceFiles: {\n        type: Array,\n        default: () => []\n    }\n})\n\nconst emit = defineEmits(['close', 'workspace-updated'])\n\nconst isDragging = ref(false)\nconst files = ref([])\nconst workspaceFiles = ref([])\nconst showPreview = ref(false)\nconst currentPreviewFile = ref(null)\nconst previewData = ref([])\nconst isBackendConnected = ref(false)\nconst isLoading = ref(false)\n\n// ÁõëÂê¨ props ‰∏≠ÁöÑÂ∑•‰ΩúÂå∫Êñá‰ª∂ÂèòÂåñ\nwatch(() => props.workspaceFiles, (newFiles) => {\n    console.log('FileUploadModal: workspaceFiles prop changed:', newFiles)\n    if (newFiles) {\n        workspaceFiles.value = [...newFiles]\n    }\n}, { immediate: true })\n\n// ËÆ°ÁÆóÁªüËÆ°‰ø°ÊÅØ\nconst stats = computed(() => {\n    const totalFiles = files.value.length\n    const totalSize = files.value.reduce((sum, file) => sum + (file.size || 0), 0)\n    const notUploadedCount = files.value.filter(file => file.status === 'local').length\n    \n    return {\n        totalFiles,\n        totalSize: formatFileSize(totalSize),\n        notUploadedCount\n    }\n})\n\n// È°µÈù¢Âä†ËΩΩÊó∂Ê£ÄÊü•ÂêéÁ´ØËøûÊé•Âπ∂Âä†ËΩΩÊñá‰ª∂\nonMounted(async () => {\n    await checkConnectionStatus()\n    await loadFiles()\n})\n\n// Ê£ÄÊü•ÂêéÁ´ØËøûÊé•Áä∂ÊÄÅ\nasync function checkConnectionStatus() {\n    isBackendConnected.value = await checkBackendConnection()\n}\n\n// Âä†ËΩΩÊâÄÊúâÊñá‰ª∂\nasync function loadFiles() {\n    isLoading.value = true\n    try {\n        const allFiles = await getAllFiles()\n        files.value = allFiles.map(file => ({\n            ...file,\n            isEditing: false,\n            newName: file.name\n        }))        } catch (error) {\n            console.error('Load files failed:', error)\n        } finally {\n        isLoading.value = false\n    }\n}\n\n// Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return '0 Bytes'\n    const k = 1024\n    const sizes = ['Bytes', 'KB', 'MB', 'GB']\n    const i = Math.floor(Math.log(bytes) / Math.log(k))\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// Ëß¶ÂèëÊñá‰ª∂ÈÄâÊã©\nfunction triggerFileInput() {\n    document.querySelector('.file-input').click()\n}\n\n// Â§ÑÁêÜÊñá‰ª∂ÈÄâÊã©\nasync function handleFileSelect(event) {\n    const newFiles = Array.from(event.target.files)\n    await processFiles(newFiles)\n}\n\n// Â§ÑÁêÜÊãñÊãΩ\nasync function handleDrop(event) {\n    isDragging.value = false\n    const newFiles = Array.from(event.dataTransfer.files)\n    await processFiles(newFiles)\n}\n\n// ÈáçÂëΩÂêçÁõ∏ÂÖ≥\nfunction startRename(idx) {\n    files.value[idx].isEditing = true\n    files.value[idx].newName = files.value[idx].name\n    nextTick(() => {\n        const inputs = document.querySelectorAll('.file-item input')\n        if (inputs[idx]) {\n            inputs[idx].focus()\n        }\n    })\n}\n\nasync function finishRename(idx) {\n    const file = files.value[idx]\n    if (file.newName && file.newName !== file.name) {\n        try {\n            await renameFile(file.id, file.newName)\n            file.name = file.newName\n        } catch (error) {\n            console.error('Rename failed:', error)\n            alert('Rename failed: ' + error.message)\n            file.newName = file.name\n        }\n    }\n    file.isEditing = false\n}\n\n// Âà†Èô§Êñá‰ª∂\nasync function unloadFile(idx) {\n    const file = files.value[idx]\n    if (confirm(`Are you sure you want to delete file \"${file.name}\"?`)) {\n        try {\n            await deleteFile(file.id)\n            files.value.splice(idx, 1)\n        } catch (error) {\n            console.error('Delete failed:', error)\n            alert('Delete failed: ' + error.message)\n        }\n    }\n}\n\n// ÂêåÊ≠•Êñá‰ª∂Âà∞ÂêéÁ´Ø\nasync function syncFile(idx) {\n    const file = files.value[idx]\n    try {\n        file.status = 'uploading'\n        const syncedFile = await syncFileToBackend(file.id)\n        files.value[idx] = {\n            ...syncedFile,\n            isEditing: false,\n            newName: syncedFile.name\n        }\n    } catch (error) {\n        console.error('Sync failed:', error)\n        alert('Sync failed: ' + error.message)\n        file.status = 'local'\n    }\n}\n\n// Ëé∑ÂèñÊñá‰ª∂ËØ¶ÁªÜ‰ø°ÊÅØ\nfunction getFileDetails(file) {\n    return {\n        name: file.name,\n        size: formatFileSize(file.size),\n        rows: file.rows || 0,\n        columns: file.columns || 0,\n        type: file.name.split('.').pop().toUpperCase(),\n        status: getStatusText(file.status),\n        id: file.id,\n        createdAt: new Date(file.createdAt).toLocaleString()\n    }\n}\n\n// È¢ÑËßàÊñá‰ª∂\nasync function previewFile(idx) {\n    const file = files.value[idx]\n    try {\n        const previewResult = await getFilePreview(file.id)\n        currentPreviewFile.value = file\n        previewData.value = previewResult.data\n        showPreview.value = true\n    } catch (error) {\n        console.error('Preview failed:', error)\n        alert('Preview failed: ' + error.message)\n    }\n}\n\nfunction closePreview() {\n    showPreview.value = false\n    currentPreviewFile.value = null\n    previewData.value = []\n}\n\nfunction onClose() {\n    emit('close')\n}\n\n// Ëé∑ÂèñÁä∂ÊÄÅÊñáÊú¨\nfunction getStatusText(status) {\n    const statusMap = {\n        'local': 'Local Cache',\n        'uploading': 'Uploading',\n        'uploaded': 'Uploaded',\n        'operating': 'Operating',\n        'error': 'Error'\n    }\n    return statusMap[status] || 'Unknown'\n}\n\n// Ëé∑ÂèñÁä∂ÊÄÅÂõæÊ†á (SVG)\nfunction getStatusIcon(status) {\n    const iconMap = {\n        'local': 'localCache',\n        'uploading': 'uploading',\n        'uploaded': 'uploaded',\n        'operating': 'sync',\n        'error': 'error'\n    }\n    const iconName = iconMap[status] || 'unknown'\n    return getThemeIcon(iconName)\n}\n\n// Â∑•‰ΩúÂå∫Áõ∏ÂÖ≥ÊñπÊ≥ï\nfunction addToWorkspace(idx) {\n    const file = files.value[idx]\n    console.log('Adding file to workspace:', file.name)\n    \n    // Ê£ÄÊü•ÊòØÂê¶Â∑≤Âú®Â∑•‰ΩúÂå∫\n    if (isInWorkspace(file.id)) {\n        alert('File is already in workspace')\n        return\n    }\n    \n    // Â¶ÇÊûúÊòØÂ∑≤‰∏ä‰º†ÁöÑÊñá‰ª∂ÔºåËÆæÁΩÆ‰∏∫Êìç‰ΩúÁä∂ÊÄÅ\n    if (file.status === 'uploaded') {\n        file.status = 'operating'\n    }\n    \n    // Ê∑ªÂä†Âà∞Â∑•‰ΩúÂå∫\n    workspaceFiles.value.push({ ...file })\n    console.log('Workspace files after adding:', workspaceFiles.value.length)\n    \n    // ÈÄöÁü•Áà∂ÁªÑ‰ª∂Â∑•‰ΩúÂå∫Êõ¥Êñ∞\n    emit('workspace-updated', workspaceFiles.value)\n}\n\nfunction removeFromWorkspace(idx) {\n    const file = workspaceFiles.value[idx]\n    \n    // Â¶ÇÊûúÊòØÊìç‰ΩúÁä∂ÊÄÅÁöÑÊñá‰ª∂ÔºåÊÅ¢Â§ç‰∏∫Â∑≤‰∏ä‰º†Áä∂ÊÄÅ\n    if (file.status === 'operating') {\n        const originalFile = files.value.find(f => f.id === file.id)\n        if (originalFile) {\n            originalFile.status = 'uploaded'\n        }\n    }\n    \n    // ‰ªéÂ∑•‰ΩúÂå∫ÁßªÈô§\n    workspaceFiles.value.splice(idx, 1)\n    \n    // ÈÄöÁü•Áà∂ÁªÑ‰ª∂Â∑•‰ΩúÂå∫Êõ¥Êñ∞\n    emit('workspace-updated', workspaceFiles.value)\n}\n\nfunction clearWorkspace() {\n    // ÊÅ¢Â§çÊâÄÊúâÊìç‰ΩúÁä∂ÊÄÅÁöÑÊñá‰ª∂\n    workspaceFiles.value.forEach(workspaceFile => {\n        if (workspaceFile.status === 'operating') {\n            const originalFile = files.value.find(f => f.id === workspaceFile.id)\n            if (originalFile) {\n                originalFile.status = 'uploaded'\n            }\n        }\n    })\n    \n    // Ê∏ÖÁ©∫Â∑•‰ΩúÂå∫\n    workspaceFiles.value = []\n    \n    // ÈÄöÁü•Áà∂ÁªÑ‰ª∂Â∑•‰ΩúÂå∫Êõ¥Êñ∞\n    emit('workspace-updated', workspaceFiles.value)\n}\n\nfunction isInWorkspace(fileId) {\n    return workspaceFiles.value.some(file => file.id === fileId)\n}\n\nfunction previewWorkspaceFile(idx) {\n    const file = workspaceFiles.value[idx]\n    previewFile(files.value.findIndex(f => f.id === file.id))\n}\n\n// ÊâπÈáèÂêåÊ≠•ÊâÄÊúâÊú¨Âú∞Êñá‰ª∂\nasync function syncAllFiles() {\n    const localFiles = files.value.filter(file => file.status === 'local')\n    \n    if (localFiles.length === 0) {\n        alert('No files to sync')\n        return\n    }\n    \n    if (!isBackendConnected.value) {\n        alert('Backend not connected, unable to sync')\n        return\n    }\n    \n    if (confirm(`Are you sure you want to sync ${localFiles.length} files to the backend?`)) {\n        for (let i = 0; i < localFiles.length; i++) {\n            const fileIndex = files.value.findIndex(f => f.id === localFiles[i].id)\n            if (fileIndex !== -1) {\n                await syncFile(fileIndex)\n            }\n        }\n    }\n}\n\n// Âà∑Êñ∞Êñá‰ª∂ÂàóË°®\nasync function refreshFiles() {\n    await checkConnectionStatus()\n    await loadFiles()\n}\n\n// Â§ÑÁêÜÊñá‰ª∂\nasync function processFiles(newFiles) {\n    const validFiles = newFiles.filter(file => {\n        const ext = file.name.split('.').pop().toLowerCase()\n        return ['csv', 'xlsx', 'xls'].includes(ext)\n    })\n\n    if (validFiles.length !== newFiles.length) {\n        alert('Only CSV, XLSX, XLS format files are supported')\n    }\n\n    for (const file of validFiles) {\n        try {\n            // Ê∑ªÂä†Êñá‰ª∂Âà∞ÂàóË°®ÔºàÊ≠£Âú®‰∏ä‰º†Áä∂ÊÄÅÔºâ\n            const fileItem = {\n                id: Date.now() + Math.random(),\n                name: file.name,\n                size: file.size,\n                status: 'uploading',\n                isEditing: false,\n                newName: file.name,\n                rows: 0,\n                columns: 0,\n                createdAt: new Date().toISOString(),\n                progress: 0 // Ê∑ªÂä†ËøõÂ∫¶Â≠óÊÆµ\n            }\n            files.value.push(fileItem)\n            \n            // Ë∞ÉÁî®Êô∫ËÉΩ‰∏ä‰º† API Âπ∂‰º†ÈÄíËøõÂ∫¶ÂõûË∞É\n            const uploadedFile = await uploadFile(file, (progress) => {\n                // Êõ¥Êñ∞ËøõÂ∫¶\n                const index = files.value.findIndex(f => f.id === fileItem.id)\n                if (index !== -1) {\n                    files.value[index].progress = progress\n                }\n            })\n            \n            // Êõ¥Êñ∞Êñá‰ª∂Áä∂ÊÄÅ\n            const index = files.value.findIndex(f => f.id === fileItem.id)\n            if (index !== -1) {\n                files.value[index] = {\n                    ...uploadedFile,\n                    isEditing: false,\n                    newName: uploadedFile.name,\n                    progress: 100\n                }\n            }\n        } catch (error) {\n            console.error('File processing failed:', error)\n            // Êõ¥Êñ∞Â§±Ë¥•Áä∂ÊÄÅ\n            const index = files.value.findIndex(f => f.name === file.name)\n            if (index !== -1) {\n                files.value[index].status = 'error'\n                files.value[index].progress = 0\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n/* CSSÂèòÈáèÂÆö‰πâ */\n:root {\n    --bg-color: #fff;\n    --text-color: #333;\n    --text-secondary: #666;\n    --border-color: #e5e7eb;\n    --header-bg: linear-gradient(135deg, #f8f9fa 0%, #f1f5f9 100%);\n    --upload-hover-bg: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);\n    --file-hover-bg: #f8f9fa;\n    --stats-bg: linear-gradient(135deg, #f8f9fa 0%, #f1f5f9 100%);\n    --modal-backdrop: rgba(0,0,0,0.5);\n    --input-bg: #fff;\n    --shadow-color: rgba(0,0,0,0.25);\n}\n\n/* ÊöóÈªëÊ®°ÂºèÂèòÈáè */\n[data-theme=\"dark\"] {\n    --bg-color: #1f2937;\n    --text-color: #f9fafb;\n    --text-secondary: #d1d5db;\n    --border-color: #374151;\n    --header-bg: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n    --upload-hover-bg: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);\n    --file-hover-bg: #374151;\n    --stats-bg: linear-gradient(135deg, #374151 0%, #4b5563 100%);\n    --modal-backdrop: rgba(0,0,0,0.7);\n    --input-bg: #374151;\n    --shadow-color: rgba(0,0,0,0.5);\n}\n\n/* Ê®°ÊÄÅÊ°ÜÂü∫Á°ÄÊ†∑Âºè */\n.file-modal {\n    position: fixed;\n    top: 0; left: 0; right: 0; bottom: 0;\n    background: var(--modal-backdrop);\n    z-index: 9999;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    backdrop-filter: blur(3px);\n}\n\n.file-content {\n    background: var(--bg-color);\n    color: var(--text-color);\n    box-shadow: 0 20px 60px var(--shadow-color);\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    border: 1px solid var(--border-color);\n    width: min(85vw, 800px);\n    height: min(85vh, 780px);\n    max-height: min(85vh, 780px);\n    border-radius: 16px;\n    position: relative;\n}\n\n/* Â§¥ÈÉ®Ê†∑Âºè */\n.file-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 24px;\n    border-bottom: 1px solid var(--border-color);\n    background: var(--header-bg);\n    position: relative;\n}\n\n.file-header::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4);\n    border-radius: 16px 16px 0 0;\n}\n\n.header-left {\n    display: flex;\n    align-items: center;\n    gap: 15px;\n}\n\n.header-left span {\n    font-size: 20px;\n    font-weight: 600;\n    color: var(--text-color);\n}\n\n.connection-status {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 14px;\n}\n\n.status-dot {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: #9ca3af;\n    transition: background-color 0.3s;\n}\n\n.status-dot.connected {\n    background: #22c55e;\n}\n\n.status-text {\n    color: var(--text-secondary);\n    font-weight: 500;\n}\n\n.header-right {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.refresh-btn, .sync-all-btn {\n    padding: 8px 16px;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    font-weight: 500;\n    transform: translateY(0);\n    display: flex;\n    align-items: center;\n    gap: 6px;\n}\n\n.refresh-btn span,\n.sync-all-btn span {\n    display: flex;\n    align-items: center;\n}\n\n.refresh-btn svg,\n.sync-all-btn svg {\n    width: 16px;\n    height: 16px;\n}\n\n.refresh-btn {\n    background: #3b82f6;\n    color: white;\n}\n\n.refresh-btn:hover {\n    background: #2563eb;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\n}\n\n.sync-all-btn {\n    background: #10b981;\n    color: white;\n}\n\n.sync-all-btn:hover:not(:disabled) {\n    background: #059669;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);\n}\n\n.sync-all-btn:disabled {\n    background: #d1d5db;\n    cursor: not-allowed;\n    transform: none;\n}\n\n.close-btn {\n    background: none;\n    border: none;\n    font-size: 28px;\n    cursor: pointer;\n    color: var(--text-secondary);\n    padding: 8px;\n    border-radius: 8px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    line-height: 1;\n}\n\n.close-btn:hover {\n    color: #ef4444;\n    background: rgba(239, 68, 68, 0.1);\n    transform: scale(1.1);\n}\n\n/* ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü */\n.main-content {\n    display: flex;\n    flex: 1;\n    overflow: hidden;\n}\n\n/* Â∑¶‰æß‰∏ä‰º†Âå∫Âüü */\n.upload-section {\n    width: 300px;\n    padding: 20px;\n    border-right: 1px solid var(--border-color);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n/* Âè≥‰æßÊñá‰ª∂ÂàóË°®Âå∫Âüü */\n.file-section {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n}\n\n/* ‰∏ä‰º†Âå∫ÂüüÊ†∑Âºè */\n.upload-area {\n    width: 100%;\n    border: 2px dashed var(--border-color);\n    border-radius: 12px;\n    padding: 30px 20px;\n    text-align: center;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    background: var(--bg-color);\n}\n\n.upload-area:hover,\n.upload-area.dragging {\n    border-color: #3b82f6;\n    background: var(--upload-hover-bg);\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);\n}\n\n.file-input {\n    display: none;\n}\n\n.upload-tip {\n    color: var(--text-secondary);\n}\n\n/* ‰∏ä‰º†ÂõæÊ†áÊ†∑Âºè */\n.upload-icon {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 16px;\n    animation: bounceIcon 3s ease-in-out infinite;\n}\n\n.upload-icon svg {\n    width: 48px;\n    height: 48px;\n}\n\n@keyframes bounceIcon {\n    0%, 90%, 100% {\n        transform: translateY(0);\n    }\n    45% {\n        transform: translateY(-5px);\n    }\n}\n\n.upload-tip p {\n    margin: 8px 0;\n}\n\n.upload-tip button {\n    background: none;\n    border: none;\n    color: #3b82f6;\n    cursor: pointer;\n    text-decoration: underline;\n    font-size: inherit;\n}\n\n/* ÊöóÈªëÊ®°Âºè‰∏ãÁöÑ‰∏ä‰º†ÊåâÈíÆÈ¢úËâ≤Ë∞ÉÊï¥ */\n[data-theme=\"dark\"] .upload-tip button {\n    color: #60a5fa;\n}\n\n[data-theme=\"dark\"] .upload-tip button:hover {\n    color: #93c5fd;\n}\n\n.sub-tip {\n    font-size: 12px;\n    color: var(--text-secondary);\n}\n\n/* ÁªüËÆ°‰ø°ÊÅØÊ†∑Âºè */\n.stats-bar {\n    display: flex;\n    gap: 20px;\n    padding: 16px 20px;\n    background: var(--stats-bg);\n    border-bottom: 1px solid var(--border-color);\n    flex-shrink: 0;\n}\n\n/* Êñá‰ª∂ÂàóË°®Âä®Áîª */\n.file-list {\n    flex: 1;\n    overflow-y: auto;\n    padding: 0;\n}\n\n/* ÈöêËóèÊñá‰ª∂ÂàóË°®ÊªöÂä®Êù° */\n.file-list::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n}\n\n.file-list::-webkit-scrollbar-track {\n    background: transparent;\n}\n\n.file-list::-webkit-scrollbar-thumb {\n    background: transparent;\n}\n\n.file-list {\n    scrollbar-width: none; /* Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n}\n\n.no-files, .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n    color: var(--text-secondary);\n    font-size: 14px;\n}\n\n.stat-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.stat-label {\n    font-size: 14px;\n    color: var(--text-secondary);\n}\n\n.stat-value {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--text-color);\n}\n\n.file-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16px 20px;\n    border-bottom: 1px solid var(--border-color);\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    background: var(--bg-color);\n    overflow: hidden;\n    min-width: 0;\n}\n\n.file-item:hover {\n    background: var(--file-hover-bg);\n    transform: translateY(-2px);\n    border-left: 3px solid var(--header-bg);\n    padding-left: 17px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n}\n\n.file-item:last-child {\n    border-bottom: none;\n}\n\n.file-info {\n    flex: 1;\n    min-width: 0;\n    overflow: hidden;\n}\n\n.file-basic {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    min-width: 0;\n    overflow: hidden;\n}\n\n.file-name-section {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    min-width: 0;\n    flex: 1;\n    overflow: hidden;\n}\n\n.file-name-section .file-name {\n    flex: 1;\n    min-width: 0;\n}\n\n.file-name {\n    font-size: 16px;\n    font-weight: 500;\n    color: var(--text-color);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: 280px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    min-width: 0;\n}\n\n\n/* Êñá‰ª∂È°πÊÇ¨ÂÅúÊó∂ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÊòæÁ§∫‰ºòÂåñ */\n.file-item:hover .file-details {\n    flex-wrap: nowrap;\n    max-height: none;\n    overflow: hidden;\n}\n\n.file-item:hover .file-details .file-created {\n    white-space: nowrap;\n    word-break: normal;\n    max-width: 150px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n/* Êñá‰ª∂ÂêçÁºñËæëÁä∂ÊÄÅ‰ºòÂåñ */\n.file-name.editing input {\n    border: 1px solid #3b82f6;\n    border-radius: 4px;\n    padding: 4px 8px;\n    font-size: 16px;\n    outline: none;\n    background: var(--input-bg);\n    color: var(--text-color);\n    width: 100%;\n    max-width: 300px;\n}\n\n/* Ê∑ªÂä†Êñá‰ª∂ÂêçÊà™Êñ≠ÊèêÁ§∫ */\n.file-name::after {\n    content: '';\n    position: absolute;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 20px;\n    background: linear-gradient(to right, transparent, var(--bg-color));\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n}\n\n.file-name:not(:hover)::after {\n    opacity: 1;\n}\n\n.file-name {\n    position: relative;\n}\n\n.file-status {\n    padding: 4px 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.file-status span {\n    display: flex;\n    align-items: center;\n}\n\n.file-status.local {\n    background: #fef3c7;\n    color: #92400e;\n}\n\n.file-status.uploading {\n    background: #dbeafe;\n    color: #1e40af;\n}\n\n.file-status.uploaded {\n    background: #d1fae5;\n    color: #065f46;\n}\n\n.file-status.error {\n    background: #fee2e2;\n    color: #b91c1c;\n}\n\n.file-details {\n    display: flex;\n    gap: 16px;\n    font-size: 12px;\n    color: var(--text-secondary);\n    flex-wrap: nowrap;\n    overflow: hidden;\n    min-width: 0;\n}\n\n.file-details span {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    min-width: 0;\n    flex-shrink: 1;\n}\n\n.file-size {\n    flex-shrink: 0;\n    min-width: 60px;\n}\n\n.file-type {\n    flex-shrink: 0;\n    min-width: 40px;\n}\n\n.file-dimensions {\n    flex-shrink: 1;\n    min-width: 60px;\n}\n\n.file-created {\n    flex-shrink: 2;\n    min-width: 100px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.file-actions {\n    display: flex;\n    gap: 8px;\n    flex-shrink: 0;\n    margin-left: 12px;\n}\n\n.action-btn {\n    padding: 8px 12px;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n    font-size: 14px;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    transform: translateY(0);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.action-btn span {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.action-btn svg {\n    width: 16px;\n    height: 16px;\n}\n\n.action-btn:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n\n.action-btn:active:not(:disabled) {\n    transform: translateY(0);\n}\n\n.preview-btn {\n    background: linear-gradient(135deg, #3b82f6, #2563eb);\n    color: white;\n    border: 1px solid rgba(59, 130, 246, 0.3);\n}\n\n.preview-btn:hover {\n    background: linear-gradient(135deg, #2563eb, #1d4ed8);\n    border-color: rgba(37, 99, 235, 0.5);\n    box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);\n}\n\n.sync-btn {\n    background: linear-gradient(135deg, #10b981, #059669);\n    color: white;\n    border: 1px solid rgba(16, 185, 129, 0.3);\n}\n\n.sync-btn:hover:not(:disabled) {\n    background: linear-gradient(135deg, #059669, #047857);\n    border-color: rgba(5, 150, 105, 0.5);\n    box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);\n}\n\n.sync-btn:disabled {\n    background: linear-gradient(135deg, #d1d5db, #e5e7eb);\n    color: #9ca3af;\n    cursor: not-allowed;\n    transform: none;\n    border: 1px solid rgba(209, 213, 219, 0.5);\n}\n\n.delete-btn {\n    background: linear-gradient(135deg, #ef4444, #dc2626);\n    color: white;\n    border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n.delete-btn:hover {\n    background: linear-gradient(135deg, #dc2626, #b91c1c);\n    border-color: rgba(220, 38, 38, 0.5);\n    box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);\n}\n\n/* ‰∏∫Â∑•‰ΩúÂå∫ÊåâÈíÆÊ∑ªÂä†ÁâπÊÆäÊïàÊûú */\n.workspace-btn {\n    background: linear-gradient(135deg, #8b5cf6, #a855f7);\n    color: white;\n    border: 1px solid rgba(139, 92, 246, 0.3);\n}\n\n.workspace-btn:hover:not(:disabled) {\n    background: linear-gradient(135deg, #7c3aed, #9333ea);\n    border-color: rgba(124, 58, 237, 0.5);\n    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);\n}\n\n.workspace-btn:disabled {\n    background: linear-gradient(135deg, #d1d5db, #e5e7eb);\n    color: #9ca3af;\n    cursor: not-allowed;\n    transform: none;\n    border: 1px solid rgba(209, 213, 219, 0.5);\n}\n\n/* ‰∏ä‰º†ËøõÂ∫¶Êù°Ê†∑Âºè */\n.upload-progress {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    margin-top: 4px;\n}\n\n.progress-bar {\n    flex: 1;\n    height: 4px;\n    background: rgba(0, 0, 0, 0.1);\n    border-radius: 2px;\n    overflow: hidden;\n    min-width: 60px;\n}\n\n.progress-fill {\n    height: 100%;\n    background: linear-gradient(90deg, #3b82f6, #06b6d4);\n    border-radius: 2px;\n    transition: width 0.3s ease;\n    animation: progressPulse 1.5s ease-in-out infinite;\n}\n\n.progress-text {\n    font-size: 10px;\n    font-weight: 500;\n    color: var(--text-secondary);\n    min-width: 28px;\n}\n\n@keyframes progressPulse {\n    0%, 100% {\n        opacity: 1;\n    }\n    50% {\n        opacity: 0.8;\n    }\n}\n\n/* ÊöóÈªëÊ®°Âºè‰∏ãÁöÑËøõÂ∫¶Êù° */\n[data-theme=\"dark\"] .progress-bar {\n    background: rgba(255, 255, 255, 0.1);\n}\n\n[data-theme=\"dark\"] .progress-fill {\n    background: linear-gradient(90deg, #1e40af, #0891b2);\n}\n\n[data-theme=\"dark\"] .progress-text {\n    color: #d1d5db;\n}\n\n/* Áä∂ÊÄÅÂõæÊ†áÊ†∑ÂºèÈÄÇÈÖç */\n.file-status.local svg {\n    filter: none;\n}\n\n.file-status.uploading svg {\n    animation: spin 2s linear infinite;\n}\n\n.file-status.uploaded svg {\n    filter: none;\n}\n\n.file-status.error svg {\n    filter: none;\n}\n\n@keyframes spin {\n    from {\n        transform: rotate(0deg);\n    }\n    to {\n        transform: rotate(360deg);\n    }\n}\n\n/* Âä®ÁîªÊïàÊûú */\n.modal-expand-enter-active {\n    animation: expandModal 0.3s ease-out forwards;\n}\n\n.modal-expand-enter-active .file-content {\n    animation: expandContent 0.3s ease-out forwards;\n}\n\n.modal-expand-leave-active {\n    animation: collapseModal 0.2s ease-in forwards;\n}\n\n.modal-expand-leave-active .file-content {\n    animation: collapseContent 0.2s ease-in forwards;\n}\n\n@keyframes expandModal {\n    0% {\n        opacity: 0;\n        backdrop-filter: blur(0px);\n    }\n    100% {\n        opacity: 1;\n        backdrop-filter: blur(3px);\n    }\n}\n\n@keyframes expandContent {\n    0% {\n        opacity: 0;\n        transform: scale(0.9) translateY(-20px);\n    }\n    100% {\n        opacity: 1;\n        transform: scale(1) translateY(0);\n    }\n}\n\n@keyframes collapseModal {\n    0% {\n        opacity: 1;\n        backdrop-filter: blur(3px);\n    }\n    100% {\n        opacity: 0;\n        backdrop-filter: blur(0px);\n    }\n}\n\n@keyframes collapseContent {\n    0% {\n        opacity: 1;\n        transform: scale(1) translateY(0);\n    }\n    100% {\n        opacity: 0;\n        transform: scale(0.9) translateY(-20px);\n    }\n}\n\n/* ÊöóÈªëÊ®°Âºè‰∏ãÁöÑÁâπÊÆäË∞ÉÊï¥ */\n[data-theme=\"dark\"] .file-item:hover {\n    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);\n}\n\n[data-theme=\"dark\"] .upload-area:hover,\n[data-theme=\"dark\"] .upload-area.dragging {\n    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.25);\n}\n\n[data-theme=\"dark\"] .file-content {\n    box-shadow: 0 20px 60px rgba(0,0,0,0.6);\n}\n\n[data-theme=\"dark\"] .action-btn:hover:not(:disabled) {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n}\n\n/* ÊöóÈªëÊ®°Âºè‰∏ãÁöÑÊåâÈíÆÈ¢úËâ≤Ë∞ÉÊï¥ */\n[data-theme=\"dark\"] .refresh-btn {\n    background: #1e40af;\n    color: #e5e7eb;\n}\n\n[data-theme=\"dark\"] .refresh-btn:hover {\n    background: #1e3a8a;\n    box-shadow: 0 4px 12px rgba(30, 64, 175, 0.4);\n}\n\n[data-theme=\"dark\"] .sync-all-btn {\n    background: #047857;\n    color: #e5e7eb;\n}\n\n[data-theme=\"dark\"] .sync-all-btn:hover:not(:disabled) {\n    background: #065f46;\n    box-shadow: 0 4px 12px rgba(4, 120, 87, 0.4);\n}\n\n[data-theme=\"dark\"] .sync-all-btn:disabled {\n    background: #4b5563;\n    color: #9ca3af;\n}\n\n[data-theme=\"dark\"] .preview-btn {\n    background: linear-gradient(135deg, #1e40af, #1d4ed8);\n    color: #f3f4f6;\n    border: 1px solid rgba(30, 64, 175, 0.4);\n    box-shadow: 0 2px 8px rgba(30, 64, 175, 0.3);\n}\n\n[data-theme=\"dark\"] .preview-btn:hover {\n    background: linear-gradient(135deg, #1e3a8a, #1e40af);\n    border-color: rgba(30, 58, 138, 0.6);\n    box-shadow: 0 4px 20px rgba(59, 130, 246, 0.5);\n    color: #ffffff;\n}\n\n[data-theme=\"dark\"] .sync-btn {\n    background: linear-gradient(135deg, #047857, #065f46);\n    color: #f3f4f6;\n    border: 1px solid rgba(4, 120, 87, 0.4);\n    box-shadow: 0 2px 8px rgba(4, 120, 87, 0.3);\n}\n\n[data-theme=\"dark\"] .sync-btn:hover:not(:disabled) {\n    background: linear-gradient(135deg, #065f46, #064e3b);\n    border-color: rgba(6, 95, 70, 0.6);\n    box-shadow: 0 4px 20px rgba(16, 185, 129, 0.5);\n    color: #ffffff;\n}\n\n[data-theme=\"dark\"] .sync-btn:disabled {\n    background: linear-gradient(135deg, #4b5563, #6b7280);\n    color: #9ca3af;\n    border: 1px solid rgba(75, 85, 99, 0.5);\n    box-shadow: none;\n}\n\n[data-theme=\"dark\"] .delete-btn {\n    background: linear-gradient(135deg, #b91c1c, #991b1b);\n    color: #f3f4f6;\n    border: 1px solid rgba(185, 28, 28, 0.4);\n    box-shadow: 0 2px 8px rgba(185, 28, 28, 0.3);\n}\n\n[data-theme=\"dark\"] .delete-btn:hover {\n    background: linear-gradient(135deg, #991b1b, #7f1d1d);\n    border-color: rgba(153, 27, 27, 0.6);\n    box-shadow: 0 4px 20px rgba(239, 68, 68, 0.5);\n    color: #ffffff;\n}\n\n[data-theme=\"dark\"] .close-btn:hover {\n    color: #f87171;\n    background: rgba(248, 113, 113, 0.15);\n}\n\n/* ÊöóÈªëÊ®°Âºè‰∏ãÁöÑÊñá‰ª∂Áä∂ÊÄÅÊ†∑ÂºèË∞ÉÊï¥ */\n[data-theme=\"dark\"] .file-status.local {\n    background: #a8ad2948;\n    color: #fcd34d;\n}\n\n[data-theme=\"dark\"] .file-status.uploading {\n    background: #1e3a8a;\n    color: #93c5fd;\n}\n\n[data-theme=\"dark\"] .file-status.uploaded {\n    background: #064e3b;\n    color: #6ee7b7;\n}\n\n[data-theme=\"dark\"] .file-status.error {\n    background: #7f1d1d;\n    color: #fca5a5;\n}\n\n/* ÊöóÈªëÊ®°Âºè‰∏ãÁöÑÂ∑•‰ΩúÂå∫Ê†∑Âºè */\n[data-theme=\"dark\"] .workspace-management {\n    background: #222222;\n    backdrop-filter: blur(8px);\n}\n\n[data-theme=\"dark\"] .workspace-count {\n    background: rgba(124, 58, 237, 0.9);\n    color: #e5e7eb;\n}\n\n[data-theme=\"dark\"] .clear-workspace-btn:hover {\n    background: rgba(248, 113, 113, 0.2);\n    color: #f87171;\n}\n\n[data-theme=\"dark\"] .workspace-file-item {\n    background: var(--bg-color);\n    border-color: rgba(75, 85, 99, 0.5);\n}\n\n[data-theme=\"dark\"] .workspace-file-item:hover {\n    box-shadow: 0 2px 6px rgba(139, 92, 246, 0.2);\n    border-color: rgba(139, 92, 246, 0.6);\n    background: #212121;\n}\n\n[data-theme=\"dark\"] .workspace-action-btn:hover {\n    background: rgba(96, 165, 250, 0.2);\n    color: #60a5fa;\n}\n\n[data-theme=\"dark\"] .workspace-btn {\n    background: linear-gradient(135deg, #6d28d9, #7c3aed);\n    color: #f3f4f6;\n    border: 1px solid rgba(109, 40, 217, 0.4);\n    box-shadow: 0 2px 8px rgba(109, 40, 217, 0.3);\n}\n\n[data-theme=\"dark\"] .workspace-btn:hover:not(:disabled) {\n    background: linear-gradient(135deg, #5b21b6, #6d28d9);\n    border-color: rgba(91, 33, 182, 0.6);\n    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.5);\n    color: #ffffff;\n}\n\n[data-theme=\"dark\"] .workspace-btn:disabled {\n    background: linear-gradient(135deg, #4b5563, #6b7280);\n    color: #9ca3af;\n    border: 1px solid rgba(75, 85, 99, 0.5);\n    box-shadow: none;\n}\n\n/* Ê∑±Ëâ≤Ê®°Âºè‰∏ãÁöÑÊñá‰ª∂ÂêçÊà™Êñ≠ÊèêÁ§∫ */\n[data-theme=\"dark\"] .file-name::after {\n    background: linear-gradient(to right, transparent, var(--bg-color));\n}\n\n/* Ê∑±Ëâ≤Ê®°Âºè‰∏ãÁöÑÊñá‰ª∂È°πÊÇ¨ÂÅú‰ºòÂåñ */\n[data-theme=\"dark\"] .file-item:hover .file-details {\n    color: #e5e7eb;\n}\n\n/* ÂìçÂ∫îÂºèÈÄÇÈÖç */\n@media (max-width: 768px) {\n    .file-content {\n        width: 95vw;\n        max-height: 95vh;\n    }\n    \n    .main-content {\n        flex-direction: column;\n    }\n    \n    .upload-section {\n        width: 100%;\n        border-right: none;\n        border-bottom: 1px solid var(--border-color);\n        padding: 15px;\n    }\n    \n    .upload-area {\n        padding: 20px 15px;\n    }\n    \n    .header-left {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 8px;\n    }\n    \n    .stats-bar {\n        flex-direction: column;\n        gap: 8px;\n        padding: 12px 15px;\n    }\n    \n    .file-item {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 12px;\n        padding: 12px 15px;\n    }\n    \n    .file-actions {\n        align-self: flex-end;\n    }\n    \n    .file-details {\n        flex-wrap: wrap;\n        gap: 8px;\n    }\n    \n    .file-details span {\n        min-width: auto;\n        flex-shrink: 0;\n    }\n    \n    .file-name {\n        max-width: 180px;\n        font-size: 14px;\n    }\n    \n    .file-created {\n        min-width: 80px;\n        font-size: 10px;\n        max-width: 120px;\n    }\n    \n    .workspace-management {\n        padding: 6px 8px;\n        max-height: 150px;\n    }\n    \n    .workspace-file-item {\n        padding: 8px 10px;\n        min-height: 36px;\n    }\n    \n    .workspace-file-name {\n        font-size: 12px;\n    }\n    \n    .workspace-action-btn {\n        padding: 3px;\n        min-width: 24px;\n        min-height: 24px;\n    }\n    \n    .workspace-action-btn svg {\n        width: 14px;\n        height: 14px;\n    }\n    \n    .workspace-title {\n        font-size: 11px;\n    }\n    \n    .workspace-icon {\n        font-size: 12px;\n    }\n    \n    .workspace-count {\n        font-size: 9px;\n        padding: 1px 3px;\n    }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}