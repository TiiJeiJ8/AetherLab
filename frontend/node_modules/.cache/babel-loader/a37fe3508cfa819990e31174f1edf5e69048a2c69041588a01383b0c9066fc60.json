{"ast":null,"code":"import { createElementVNode as _createElementVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withModifiers as _withModifiers, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chart-mapping-line\"\n};\nconst _hoisted_2 = {\n  class: \"mapping-zones\"\n};\nconst _hoisted_3 = {\n  class: \"mapping-zone required\"\n};\nconst _hoisted_4 = {\n  class: \"zone-header\"\n};\nconst _hoisted_5 = [\"innerHTML\"];\nconst _hoisted_6 = {\n  key: 0,\n  class: \"drop-placeholder\"\n};\nconst _hoisted_7 = [\"innerHTML\"];\nconst _hoisted_8 = {\n  key: 1,\n  class: \"mapped-field\"\n};\nconst _hoisted_9 = {\n  class: \"field-name\"\n};\nconst _hoisted_10 = [\"innerHTML\"];\nconst _hoisted_11 = {\n  class: \"mapping-zone required\"\n};\nconst _hoisted_12 = {\n  class: \"zone-header\"\n};\nconst _hoisted_13 = [\"innerHTML\"];\nconst _hoisted_14 = {\n  key: 0,\n  class: \"drop-placeholder\"\n};\nconst _hoisted_15 = [\"innerHTML\"];\nconst _hoisted_16 = {\n  key: 1,\n  class: \"mapped-field\"\n};\nconst _hoisted_17 = {\n  class: \"field-name\"\n};\nconst _hoisted_18 = [\"innerHTML\"];\nconst _hoisted_19 = {\n  class: \"mapping-zone optional\"\n};\nconst _hoisted_20 = {\n  class: \"zone-header\"\n};\nconst _hoisted_21 = [\"innerHTML\"];\nconst _hoisted_22 = {\n  key: 0,\n  class: \"drop-placeholder\"\n};\nconst _hoisted_23 = [\"innerHTML\"];\nconst _hoisted_24 = {\n  key: 1,\n  class: \"mapped-field\"\n};\nconst _hoisted_25 = {\n  class: \"field-name\"\n};\nconst _hoisted_26 = [\"innerHTML\"];\nconst _hoisted_27 = {\n  class: \"mapping-summary\"\n};\nconst _hoisted_28 = {\n  class: \"summary-tags\"\n};\nconst _hoisted_29 = {\n  key: 0,\n  class: \"summary-tag\"\n};\nconst _hoisted_30 = {\n  key: 1,\n  class: \"summary-tag\"\n};\nconst _hoisted_31 = {\n  key: 2,\n  class: \"summary-tag\"\n};\nconst _hoisted_32 = {\n  key: 3,\n  class: \"summary-tag empty\"\n};\nimport { ref, computed } from 'vue';\nimport { getThemeIcon } from '../../assets/JS/icons.js';\nexport default {\n  __name: 'ChartMappingLine',\n  props: {\n    mappedFields: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: ['field-mapped', 'field-removed'],\n  setup(__props, {\n    emit: __emit\n  }) {\n    const props = __props;\n    const emit = __emit;\n\n    // 拖拽状态\n    const dragOverZone = ref(null);\n\n    // 字段类型验证\n    const fieldTypeValidation = {\n      xAxis: ['string', 'date', 'category'],\n      yAxis: ['number', 'integer'],\n      series: ['string', 'category']\n    };\n\n    // 验证字段类型\n    function isValidFieldType(fieldType, zoneType) {\n      return fieldTypeValidation[zoneType].includes(fieldType);\n    }\n\n    // 处理拖拽进入\n    function handleDragEnter(zoneType) {\n      dragOverZone.value = zoneType;\n    }\n\n    // 处理拖拽离开\n    function handleDragLeave(zoneType) {\n      if (dragOverZone.value === zoneType) {\n        dragOverZone.value = null;\n      }\n    }\n\n    // 处理拖拽放置\n    function handleDrop(event, zoneType) {\n      event.preventDefault();\n      dragOverZone.value = null;\n      try {\n        const dragData = JSON.parse(event.dataTransfer.getData('application/json'));\n        if (dragData.type === 'column') {\n          const column = dragData.column;\n\n          // 验证字段类型\n          if (!isValidFieldType(column.type, zoneType)) {\n            console.warn(`Invalid field type for ${zoneType}:`, column.type);\n            return;\n          }\n\n          // 发送映射事件\n          emit('field-mapped', {\n            [zoneType]: column\n          });\n          console.log(`Mapped column ${column.name} to ${zoneType}`);\n        }\n      } catch (error) {\n        console.error('Error parsing drag data:', error);\n      }\n    }\n\n    // 移除字段\n    function removeField(zoneType) {\n      emit('field-removed', {\n        role: zoneType,\n        field: props.mappedFields[zoneType]\n      });\n    }\n\n    // 计算映射完成度\n    const mappingProgress = computed(() => {\n      const requiredFields = ['xAxis', 'yAxis'];\n      const mappedRequired = requiredFields.filter(field => props.mappedFields[field]);\n      return {\n        completed: mappedRequired.length,\n        total: requiredFields.length,\n        percentage: mappedRequired.length / requiredFields.length * 100\n      };\n    });\n\n    // 检查是否可以生成图表\n    const canGenerate = computed(() => {\n      return mappingProgress.value.completed === mappingProgress.value.total;\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[31] || (_cache[31] = _createElementVNode(\"div\", {\n        class: \"mapping-instructions\"\n      }, [_createElementVNode(\"h4\", null, \"Line Chart Data Mapping\"), _createElementVNode(\"p\", null, \"Drag columns from the file structure to map data for your line chart.\")], -1)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", {\n        class: \"zone-icon\",\n        innerHTML: _unref(getThemeIcon)('xAxis')\n      }, null, 8, _hoisted_5), _cache[15] || (_cache[15] = _createElementVNode(\"span\", {\n        class: \"zone-title\"\n      }, \"X-Axis\", -1)), _cache[16] || (_cache[16] = _createElementVNode(\"span\", {\n        class: \"zone-requirement\"\n      }, \"Required\", -1))]), _createElementVNode(\"div\", {\n        class: _normalizeClass([\"drop-zone\", {\n          'has-field': __props.mappedFields.xAxis,\n          'drag-over': dragOverZone.value === 'xAxis'\n        }]),\n        onDrop: _cache[1] || (_cache[1] = $event => handleDrop($event, 'xAxis')),\n        onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[3] || (_cache[3] = $event => handleDragEnter('xAxis')),\n        onDragleave: _cache[4] || (_cache[4] = $event => handleDragLeave('xAxis'))\n      }, [!__props.mappedFields.xAxis ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"span\", {\n        class: \"placeholder-icon\",\n        innerHTML: _unref(getThemeIcon)('add')\n      }, null, 8, _hoisted_7), _cache[17] || (_cache[17] = _createElementVNode(\"span\", {\n        class: \"placeholder-text\"\n      }, \"Drop category or date column here\", -1)), _cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n        class: \"placeholder-hint\"\n      }, \"Supports: string, date, category\", -1))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"span\", {\n        class: _normalizeClass([\"field-type-tag\", `type-${__props.mappedFields.xAxis.type}`])\n      }, _toDisplayString(__props.mappedFields.xAxis.type), 3), _createElementVNode(\"span\", _hoisted_9, _toDisplayString(__props.mappedFields.xAxis.name), 1), _createElementVNode(\"button\", {\n        class: \"remove-field-btn\",\n        onClick: _cache[0] || (_cache[0] = $event => removeField('xAxis')),\n        innerHTML: _unref(getThemeIcon)('close')\n      }, null, 8, _hoisted_10)]))], 34)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"span\", {\n        class: \"zone-icon\",\n        innerHTML: _unref(getThemeIcon)('yAxis')\n      }, null, 8, _hoisted_13), _cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n        class: \"zone-title\"\n      }, \"Y-Axis\", -1)), _cache[20] || (_cache[20] = _createElementVNode(\"span\", {\n        class: \"zone-requirement\"\n      }, \"Required\", -1))]), _createElementVNode(\"div\", {\n        class: _normalizeClass([\"drop-zone\", {\n          'has-field': __props.mappedFields.yAxis,\n          'drag-over': dragOverZone.value === 'yAxis'\n        }]),\n        onDrop: _cache[6] || (_cache[6] = $event => handleDrop($event, 'yAxis')),\n        onDragover: _cache[7] || (_cache[7] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[8] || (_cache[8] = $event => handleDragEnter('yAxis')),\n        onDragleave: _cache[9] || (_cache[9] = $event => handleDragLeave('yAxis'))\n      }, [!__props.mappedFields.yAxis ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createElementVNode(\"span\", {\n        class: \"placeholder-icon\",\n        innerHTML: _unref(getThemeIcon)('add')\n      }, null, 8, _hoisted_15), _cache[21] || (_cache[21] = _createElementVNode(\"span\", {\n        class: \"placeholder-text\"\n      }, \"Drop numeric column here\", -1)), _cache[22] || (_cache[22] = _createElementVNode(\"span\", {\n        class: \"placeholder-hint\"\n      }, \"Supports: number, integer\", -1))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"span\", {\n        class: _normalizeClass([\"field-type-tag\", `type-${__props.mappedFields.yAxis.type}`])\n      }, _toDisplayString(__props.mappedFields.yAxis.type), 3), _createElementVNode(\"span\", _hoisted_17, _toDisplayString(__props.mappedFields.yAxis.name), 1), _createElementVNode(\"button\", {\n        class: \"remove-field-btn\",\n        onClick: _cache[5] || (_cache[5] = $event => removeField('yAxis')),\n        innerHTML: _unref(getThemeIcon)('close')\n      }, null, 8, _hoisted_18)]))], 34)]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"span\", {\n        class: \"zone-icon\",\n        innerHTML: _unref(getThemeIcon)('series')\n      }, null, 8, _hoisted_21), _cache[23] || (_cache[23] = _createElementVNode(\"span\", {\n        class: \"zone-title\"\n      }, \"Series\", -1)), _cache[24] || (_cache[24] = _createElementVNode(\"span\", {\n        class: \"zone-requirement optional\"\n      }, \"Optional\", -1))]), _createElementVNode(\"div\", {\n        class: _normalizeClass([\"drop-zone\", {\n          'has-field': __props.mappedFields.series,\n          'drag-over': dragOverZone.value === 'series'\n        }]),\n        onDrop: _cache[11] || (_cache[11] = $event => handleDrop($event, 'series')),\n        onDragover: _cache[12] || (_cache[12] = _withModifiers(() => {}, [\"prevent\"])),\n        onDragenter: _cache[13] || (_cache[13] = $event => handleDragEnter('series')),\n        onDragleave: _cache[14] || (_cache[14] = $event => handleDragLeave('series'))\n      }, [!__props.mappedFields.series ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [_createElementVNode(\"span\", {\n        class: \"placeholder-icon\",\n        innerHTML: _unref(getThemeIcon)('add')\n      }, null, 8, _hoisted_23), _cache[25] || (_cache[25] = _createElementVNode(\"span\", {\n        class: \"placeholder-text\"\n      }, \"Drop category column here\", -1)), _cache[26] || (_cache[26] = _createElementVNode(\"span\", {\n        class: \"placeholder-hint\"\n      }, \"Creates multiple line series\", -1))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_24, [_createElementVNode(\"span\", {\n        class: _normalizeClass([\"field-type-tag\", `type-${__props.mappedFields.series.type}`])\n      }, _toDisplayString(__props.mappedFields.series.type), 3), _createElementVNode(\"span\", _hoisted_25, _toDisplayString(__props.mappedFields.series.name), 1), _createElementVNode(\"button\", {\n        class: \"remove-field-btn\",\n        onClick: _cache[10] || (_cache[10] = $event => removeField('series')),\n        innerHTML: _unref(getThemeIcon)('close')\n      }, null, 8, _hoisted_26)]))], 34)])]), _createElementVNode(\"div\", _hoisted_27, [_cache[30] || (_cache[30] = _createElementVNode(\"h5\", null, \"Current Mapping\", -1)), _createElementVNode(\"div\", _hoisted_28, [__props.mappedFields.xAxis ? (_openBlock(), _createElementBlock(\"span\", _hoisted_29, [_cache[27] || (_cache[27] = _createElementVNode(\"strong\", null, \"X:\", -1)), _createTextVNode(\" \" + _toDisplayString(__props.mappedFields.xAxis.name), 1)])) : _createCommentVNode(\"\", true), __props.mappedFields.yAxis ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, [_cache[28] || (_cache[28] = _createElementVNode(\"strong\", null, \"Y:\", -1)), _createTextVNode(\" \" + _toDisplayString(__props.mappedFields.yAxis.name), 1)])) : _createCommentVNode(\"\", true), __props.mappedFields.series ? (_openBlock(), _createElementBlock(\"span\", _hoisted_31, [_cache[29] || (_cache[29] = _createElementVNode(\"strong\", null, \"Series:\", -1)), _createTextVNode(\" \" + _toDisplayString(__props.mappedFields.series.name), 1)])) : _createCommentVNode(\"\", true), !__props.mappedFields.xAxis && !__props.mappedFields.yAxis ? (_openBlock(), _createElementBlock(\"span\", _hoisted_32, \" No fields mapped \")) : _createCommentVNode(\"\", true)])])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","getThemeIcon","props","__props","emit","__emit","dragOverZone","fieldTypeValidation","xAxis","yAxis","series","isValidFieldType","fieldType","zoneType","includes","handleDragEnter","value","handleDragLeave","handleDrop","event","preventDefault","dragData","JSON","parse","dataTransfer","getData","type","column","console","warn","log","name","error","removeField","role","field","mappedFields","mappingProgress","requiredFields","mappedRequired","filter","completed","length","total","percentage","canGenerate"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/chart-mappings/ChartMappingLine.vue"],"sourcesContent":["<template>\n  <div class=\"chart-mapping-line\">\n    <!-- 映射说明 -->\n    <div class=\"mapping-instructions\">\n      <h4>Line Chart Data Mapping</h4>\n      <p>Drag columns from the file structure to map data for your line chart.</p>\n    </div>\n\n    <!-- 映射区域 -->\n    <div class=\"mapping-zones\">\n      <!-- X轴映射 -->\n      <div class=\"mapping-zone required\">\n        <div class=\"zone-header\">\n          <span class=\"zone-icon\" v-html=\"getThemeIcon('xAxis')\"></span>\n          <span class=\"zone-title\">X-Axis</span>\n          <span class=\"zone-requirement\">Required</span>\n        </div>\n        <div \n          class=\"drop-zone\"\n          :class=\"{ \n            'has-field': mappedFields.xAxis, \n            'drag-over': dragOverZone === 'xAxis' \n          }\"\n          @drop=\"handleDrop($event, 'xAxis')\"\n          @dragover.prevent\n          @dragenter=\"handleDragEnter('xAxis')\"\n          @dragleave=\"handleDragLeave('xAxis')\"\n        >\n          <div v-if=\"!mappedFields.xAxis\" class=\"drop-placeholder\">\n            <span class=\"placeholder-icon\" v-html=\"getThemeIcon('add')\"></span>\n            <span class=\"placeholder-text\">Drop category or date column here</span>\n            <span class=\"placeholder-hint\">Supports: string, date, category</span>\n          </div>\n          <div v-else class=\"mapped-field\">\n            <span class=\"field-type-tag\" :class=\"`type-${mappedFields.xAxis.type}`\">\n              {{ mappedFields.xAxis.type }}\n            </span>\n            <span class=\"field-name\">{{ mappedFields.xAxis.name }}</span>\n            <button \n              class=\"remove-field-btn\"\n              @click=\"removeField('xAxis')\"\n              v-html=\"getThemeIcon('close')\"\n            ></button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Y轴映射 -->\n      <div class=\"mapping-zone required\">\n        <div class=\"zone-header\">\n          <span class=\"zone-icon\" v-html=\"getThemeIcon('yAxis')\"></span>\n          <span class=\"zone-title\">Y-Axis</span>\n          <span class=\"zone-requirement\">Required</span>\n        </div>\n        <div \n          class=\"drop-zone\"\n          :class=\"{ \n            'has-field': mappedFields.yAxis, \n            'drag-over': dragOverZone === 'yAxis' \n          }\"\n          @drop=\"handleDrop($event, 'yAxis')\"\n          @dragover.prevent\n          @dragenter=\"handleDragEnter('yAxis')\"\n          @dragleave=\"handleDragLeave('yAxis')\"\n        >\n          <div v-if=\"!mappedFields.yAxis\" class=\"drop-placeholder\">\n            <span class=\"placeholder-icon\" v-html=\"getThemeIcon('add')\"></span>\n            <span class=\"placeholder-text\">Drop numeric column here</span>\n            <span class=\"placeholder-hint\">Supports: number, integer</span>\n          </div>\n          <div v-else class=\"mapped-field\">\n            <span class=\"field-type-tag\" :class=\"`type-${mappedFields.yAxis.type}`\">\n              {{ mappedFields.yAxis.type }}\n            </span>\n            <span class=\"field-name\">{{ mappedFields.yAxis.name }}</span>\n            <button \n              class=\"remove-field-btn\"\n              @click=\"removeField('yAxis')\"\n              v-html=\"getThemeIcon('close')\"\n            ></button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 系列映射（可选） -->\n      <div class=\"mapping-zone optional\">\n        <div class=\"zone-header\">\n          <span class=\"zone-icon\" v-html=\"getThemeIcon('series')\"></span>\n          <span class=\"zone-title\">Series</span>\n          <span class=\"zone-requirement optional\">Optional</span>\n        </div>\n        <div \n          class=\"drop-zone\"\n          :class=\"{ \n            'has-field': mappedFields.series, \n            'drag-over': dragOverZone === 'series' \n          }\"\n          @drop=\"handleDrop($event, 'series')\"\n          @dragover.prevent\n          @dragenter=\"handleDragEnter('series')\"\n          @dragleave=\"handleDragLeave('series')\"\n        >\n          <div v-if=\"!mappedFields.series\" class=\"drop-placeholder\">\n            <span class=\"placeholder-icon\" v-html=\"getThemeIcon('add')\"></span>\n            <span class=\"placeholder-text\">Drop category column here</span>\n            <span class=\"placeholder-hint\">Creates multiple line series</span>\n          </div>\n          <div v-else class=\"mapped-field\">\n            <span class=\"field-type-tag\" :class=\"`type-${mappedFields.series.type}`\">\n              {{ mappedFields.series.type }}\n            </span>\n            <span class=\"field-name\">{{ mappedFields.series.name }}</span>\n            <button \n              class=\"remove-field-btn\"\n              @click=\"removeField('series')\"\n              v-html=\"getThemeIcon('close')\"\n            ></button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 映射摘要 -->\n    <div class=\"mapping-summary\">\n      <h5>Current Mapping</h5>\n      <div class=\"summary-tags\">\n        <span v-if=\"mappedFields.xAxis\" class=\"summary-tag\">\n          <strong>X:</strong> {{ mappedFields.xAxis.name }}\n        </span>\n        <span v-if=\"mappedFields.yAxis\" class=\"summary-tag\">\n          <strong>Y:</strong> {{ mappedFields.yAxis.name }}\n        </span>\n        <span v-if=\"mappedFields.series\" class=\"summary-tag\">\n          <strong>Series:</strong> {{ mappedFields.series.name }}\n        </span>\n        <span v-if=\"!mappedFields.xAxis && !mappedFields.yAxis\" class=\"summary-tag empty\">\n          No fields mapped\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { getThemeIcon } from '../../assets/JS/icons.js'\n\nconst props = defineProps({\n  mappedFields: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\nconst emit = defineEmits(['field-mapped', 'field-removed'])\n\n// 拖拽状态\nconst dragOverZone = ref(null)\n\n// 字段类型验证\nconst fieldTypeValidation = {\n  xAxis: ['string', 'date', 'category'],\n  yAxis: ['number', 'integer'],\n  series: ['string', 'category']\n}\n\n// 验证字段类型\nfunction isValidFieldType(fieldType, zoneType) {\n  return fieldTypeValidation[zoneType].includes(fieldType)\n}\n\n// 处理拖拽进入\nfunction handleDragEnter(zoneType) {\n  dragOverZone.value = zoneType\n}\n\n// 处理拖拽离开\nfunction handleDragLeave(zoneType) {\n  if (dragOverZone.value === zoneType) {\n    dragOverZone.value = null\n  }\n}\n\n// 处理拖拽放置\nfunction handleDrop(event, zoneType) {\n  event.preventDefault()\n  dragOverZone.value = null\n  \n  try {\n    const dragData = JSON.parse(event.dataTransfer.getData('application/json'))\n    \n    if (dragData.type === 'column') {\n      const column = dragData.column\n      \n      // 验证字段类型\n      if (!isValidFieldType(column.type, zoneType)) {\n        console.warn(`Invalid field type for ${zoneType}:`, column.type)\n        return\n      }\n      \n      // 发送映射事件\n      emit('field-mapped', {\n        [zoneType]: column\n      })\n      \n      console.log(`Mapped column ${column.name} to ${zoneType}`)\n    }\n  } catch (error) {\n    console.error('Error parsing drag data:', error)\n  }\n}\n\n// 移除字段\nfunction removeField(zoneType) {\n  emit('field-removed', {\n    role: zoneType,\n    field: props.mappedFields[zoneType]\n  })\n}\n\n// 计算映射完成度\nconst mappingProgress = computed(() => {\n  const requiredFields = ['xAxis', 'yAxis']\n  const mappedRequired = requiredFields.filter(field => props.mappedFields[field])\n  return {\n    completed: mappedRequired.length,\n    total: requiredFields.length,\n    percentage: (mappedRequired.length / requiredFields.length) * 100\n  }\n})\n\n// 检查是否可以生成图表\nconst canGenerate = computed(() => {\n  return mappingProgress.value.completed === mappingProgress.value.total\n})\n</script>\n\n<style scoped>\n.chart-mapping-line {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  height: 100%;\n}\n\n/* 映射说明 */\n.mapping-instructions {\n  padding: 16px;\n  background: rgba(59, 130, 246, 0.05);\n  border-radius: 8px;\n  border: 1px solid rgba(59, 130, 246, 0.1);\n}\n\n[data-theme=\"dark\"] .mapping-instructions {\n  background: rgba(59, 130, 246, 0.1);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.mapping-instructions h4 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.mapping-instructions p {\n  margin: 0;\n  font-size: 12px;\n  color: var(--text-secondary);\n  line-height: 1.4;\n}\n\n/* 映射区域 */\n.mapping-zones {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  flex: 1;\n}\n\n.mapping-zone {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.zone-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 13px;\n  font-weight: 500;\n}\n\n.zone-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 16px;\n  height: 16px;\n}\n\n.zone-icon svg {\n  width: 14px;\n  height: 14px;\n}\n\n.zone-title {\n  color: var(--text-color);\n}\n\n.zone-requirement {\n  margin-left: auto;\n  font-size: 10px;\n  font-weight: 600;\n  padding: 2px 6px;\n  border-radius: 4px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.zone-requirement:not(.optional) {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n\n.zone-requirement.optional {\n  background: rgba(107, 114, 128, 0.1);\n  color: #6b7280;\n}\n\n/* 拖拽区域 */\n.drop-zone {\n  min-height: 60px;\n  border: 2px dashed rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  background: rgba(0, 0, 0, 0.02);\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 12px;\n}\n\n[data-theme=\"dark\"] .drop-zone {\n  border-color: rgba(255, 255, 255, 0.1);\n  background: rgba(255, 255, 255, 0.02);\n}\n\n.drop-zone.drag-over {\n  border-color: #3b82f6;\n  background: rgba(59, 130, 246, 0.05);\n  transform: scale(1.01);\n}\n\n.drop-zone.has-field {\n  border-color: #10b981;\n  background: rgba(16, 185, 129, 0.05);\n}\n\n/* 拖拽占位符 */\n.drop-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n  text-align: center;\n  color: var(--text-secondary);\n}\n\n.placeholder-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  opacity: 0.5;\n}\n\n.placeholder-icon svg {\n  width: 20px;\n  height: 20px;\n}\n\n.placeholder-text {\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.placeholder-hint {\n  font-size: 10px;\n  opacity: 0.7;\n}\n\n/* 已映射字段 */\n.mapped-field {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n  padding: 8px 12px;\n  background: rgba(16, 185, 129, 0.1);\n  border-radius: 6px;\n  border: 1px solid rgba(16, 185, 129, 0.2);\n}\n\n.field-type-tag {\n  font-size: 9px;\n  font-weight: 600;\n  padding: 2px 6px;\n  border-radius: 4px;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  flex-shrink: 0;\n}\n\n.field-name {\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--text-color);\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.remove-field-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border: none;\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  flex-shrink: 0;\n}\n\n.remove-field-btn:hover {\n  background: rgba(239, 68, 68, 0.2);\n  transform: scale(1.1);\n}\n\n.remove-field-btn svg {\n  width: 12px;\n  height: 12px;\n}\n\n/* 字段类型样式 */\n.type-string {\n  background: rgba(99, 102, 241, 0.15);\n  color: #6366f1;\n}\n\n.type-number,\n.type-integer {\n  background: rgba(16, 185, 129, 0.15);\n  color: #10b981;\n}\n\n.type-date {\n  background: rgba(245, 158, 11, 0.15);\n  color: #f59e0b;\n}\n\n.type-category {\n  background: rgba(139, 92, 246, 0.15);\n  color: #8b5cf6;\n}\n\n/* 映射摘要 */\n.mapping-summary {\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.02);\n  border-radius: 8px;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n[data-theme=\"dark\"] .mapping-summary {\n  background: rgba(255, 255, 255, 0.02);\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.mapping-summary h5 {\n  margin: 0 0 12px 0;\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.summary-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.summary-tag {\n  font-size: 11px;\n  padding: 4px 8px;\n  background: rgba(59, 130, 246, 0.1);\n  color: #3b82f6;\n  border-radius: 4px;\n  font-weight: 500;\n}\n\n.summary-tag.empty {\n  background: rgba(107, 114, 128, 0.1);\n  color: #6b7280;\n  font-style: italic;\n}\n\n/* 响应式适配 */\n@media (max-width: 768px) {\n  .mapping-instructions {\n    padding: 12px;\n  }\n  \n  .drop-zone {\n    min-height: 50px;\n    padding: 8px;\n  }\n  \n  .placeholder-text {\n    font-size: 11px;\n  }\n  \n  .placeholder-hint {\n    font-size: 9px;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;AAClC,SAASC,YAAY,QAAQ,0BAAyB;;;;;;;;;;;;;IAEtD,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,MAAMC,YAAY,GAAGP,GAAG,CAAC,IAAI;;IAE7B;IACA,MAAMQ,mBAAmB,GAAG;MAC1BC,KAAK,EAAE,CAAC,QAAQ,EAAE,MAAM,EAAE,UAAU,CAAC;MACrCC,KAAK,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC;MAC5BC,MAAM,EAAE,CAAC,QAAQ,EAAE,UAAU;IAC/B;;IAEA;IACA,SAASC,gBAAgBA,CAACC,SAAS,EAAEC,QAAQ,EAAE;MAC7C,OAAON,mBAAmB,CAACM,QAAQ,CAAC,CAACC,QAAQ,CAACF,SAAS;IACzD;;IAEA;IACA,SAASG,eAAeA,CAACF,QAAQ,EAAE;MACjCP,YAAY,CAACU,KAAK,GAAGH,QAAO;IAC9B;;IAEA;IACA,SAASI,eAAeA,CAACJ,QAAQ,EAAE;MACjC,IAAIP,YAAY,CAACU,KAAK,KAAKH,QAAQ,EAAE;QACnCP,YAAY,CAACU,KAAK,GAAG,IAAG;MAC1B;IACF;;IAEA;IACA,SAASE,UAAUA,CAACC,KAAK,EAAEN,QAAQ,EAAE;MACnCM,KAAK,CAACC,cAAc,CAAC;MACrBd,YAAY,CAACU,KAAK,GAAG,IAAG;MAExB,IAAI;QACF,MAAMK,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAACK,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;QAE1E,IAAIJ,QAAQ,CAACK,IAAI,KAAK,QAAQ,EAAE;UAC9B,MAAMC,MAAM,GAAGN,QAAQ,CAACM,MAAK;;UAE7B;UACA,IAAI,CAAChB,gBAAgB,CAACgB,MAAM,CAACD,IAAI,EAAEb,QAAQ,CAAC,EAAE;YAC5Ce,OAAO,CAACC,IAAI,CAAC,0BAA0BhB,QAAQ,GAAG,EAAEc,MAAM,CAACD,IAAI;YAC/D;UACF;;UAEA;UACAtB,IAAI,CAAC,cAAc,EAAE;YACnB,CAACS,QAAQ,GAAGc;UACd,CAAC;UAEDC,OAAO,CAACE,GAAG,CAAC,iBAAiBH,MAAM,CAACI,IAAI,OAAOlB,QAAQ,EAAE;QAC3D;MACF,CAAC,CAAC,OAAOmB,KAAK,EAAE;QACdJ,OAAO,CAACI,KAAK,CAAC,0BAA0B,EAAEA,KAAK;MACjD;IACF;;IAEA;IACA,SAASC,WAAWA,CAACpB,QAAQ,EAAE;MAC7BT,IAAI,CAAC,eAAe,EAAE;QACpB8B,IAAI,EAAErB,QAAQ;QACdsB,KAAK,EAAEjC,KAAK,CAACkC,YAAY,CAACvB,QAAQ;MACpC,CAAC;IACH;;IAEA;IACA,MAAMwB,eAAe,GAAGrC,QAAQ,CAAC,MAAM;MACrC,MAAMsC,cAAc,GAAG,CAAC,OAAO,EAAE,OAAO;MACxC,MAAMC,cAAc,GAAGD,cAAc,CAACE,MAAM,CAACL,KAAK,IAAIjC,KAAK,CAACkC,YAAY,CAACD,KAAK,CAAC;MAC/E,OAAO;QACLM,SAAS,EAAEF,cAAc,CAACG,MAAM;QAChCC,KAAK,EAAEL,cAAc,CAACI,MAAM;QAC5BE,UAAU,EAAGL,cAAc,CAACG,MAAM,GAAGJ,cAAc,CAACI,MAAM,GAAI;MAChE;IACF,CAAC;;IAED;IACA,MAAMG,WAAW,GAAG7C,QAAQ,CAAC,MAAM;MACjC,OAAOqC,eAAe,CAACrB,KAAK,CAACyB,SAAS,KAAKJ,eAAe,CAACrB,KAAK,CAAC2B,KAAI;IACvE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}