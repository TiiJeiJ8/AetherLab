{"ast":null,"code":"import { ref, onMounted, onUnmounted, computed } from 'vue';\nimport { RouterLink } from 'vue-router';\nexport default {\n  __name: 'TopBar',\n  props: {\n    actions: {\n      type: Array,\n      default: () => [{\n        type: 'button',\n        label: 'Home',\n        to: '/',\n        external: false\n      }]\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const props = __props;\n\n    // 滚动隐藏逻辑\n    const isHidden = ref(false);\n    let lastScrollY = window.scrollY;\n    let ticking = false;\n    function handleScroll() {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          const currentY = window.scrollY;\n          isHidden.value = currentY > lastScrollY && currentY > 30;\n          lastScrollY = currentY;\n          ticking = false;\n        });\n        ticking = true;\n      }\n    }\n\n    // TopBar 入场\n    const isMounted = ref(false);\n    onMounted(() => {\n      isMounted.value = true;\n      window.addEventListener('scroll', handleScroll);\n      document.addEventListener('click', handleClickOutside);\n    });\n\n    // 菜单状态\n    const isMenuOpen = ref(false);\n    const toggleMenu = () => {\n      isMenuOpen.value = !isMenuOpen.value;\n    };\n    const isDesktop = computed(() => window.innerWidth >= 990);\n\n    // 点击空白处关闭菜单\n    function handleClickOutside(event) {\n      const nav = document.querySelector('.top-bar');\n      if (nav && !nav.contains(event.target)) {\n        isMenuOpen.value = false;\n      }\n    }\n    onMounted(() => {\n      window.addEventListener('scroll', handleScroll);\n      document.addEventListener('click', handleClickOutside);\n    });\n    onUnmounted(() => {\n      window.removeEventListener('scroll', handleScroll);\n      document.removeEventListener('click', handleClickOutside);\n    });\n    const __returned__ = {\n      props,\n      isHidden,\n      get lastScrollY() {\n        return lastScrollY;\n      },\n      set lastScrollY(v) {\n        lastScrollY = v;\n      },\n      get ticking() {\n        return ticking;\n      },\n      set ticking(v) {\n        ticking = v;\n      },\n      handleScroll,\n      isMounted,\n      isMenuOpen,\n      toggleMenu,\n      isDesktop,\n      handleClickOutside,\n      ref,\n      onMounted,\n      onUnmounted,\n      computed,\n      get RouterLink() {\n        return RouterLink;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","computed","RouterLink","props","__props","isHidden","lastScrollY","window","scrollY","ticking","handleScroll","requestAnimationFrame","currentY","value","isMounted","addEventListener","document","handleClickOutside","isMenuOpen","toggleMenu","isDesktop","innerWidth","event","nav","querySelector","contains","target","removeEventListener"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/TopBar.vue"],"sourcesContent":["<template>\n    <transition name=\"topbar-fade-slide\">\n        <header\n            v-if=\"isMounted\"\n            class=\"top-bar\"\n            :class=\"{ 'top-bar--hidden': isHidden }\"\n        >\n            <nav class=\"nav-container\">\n            <!-- LOGO -->\n            <div class=\"logo dynamic-gradient-text\">Fuck Charts</div>\n\n            <!-- 汉堡菜单图标 -->\n            <div class=\"burger-container\" @click=\"toggleMenu\">\n                <span class=\"burger-icon\">☰</span>\n            </div>\n\n            <!-- 菜单项 -->\n            <transition name=\"menu-fade\">\n                <div class=\"nav-actions\" v-show=\"isMenuOpen || isDesktop\">\n                <template v-for=\"(item, idx) in actions\" :key=\"idx\">\n                    <!-- 普通按钮 -->\n                    <button\n                    v-if=\"item.type === 'button' && !item.to\"\n                    class=\"nav-btn\"\n                    @click=\"item.onClick\"\n                    >\n                    {{ item.label }}\n                    </button>\n\n                    <!-- 内部路由跳转 -->\n                    <RouterLink\n                    v-else-if=\"item.type === 'button' && item.to && !item.external\"\n                    :to=\"item.to\"\n                    class=\"nav-btn\"\n                    @click=\"isMenuOpen = false\"\n                    >\n                    {{ item.label }}\n                    </RouterLink>\n\n                    <!-- 外部链接 -->\n                    <a\n                    v-else-if=\"item.type === 'button' && item.to && item.external\"\n                    :href=\"item.to\"\n                    class=\"nav-btn\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    >\n                    {{ item.label }}\n                    </a>\n                </template>\n                </div>\n            </transition>\n            </nav>\n        </header>\n    </transition>\n</template>\n\n<script setup>\n/* eslint-disable */\n    import { ref, onMounted, onUnmounted, computed } from 'vue'\n    import { RouterLink } from 'vue-router'\n\n    const props = defineProps({\n    actions: {\n        type: Array,\n        default: () => [\n        { type: 'button', label: 'Home', to: '/', external: false }\n        ]\n    }\n    })\n\n    // 滚动隐藏逻辑\n    const isHidden = ref(false)\n    let lastScrollY = window.scrollY\n    let ticking = false\n    function handleScroll() {\n    if (!ticking) {\n        window.requestAnimationFrame(() => {\n        const currentY = window.scrollY\n        isHidden.value = currentY > lastScrollY && currentY > 30\n        lastScrollY = currentY\n        ticking = false\n        })\n        ticking = true\n    }\n    }\n\n    // TopBar 入场\n    const isMounted = ref(false)\n    onMounted(() => {\n        isMounted.value = true\n        window.addEventListener('scroll', handleScroll)\n        document.addEventListener('click', handleClickOutside)\n    })\n\n    // 菜单状态\n    const isMenuOpen = ref(false)\n    const toggleMenu = () => {\n    isMenuOpen.value = !isMenuOpen.value\n    }\n\n    const isDesktop = computed(() => window.innerWidth >= 990)\n\n    // 点击空白处关闭菜单\n    function handleClickOutside(event) {\n    const nav = document.querySelector('.top-bar')\n    if (nav && !nav.contains(event.target)) {\n        isMenuOpen.value = false\n    }\n    }\n\n    onMounted(() => {\n    window.addEventListener('scroll', handleScroll)\n    document.addEventListener('click', handleClickOutside)\n    })\n    onUnmounted(() => {\n    window.removeEventListener('scroll', handleScroll)\n    document.removeEventListener('click', handleClickOutside)\n    })\n</script>\n\n<style scoped>\n    .top-bar {\n        position: fixed;\n        top: 2%;\n        left: 50%;\n        transform: translateX(-50%);\n        background-color: var(--bg-color);\n        backdrop-filter: saturate(180%) blur(10px);\n        border-radius: 12px;\n        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n        padding: 0 20px;\n        z-index: 9999;\n        width: 90%;\n        max-width: 1100px;\n        height: auto;\n        transition: top 0.35s ease, opacity 0.25s;\n    }\n\n    /* TopBar 出场动画 */\n    .topbar-fade-slide-enter-active {\n        transition: opacity 0.5s, transform 0.6s;\n    }\n    .topbar-fade-slide-leave-active {\n        transition: opacity 0.3s, transform 0.3s;\n    }\n    \n    .topbar-fade-slide-enter-from {\n        opacity: 0;\n        transform: translateY(-40px);\n    }\n    .topbar-fade-slide-leave-to {\n        opacity: 0;\n        transform: translateY(-40px);\n    }\n    \n    .top-bar--hidden {\n        top: -100px;\n        opacity: 0;\n        pointer-events: none;\n    }\n    \n    .nav-container {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex-wrap: wrap;\n    }\n    \n    .logo {\n        font-weight: 900;\n        font-size: 2.27rem;\n        background: linear-gradient(270deg, #ff416c, #fa83bf, #1f97ff, #12d8fa, #50f6a0, #ff416c);\n        background-size: 1200% 1200%;\n        -webkit-background-clip: text;\n        background-clip: text;\n        -webkit-text-fill-color: transparent;\n        animation: gradientMove 20s ease infinite;\n        user-select: none;\n        margin-right: auto;\n    }\n    \n    @keyframes gradientMove {\n        0% { background-position: 0% 50%; }\n        50% { background-position: 100% 50%; }\n        100% { background-position: 0% 50%; }\n    }\n    \n    .burger-container {\n        display: none;\n        font-size: 1.8rem;\n        cursor: pointer;\n        user-select: none;\n        color: var(--text-color);\n    }\n    \n    .nav-actions {\n        display: flex;\n        gap: 10px;\n        align-items: center;\n        transition: all 0.3s ease;\n    }\n    \n    /* 动画 */\n    .menu-fade-enter-active,\n    .menu-fade-leave-active {\n        transition: all 0.3s ease;\n    }\n    .menu-fade-enter-from,\n    .menu-fade-leave-to {\n        opacity: 0;\n        transform: translateY(-8px);\n    }\n    \n    /* 按钮 */\n    .nav-btn {\n        background: transparent;\n        border: none;\n        font-size: 1rem;\n        font-weight: 600;\n        cursor: pointer;\n        color: var(--text-color);\n        padding: 6px 14px;\n        border-radius: 8px;\n        transition: background-color 0.3s ease;\n        text-align: center;\n        text-decoration: none;\n    }\n    \n    .nav-btn:hover {\n        background-color: rgba(136, 133, 133, 0.1);\n    }\n    \n    /* 响应式：小屏幕 */\n    @media (max-width: 990px) {\n        .burger-container {\n        display: block;\n        }\n    \n        .nav-actions {\n        flex-direction: column;\n        align-items: flex-start;\n        width: 100%;\n        margin-top: 12px;\n        }\n    \n        .nav-btn {\n        width: 100%;\n        text-align: left;\n        padding: 10px 12px;\n        }\n    \n        .logo {\n        font-size: 1.5rem;\n        }\n    }\n</style>\n"],"mappings":"AA2DI,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAI;AAC1D,SAASC,UAAU,QAAQ,YAAW;;;;;;;;;;;;;;;;;;;IAF1C;IAII,MAAMC,KAAK,GAAGC,OAAA;;IASd;IACA,MAAMC,QAAQ,GAAGP,GAAG,CAAC,KAAK;IAC1B,IAAIQ,WAAW,GAAGC,MAAM,CAACC,OAAM;IAC/B,IAAIC,OAAO,GAAG,KAAI;IAClB,SAASC,YAAYA,CAAA,EAAG;MACxB,IAAI,CAACD,OAAO,EAAE;QACVF,MAAM,CAACI,qBAAqB,CAAC,MAAM;UACnC,MAAMC,QAAQ,GAAGL,MAAM,CAACC,OAAM;UAC9BH,QAAQ,CAACQ,KAAK,GAAGD,QAAQ,GAAGN,WAAW,IAAIM,QAAQ,GAAG,EAAC;UACvDN,WAAW,GAAGM,QAAO;UACrBH,OAAO,GAAG,KAAI;QACd,CAAC;QACDA,OAAO,GAAG,IAAG;MACjB;IACA;;IAEA;IACA,MAAMK,SAAS,GAAGhB,GAAG,CAAC,KAAK;IAC3BC,SAAS,CAAC,MAAM;MACZe,SAAS,CAACD,KAAK,GAAG,IAAG;MACrBN,MAAM,CAACQ,gBAAgB,CAAC,QAAQ,EAAEL,YAAY;MAC9CM,QAAQ,CAACD,gBAAgB,CAAC,OAAO,EAAEE,kBAAkB;IACzD,CAAC;;IAED;IACA,MAAMC,UAAU,GAAGpB,GAAG,CAAC,KAAK;IAC5B,MAAMqB,UAAU,GAAGA,CAAA,KAAM;MACzBD,UAAU,CAACL,KAAK,GAAG,CAACK,UAAU,CAACL,KAAI;IACnC;IAEA,MAAMO,SAAS,GAAGnB,QAAQ,CAAC,MAAMM,MAAM,CAACc,UAAU,IAAI,GAAG;;IAEzD;IACA,SAASJ,kBAAkBA,CAACK,KAAK,EAAE;MACnC,MAAMC,GAAG,GAAGP,QAAQ,CAACQ,aAAa,CAAC,UAAU;MAC7C,IAAID,GAAG,IAAI,CAACA,GAAG,CAACE,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC,EAAE;QACpCR,UAAU,CAACL,KAAK,GAAG,KAAI;MAC3B;IACA;IAEAd,SAAS,CAAC,MAAM;MAChBQ,MAAM,CAACQ,gBAAgB,CAAC,QAAQ,EAAEL,YAAY;MAC9CM,QAAQ,CAACD,gBAAgB,CAAC,OAAO,EAAEE,kBAAkB;IACrD,CAAC;IACDjB,WAAW,CAAC,MAAM;MAClBO,MAAM,CAACoB,mBAAmB,CAAC,QAAQ,EAAEjB,YAAY;MACjDM,QAAQ,CAACW,mBAAmB,CAAC,OAAO,EAAEV,kBAAkB;IACxD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}