{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { ref, computed, watch, reactive } from 'vue';\n\n// Props\n\nexport default {\n  __name: 'DataMappingPanel',\n  props: {\n    chartType: {\n      type: String,\n      required: true\n    },\n    availableColumns: {\n      type: Array,\n      default: () => []\n    }\n  },\n  emits: ['mapping-changed', 'render-chart', 'save-chart'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const props = __props;\n\n    // Emits\n    const emit = __emit;\n\n    // 渲染模式\n    const isRealTimeRender = ref(true);\n\n    // 配置显示状态\n    const showAdvanced = ref(false);\n    const showFilters = ref(false);\n    const expandedGroups = ref([]);\n\n    // 拖拽状态\n    const dragOverZone = ref(null);\n\n    // 基础配置\n    const basicConfig = reactive([{\n      key: 'xAxis',\n      label: 'X轴',\n      value: null,\n      required: true\n    }, {\n      key: 'yAxis',\n      label: 'Y轴',\n      value: null,\n      required: true\n    }, {\n      key: 'series',\n      label: '系列',\n      value: null,\n      required: false\n    }]);\n\n    // 高级配置\n    const advancedConfig = reactive([{\n      key: 'style',\n      title: '样式配置',\n      items: [{\n        key: 'color',\n        label: '颜色',\n        value: null\n      }, {\n        key: 'size',\n        label: '大小',\n        value: null\n      }]\n    }, {\n      key: 'tooltip',\n      title: '提示框配置',\n      items: [{\n        key: 'tooltipFormat',\n        label: '格式化',\n        value: null\n      }]\n    }, {\n      key: 'legend',\n      title: '图例配置',\n      items: [{\n        key: 'legendPosition',\n        label: '位置',\n        value: null\n      }]\n    }]);\n\n    // 过滤配置\n    const filterMode = ref('all');\n    const rangeStart = ref(1);\n    const rangeEnd = ref(100);\n    const conditions = ref([]);\n\n    // 数据验证错误\n    const validationErrors = ref([]);\n\n    // 计算属性\n    const canSaveChart = computed(() => {\n      return basicConfig.every(item => !item.required || item.value);\n    });\n\n    // 图表类型变化时重新配置\n    watch(() => props.chartType, newType => {\n      updateConfigForChartType(newType);\n    });\n\n    // 实时渲染模式下监听映射变化\n    watch(() => [basicConfig, advancedConfig], () => {\n      if (isRealTimeRender.value) {\n        validateAndEmitMapping();\n      }\n    }, {\n      deep: true\n    });\n\n    // 方法\n    function updateConfigForChartType(chartType) {\n      // 根据图表类型更新配置项\n      switch (chartType) {\n        case 'line':\n        case 'bar':\n          basicConfig.splice(0, basicConfig.length, {\n            key: 'xAxis',\n            label: 'X轴',\n            value: null,\n            required: true\n          }, {\n            key: 'yAxis',\n            label: 'Y轴',\n            value: null,\n            required: true\n          }, {\n            key: 'series',\n            label: '系列',\n            value: null,\n            required: false\n          });\n          break;\n        case 'pie':\n          basicConfig.splice(0, basicConfig.length, {\n            key: 'name',\n            label: '名称',\n            value: null,\n            required: true\n          }, {\n            key: 'value',\n            label: '数值',\n            value: null,\n            required: true\n          });\n          break;\n        case 'scatter':\n          basicConfig.splice(0, basicConfig.length, {\n            key: 'xAxis',\n            label: 'X轴',\n            value: null,\n            required: true\n          }, {\n            key: 'yAxis',\n            label: 'Y轴',\n            value: null,\n            required: true\n          }, {\n            key: 'size',\n            label: '大小',\n            value: null,\n            required: false\n          });\n          break;\n        default:\n          // 默认配置\n          break;\n      }\n    }\n    function handleDrop(event, configKey) {\n      event.preventDefault();\n      dragOverZone.value = null;\n      const columnData = JSON.parse(event.dataTransfer.getData('text/plain'));\n\n      // 找到对应的配置项并设置值\n      const basicItem = basicConfig.find(item => item.key === configKey);\n      if (basicItem) {\n        basicItem.value = columnData;\n      } else {\n        // 查找高级配置\n        for (const group of advancedConfig) {\n          const advancedItem = group.items.find(item => item.key === configKey);\n          if (advancedItem) {\n            advancedItem.value = columnData;\n            break;\n          }\n        }\n      }\n      if (isRealTimeRender.value) {\n        validateAndEmitMapping();\n      }\n    }\n    function removeMapping(configKey) {\n      const basicItem = basicConfig.find(item => item.key === configKey);\n      if (basicItem) {\n        basicItem.value = null;\n      } else {\n        for (const group of advancedConfig) {\n          const advancedItem = group.items.find(item => item.key === configKey);\n          if (advancedItem) {\n            advancedItem.value = null;\n            break;\n          }\n        }\n      }\n      if (isRealTimeRender.value) {\n        validateAndEmitMapping();\n      }\n    }\n    function toggleGroup(groupKey) {\n      const index = expandedGroups.value.indexOf(groupKey);\n      if (index > -1) {\n        expandedGroups.value.splice(index, 1);\n      } else {\n        expandedGroups.value.push(groupKey);\n      }\n    }\n    function toggleRenderMode() {\n      isRealTimeRender.value = !isRealTimeRender.value;\n      if (isRealTimeRender.value) {\n        validateAndEmitMapping();\n      }\n    }\n    function manualRender() {\n      validateAndEmitMapping();\n    }\n    function validateAndEmitMapping() {\n      const errors = [];\n\n      // 验证必需字段\n      for (const item of basicConfig) {\n        if (item.required && !item.value) {\n          errors.push(`${item.label}是必需的`);\n        }\n      }\n\n      // 验证数据类型匹配\n      if (props.chartType === 'line' || props.chartType === 'bar') {\n        const yAxisItem = basicConfig.find(item => item.key === 'yAxis');\n        if (yAxisItem && yAxisItem.value && yAxisItem.value.type !== 'number') {\n          errors.push('Y轴必须是数值类型');\n        }\n      }\n      validationErrors.value = errors;\n      if (errors.length === 0) {\n        // 构建映射数据\n        const mapping = {};\n\n        // 基础配置\n        for (const item of basicConfig) {\n          if (item.value) {\n            mapping[item.key] = item.value;\n          }\n        }\n\n        // 高级配置\n        for (const group of advancedConfig) {\n          for (const item of group.items) {\n            if (item.value) {\n              mapping[item.key] = item.value;\n            }\n          }\n        }\n\n        // 过滤配置\n        const filterConfig = {\n          mode: filterMode.value,\n          range: {\n            start: rangeStart.value,\n            end: rangeEnd.value\n          },\n          conditions: conditions.value\n        };\n        emit('mapping-changed', {\n          mapping,\n          filter: filterConfig\n        });\n      }\n    }\n    function addCondition() {\n      conditions.value.push({\n        column: '',\n        operator: 'eq',\n        value: ''\n      });\n    }\n    function removeCondition(index) {\n      conditions.value.splice(index, 1);\n    }\n    function saveChart() {\n      if (canSaveChart.value) {\n        emit('save-chart');\n      }\n    }\n    function clearMappings() {\n      for (const item of basicConfig) {\n        item.value = null;\n      }\n      for (const group of advancedConfig) {\n        for (const item of group.items) {\n          item.value = null;\n        }\n      }\n      validationErrors.value = [];\n    }\n    const __returned__ = {\n      props,\n      emit,\n      isRealTimeRender,\n      showAdvanced,\n      showFilters,\n      expandedGroups,\n      dragOverZone,\n      basicConfig,\n      advancedConfig,\n      filterMode,\n      rangeStart,\n      rangeEnd,\n      conditions,\n      validationErrors,\n      canSaveChart,\n      updateConfigForChartType,\n      handleDrop,\n      removeMapping,\n      toggleGroup,\n      toggleRenderMode,\n      manualRender,\n      validateAndEmitMapping,\n      addCondition,\n      removeCondition,\n      saveChart,\n      clearMappings,\n      ref,\n      computed,\n      watch,\n      reactive\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","watch","reactive","props","__props","emit","__emit","isRealTimeRender","showAdvanced","showFilters","expandedGroups","dragOverZone","basicConfig","key","label","value","required","advancedConfig","title","items","filterMode","rangeStart","rangeEnd","conditions","validationErrors","canSaveChart","every","item","chartType","newType","updateConfigForChartType","validateAndEmitMapping","deep","splice","length","handleDrop","event","configKey","preventDefault","columnData","JSON","parse","dataTransfer","getData","basicItem","find","group","advancedItem","removeMapping","toggleGroup","groupKey","index","indexOf","push","toggleRenderMode","manualRender","errors","yAxisItem","type","mapping","filterConfig","mode","range","start","end","filter","addCondition","column","operator","removeCondition","saveChart","clearMappings"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/DataMappingPanel.vue"],"sourcesContent":["<template>\n<div class=\"data-mapping-panel\">\n  <div class=\"mapping-header\">\n    <h3>数据映射配置</h3>\n    <div class=\"render-mode-toggle\">\n      <button \n        class=\"render-mode-btn\" \n        :class=\"{ active: isRealTimeRender }\"\n        @click=\"toggleRenderMode\">\n        {{ isRealTimeRender ? '实时渲染' : '手动渲染' }}\n      </button>\n      <button \n        v-if=\"!isRealTimeRender\"\n        class=\"render-btn\"\n        @click=\"manualRender\">\n        生成图表\n      </button>\n    </div>\n  </div>\n\n  <div class=\"mapping-content\">\n    <!-- 基础配置 -->\n    <div class=\"config-section\">\n      <h4>基础配置</h4>\n      <div class=\"config-items\">\n        <div \n          v-for=\"item in basicConfig\" \n          :key=\"item.key\"\n          class=\"config-item\">\n          <label>{{ item.label }}</label>\n          <div \n            class=\"drop-zone\"\n            :class=\"{ \n              'has-data': item.value,\n              'drag-over': dragOverZone === item.key \n            }\"\n            @drop=\"handleDrop($event, item.key)\"\n            @dragover.prevent=\"dragOverZone = item.key\"\n            @dragleave=\"dragOverZone = null\">\n            <div v-if=\"item.value\" class=\"mapped-column\">\n              <span class=\"column-info\">\n                <span class=\"column-name\">{{ item.value.name }}</span>\n                <span class=\"column-type\">{{ item.value.type }}</span>\n              </span>\n              <button \n                class=\"remove-mapping\"\n                @click=\"removeMapping(item.key)\">\n                ×\n              </button>\n            </div>\n            <div v-else class=\"drop-hint\">\n              拖拽列到此处\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 更多配置 -->\n    <div class=\"config-section\">\n      <div class=\"section-header\" @click=\"showAdvanced = !showAdvanced\">\n        <h4>更多配置</h4>\n        <span class=\"toggle-icon\" :class=\"{ expanded: showAdvanced }\">\n          {{ showAdvanced ? '−' : '+' }}\n        </span>\n      </div>\n      <div v-if=\"showAdvanced\" class=\"advanced-config\">\n        <div \n          v-for=\"group in advancedConfig\" \n          :key=\"group.title\"\n          class=\"config-group\">\n          <div class=\"group-header\" @click=\"toggleGroup(group.key)\">\n            <span>{{ group.title }}</span>\n            <span class=\"group-toggle\" :class=\"{ expanded: expandedGroups.includes(group.key) }\">\n              {{ expandedGroups.includes(group.key) ? '−' : '+' }}\n            </span>\n          </div>\n          <div v-if=\"expandedGroups.includes(group.key)\" class=\"group-content\">\n            <div \n              v-for=\"item in group.items\" \n              :key=\"item.key\"\n              class=\"config-item\">\n              <label>{{ item.label }}</label>\n              <div \n                class=\"drop-zone\"\n                :class=\"{ \n                  'has-data': item.value,\n                  'drag-over': dragOverZone === item.key \n                }\"\n                @drop=\"handleDrop($event, item.key)\"\n                @dragover.prevent=\"dragOverZone = item.key\"\n                @dragleave=\"dragOverZone = null\">\n                <div v-if=\"item.value\" class=\"mapped-column\">\n                  <span class=\"column-info\">\n                    <span class=\"column-name\">{{ item.value.name }}</span>\n                    <span class=\"column-type\">{{ item.value.type }}</span>\n                  </span>\n                  <button \n                    class=\"remove-mapping\"\n                    @click=\"removeMapping(item.key)\">\n                    ×\n                  </button>\n                </div>\n                <div v-else class=\"drop-hint\">\n                  拖拽列到此处\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 数据过滤 -->\n    <div class=\"config-section\">\n      <div class=\"section-header\" @click=\"showFilters = !showFilters\">\n        <h4>数据过滤</h4>\n        <span class=\"toggle-icon\" :class=\"{ expanded: showFilters }\">\n          {{ showFilters ? '−' : '+' }}\n        </span>\n      </div>\n      <div v-if=\"showFilters\" class=\"filter-config\">\n        <div class=\"filter-mode\">\n          <label>过滤模式:</label>\n          <select v-model=\"filterMode\">\n            <option value=\"all\">全部行</option>\n            <option value=\"range\">范围选择</option>\n            <option value=\"condition\">条件过滤</option>\n          </select>\n        </div>\n        <div v-if=\"filterMode === 'range'\" class=\"range-filter\">\n          <label>起始行:</label>\n          <input type=\"number\" v-model.number=\"rangeStart\" min=\"1\">\n          <label>结束行:</label>\n          <input type=\"number\" v-model.number=\"rangeEnd\" min=\"1\">\n        </div>\n        <div v-if=\"filterMode === 'condition'\" class=\"condition-filter\">\n          <div v-for=\"(condition, index) in conditions\" :key=\"index\" class=\"condition-item\">\n            <select v-model=\"condition.column\">\n              <option value=\"\">选择列</option>\n              <option \n                v-for=\"col in availableColumns\" \n                :key=\"col.name\"\n                :value=\"col.name\">\n                {{ col.name }}\n              </option>\n            </select>\n            <select v-model=\"condition.operator\">\n              <option value=\"eq\">等于</option>\n              <option value=\"ne\">不等于</option>\n              <option value=\"gt\">大于</option>\n              <option value=\"lt\">小于</option>\n              <option value=\"contains\">包含</option>\n            </select>\n            <input v-model=\"condition.value\" placeholder=\"值\">\n            <button @click=\"removeCondition(index)\">删除</button>\n          </div>\n          <button @click=\"addCondition\">添加条件</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 数据验证 -->\n    <div v-if=\"validationErrors.length > 0\" class=\"validation-errors\">\n      <h4>数据验证错误</h4>\n      <ul>\n        <li v-for=\"error in validationErrors\" :key=\"error\">\n          {{ error }}\n        </li>\n      </ul>\n    </div>\n\n    <!-- 操作按钮 -->\n    <div class=\"actions\">\n      <button \n        class=\"action-btn save-btn\"\n        @click=\"saveChart\"\n        :disabled=\"!canSaveChart\">\n        保存图表\n      </button>\n      <button \n        class=\"action-btn clear-btn\"\n        @click=\"clearMappings\">\n        清空映射\n      </button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, computed, watch, reactive } from 'vue'\n\n// Props\nconst props = defineProps({\n  chartType: {\n    type: String,\n    required: true\n  },\n  availableColumns: {\n    type: Array,\n    default: () => []\n  }\n})\n\n// Emits\nconst emit = defineEmits(['mapping-changed', 'render-chart', 'save-chart'])\n\n// 渲染模式\nconst isRealTimeRender = ref(true)\n\n// 配置显示状态\nconst showAdvanced = ref(false)\nconst showFilters = ref(false)\nconst expandedGroups = ref([])\n\n// 拖拽状态\nconst dragOverZone = ref(null)\n\n// 基础配置\nconst basicConfig = reactive([\n  { key: 'xAxis', label: 'X轴', value: null, required: true },\n  { key: 'yAxis', label: 'Y轴', value: null, required: true },\n  { key: 'series', label: '系列', value: null, required: false }\n])\n\n// 高级配置\nconst advancedConfig = reactive([\n  {\n    key: 'style',\n    title: '样式配置',\n    items: [\n      { key: 'color', label: '颜色', value: null },\n      { key: 'size', label: '大小', value: null }\n    ]\n  },\n  {\n    key: 'tooltip',\n    title: '提示框配置',\n    items: [\n      { key: 'tooltipFormat', label: '格式化', value: null }\n    ]\n  },\n  {\n    key: 'legend',\n    title: '图例配置',\n    items: [\n      { key: 'legendPosition', label: '位置', value: null }\n    ]\n  }\n])\n\n// 过滤配置\nconst filterMode = ref('all')\nconst rangeStart = ref(1)\nconst rangeEnd = ref(100)\nconst conditions = ref([])\n\n// 数据验证错误\nconst validationErrors = ref([])\n\n// 计算属性\nconst canSaveChart = computed(() => {\n  return basicConfig.every(item => !item.required || item.value)\n})\n\n// 图表类型变化时重新配置\nwatch(() => props.chartType, (newType) => {\n  updateConfigForChartType(newType)\n})\n\n// 实时渲染模式下监听映射变化\nwatch(() => [basicConfig, advancedConfig], () => {\n  if (isRealTimeRender.value) {\n    validateAndEmitMapping()\n  }\n}, { deep: true })\n\n// 方法\nfunction updateConfigForChartType(chartType) {\n  // 根据图表类型更新配置项\n  switch (chartType) {\n    case 'line':\n    case 'bar':\n      basicConfig.splice(0, basicConfig.length, \n        { key: 'xAxis', label: 'X轴', value: null, required: true },\n        { key: 'yAxis', label: 'Y轴', value: null, required: true },\n        { key: 'series', label: '系列', value: null, required: false }\n      )\n      break\n    case 'pie':\n      basicConfig.splice(0, basicConfig.length,\n        { key: 'name', label: '名称', value: null, required: true },\n        { key: 'value', label: '数值', value: null, required: true }\n      )\n      break\n    case 'scatter':\n      basicConfig.splice(0, basicConfig.length,\n        { key: 'xAxis', label: 'X轴', value: null, required: true },\n        { key: 'yAxis', label: 'Y轴', value: null, required: true },\n        { key: 'size', label: '大小', value: null, required: false }\n      )\n      break\n    default:\n      // 默认配置\n      break\n  }\n}\n\nfunction handleDrop(event, configKey) {\n  event.preventDefault()\n  dragOverZone.value = null\n  \n  const columnData = JSON.parse(event.dataTransfer.getData('text/plain'))\n  \n  // 找到对应的配置项并设置值\n  const basicItem = basicConfig.find(item => item.key === configKey)\n  if (basicItem) {\n    basicItem.value = columnData\n  } else {\n    // 查找高级配置\n    for (const group of advancedConfig) {\n      const advancedItem = group.items.find(item => item.key === configKey)\n      if (advancedItem) {\n        advancedItem.value = columnData\n        break\n      }\n    }\n  }\n  \n  if (isRealTimeRender.value) {\n    validateAndEmitMapping()\n  }\n}\n\nfunction removeMapping(configKey) {\n  const basicItem = basicConfig.find(item => item.key === configKey)\n  if (basicItem) {\n    basicItem.value = null\n  } else {\n    for (const group of advancedConfig) {\n      const advancedItem = group.items.find(item => item.key === configKey)\n      if (advancedItem) {\n        advancedItem.value = null\n        break\n      }\n    }\n  }\n  \n  if (isRealTimeRender.value) {\n    validateAndEmitMapping()\n  }\n}\n\nfunction toggleGroup(groupKey) {\n  const index = expandedGroups.value.indexOf(groupKey)\n  if (index > -1) {\n    expandedGroups.value.splice(index, 1)\n  } else {\n    expandedGroups.value.push(groupKey)\n  }\n}\n\nfunction toggleRenderMode() {\n  isRealTimeRender.value = !isRealTimeRender.value\n  if (isRealTimeRender.value) {\n    validateAndEmitMapping()\n  }\n}\n\nfunction manualRender() {\n  validateAndEmitMapping()\n}\n\nfunction validateAndEmitMapping() {\n  const errors = []\n  \n  // 验证必需字段\n  for (const item of basicConfig) {\n    if (item.required && !item.value) {\n      errors.push(`${item.label}是必需的`)\n    }\n  }\n  \n  // 验证数据类型匹配\n  if (props.chartType === 'line' || props.chartType === 'bar') {\n    const yAxisItem = basicConfig.find(item => item.key === 'yAxis')\n    if (yAxisItem && yAxisItem.value && yAxisItem.value.type !== 'number') {\n      errors.push('Y轴必须是数值类型')\n    }\n  }\n  \n  validationErrors.value = errors\n  \n  if (errors.length === 0) {\n    // 构建映射数据\n    const mapping = {}\n    \n    // 基础配置\n    for (const item of basicConfig) {\n      if (item.value) {\n        mapping[item.key] = item.value\n      }\n    }\n    \n    // 高级配置\n    for (const group of advancedConfig) {\n      for (const item of group.items) {\n        if (item.value) {\n          mapping[item.key] = item.value\n        }\n      }\n    }\n    \n    // 过滤配置\n    const filterConfig = {\n      mode: filterMode.value,\n      range: { start: rangeStart.value, end: rangeEnd.value },\n      conditions: conditions.value\n    }\n    \n    emit('mapping-changed', { mapping, filter: filterConfig })\n  }\n}\n\nfunction addCondition() {\n  conditions.value.push({\n    column: '',\n    operator: 'eq',\n    value: ''\n  })\n}\n\nfunction removeCondition(index) {\n  conditions.value.splice(index, 1)\n}\n\nfunction saveChart() {\n  if (canSaveChart.value) {\n    emit('save-chart')\n  }\n}\n\nfunction clearMappings() {\n  for (const item of basicConfig) {\n    item.value = null\n  }\n  for (const group of advancedConfig) {\n    for (const item of group.items) {\n      item.value = null\n    }\n  }\n  validationErrors.value = []\n}\n</script>\n\n<style scoped>\n.data-mapping-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background: var(--bg-color);\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.mapping-header {\n  padding: 16px;\n  border-bottom: 1px solid var(--border-color);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.mapping-header h3 {\n  margin: 0;\n  color: var(--text-color);\n}\n\n.render-mode-toggle {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.render-mode-btn {\n  padding: 4px 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background: var(--bg-color);\n  color: var(--text-color);\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.render-mode-btn.active {\n  background: var(--primary-color);\n  color: white;\n}\n\n.render-btn {\n  padding: 4px 12px;\n  border: 1px solid var(--primary-color);\n  border-radius: 4px;\n  background: var(--primary-color);\n  color: white;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.mapping-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 16px;\n}\n\n.config-section {\n  margin-bottom: 24px;\n}\n\n.config-section h4 {\n  margin: 0 0 12px 0;\n  color: var(--text-color);\n  font-size: 14px;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  padding: 4px 0;\n}\n\n.toggle-icon {\n  font-weight: bold;\n  transition: transform 0.2s;\n}\n\n.toggle-icon.expanded {\n  transform: rotate(180deg);\n}\n\n.config-items {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.config-item {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.config-item label {\n  font-size: 12px;\n  color: var(--text-color);\n  font-weight: 500;\n}\n\n.drop-zone {\n  min-height: 40px;\n  border: 2px dashed var(--border-color);\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px;\n  transition: all 0.2s;\n}\n\n.drop-zone.drag-over {\n  border-color: var(--primary-color);\n  background: rgba(0, 123, 255, 0.05);\n}\n\n.drop-zone.has-data {\n  border-style: solid;\n  border-color: var(--success-color);\n  background: rgba(40, 167, 69, 0.05);\n}\n\n.drop-hint {\n  font-size: 12px;\n  color: var(--text-color-secondary);\n  text-align: center;\n}\n\n.mapped-column {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding: 4px 8px;\n  background: var(--bg-color);\n  border-radius: 4px;\n}\n\n.column-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.column-name {\n  font-weight: 500;\n  color: var(--text-color);\n  font-size: 12px;\n}\n\n.column-type {\n  font-size: 10px;\n  color: var(--text-color-secondary);\n}\n\n.remove-mapping {\n  background: none;\n  border: none;\n  color: var(--danger-color);\n  cursor: pointer;\n  font-size: 16px;\n  padding: 2px 4px;\n  border-radius: 2px;\n}\n\n.remove-mapping:hover {\n  background: rgba(220, 53, 69, 0.1);\n}\n\n.advanced-config {\n  margin-top: 12px;\n}\n\n.config-group {\n  margin-bottom: 16px;\n}\n\n.group-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px 0;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.group-toggle {\n  font-weight: bold;\n  transition: transform 0.2s;\n}\n\n.group-toggle.expanded {\n  transform: rotate(180deg);\n}\n\n.group-content {\n  margin-top: 12px;\n  padding-left: 16px;\n}\n\n.filter-config {\n  margin-top: 12px;\n}\n\n.filter-mode {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n\n.filter-mode select {\n  padding: 4px 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background: var(--bg-color);\n  color: var(--text-color);\n}\n\n.range-filter {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.range-filter input {\n  padding: 4px 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background: var(--bg-color);\n  color: var(--text-color);\n  width: 80px;\n}\n\n.condition-filter {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.condition-item {\n  display: flex;\n  gap: 8px;\n  align-items: center;\n  flex-wrap: wrap;\n}\n\n.condition-item select,\n.condition-item input {\n  padding: 4px 8px;\n  border: 1px solid var(--border-color);\n  border-radius: 4px;\n  background: var(--bg-color);\n  color: var(--text-color);\n}\n\n.condition-item button {\n  padding: 4px 8px;\n  border: 1px solid var(--danger-color);\n  border-radius: 4px;\n  background: var(--danger-color);\n  color: white;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.validation-errors {\n  background: rgba(220, 53, 69, 0.1);\n  border: 1px solid var(--danger-color);\n  border-radius: 4px;\n  padding: 12px;\n  margin-bottom: 16px;\n}\n\n.validation-errors h4 {\n  margin: 0 0 8px 0;\n  color: var(--danger-color);\n}\n\n.validation-errors ul {\n  margin: 0;\n  padding-left: 20px;\n}\n\n.validation-errors li {\n  color: var(--danger-color);\n  font-size: 12px;\n}\n\n.actions {\n  display: flex;\n  gap: 8px;\n  margin-top: 16px;\n}\n\n.action-btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 12px;\n  transition: all 0.2s;\n}\n\n.save-btn {\n  background: var(--success-color);\n  color: white;\n}\n\n.save-btn:disabled {\n  background: var(--border-color);\n  cursor: not-allowed;\n}\n\n.clear-btn {\n  background: var(--secondary-color);\n  color: var(--text-color);\n}\n\n.action-btn:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}