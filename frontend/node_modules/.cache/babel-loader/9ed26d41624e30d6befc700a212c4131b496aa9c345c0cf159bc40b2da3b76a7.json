{"ast":null,"code":"import { ref, watch, computed } from 'vue';\nexport default {\n  __name: 'CustomConfigItem',\n  props: {\n    config: {\n      type: Object,\n      required: true\n    },\n    modelValue: {\n      type: [String, Number, Boolean, Array, Object],\n      default: null\n    },\n    fieldName: {\n      type: String,\n      required: true\n    }\n  },\n  emits: ['update:modelValue'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const props = __props;\n    const emit = __emit;\n\n    // 本地值处理\n    const localValue = ref(props.modelValue !== null ? props.modelValue : props.config.default);\n\n    // 初始化默认值\n    if (props.config.type === 'multiselect' && !Array.isArray(localValue.value)) {\n      localValue.value = [];\n    }\n    if (props.config.type === 'range' && typeof localValue.value !== 'object') {\n      localValue.value = {\n        min: props.config.min || 0,\n        max: props.config.max || 100\n      };\n    }\n\n    // 监听外部值变化\n    watch(() => props.modelValue, newValue => {\n      localValue.value = newValue !== null ? newValue : props.config.default;\n    }, {\n      deep: true\n    });\n\n    // 处理值变化\n    function handleChange() {\n      emit('update:modelValue', localValue.value);\n    }\n\n    // 计算是否显示帮助文本\n    const showHelp = computed(() => {\n      return props.config.help && props.config.help.trim().length > 0;\n    });\n    const __returned__ = {\n      props,\n      emit,\n      localValue,\n      handleChange,\n      showHelp,\n      ref,\n      watch,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","computed","props","__props","emit","__emit","localValue","modelValue","config","default","type","Array","isArray","value","min","max","newValue","deep","handleChange","showHelp","help","trim","length"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/components/CustomConfigItem.vue"],"sourcesContent":["<template>\n  <div class=\"custom-config-item\">\n    <label class=\"config-label\">\n      {{ config.label }}\n      <span v-if=\"config.required\" class=\"required-star\">*</span>\n    </label>\n\n    <div class=\"config-control\">\n      <!-- 文本输入 -->\n      <input\n        v-if=\"config.type === 'text'\"\n        type=\"text\"\n        v-model=\"localValue\"\n        :placeholder=\"config.placeholder\"\n        class=\"config-input\"\n        @input=\"handleChange\"\n      />\n\n      <!-- 数字输入 -->\n      <input\n        v-else-if=\"config.type === 'number'\"\n        type=\"number\"\n        v-model.number=\"localValue\"\n        :min=\"config.min\"\n        :max=\"config.max\"\n        :step=\"config.step\"\n        class=\"config-input\"\n        @input=\"handleChange\"\n      />\n\n      <!-- 选择框 -->\n      <select\n        v-else-if=\"config.type === 'select'\"\n        v-model=\"localValue\"\n        class=\"config-select\"\n        @change=\"handleChange\"\n      >\n        <option\n          v-for=\"option in config.options\"\n          :key=\"option.value\"\n          :value=\"option.value\"\n        >\n          {{ option.label }}\n        </option>\n      </select>\n\n      <!-- 复选框 -->\n      <input\n        v-else-if=\"config.type === 'checkbox'\"\n        type=\"checkbox\"\n        v-model=\"localValue\"\n        class=\"config-checkbox\"\n        @change=\"handleChange\"\n      />\n\n      <!-- 滑块 -->\n      <div v-else-if=\"config.type === 'slider'\" class=\"slider-container\">\n        <input\n          type=\"range\"\n          v-model.number=\"localValue\"\n          :min=\"config.min\"\n          :max=\"config.max\"\n          :step=\"config.step || 1\"\n          class=\"config-slider\"\n          @input=\"handleChange\"\n        />\n        <span class=\"slider-value\">\n          {{ localValue }}{{ config.unit || '' }}\n        </span>\n      </div>\n\n      <!-- 颜色选择 -->\n      <input\n        v-else-if=\"config.type === 'color'\"\n        type=\"color\"\n        v-model=\"localValue\"\n        class=\"config-color\"\n        @change=\"handleChange\"\n      />\n\n      <!-- 多选 -->\n      <div v-else-if=\"config.type === 'multiselect'\" class=\"multiselect-container\">\n        <div\n          v-for=\"option in config.options\"\n          :key=\"option.value\"\n          class=\"multiselect-option\"\n        >\n          <input\n            type=\"checkbox\"\n            :id=\"`${fieldName}-${option.value}`\"\n            :value=\"option.value\"\n            v-model=\"localValue\"\n            @change=\"handleChange\"\n          />\n          <label :for=\"`${fieldName}-${option.value}`\">{{ option.label }}</label>\n        </div>\n      </div>\n\n      <!-- 范围选择 -->\n      <div v-else-if=\"config.type === 'range'\" class=\"range-container\">\n        <input\n          type=\"number\"\n          v-model.number=\"localValue.min\"\n          :min=\"config.min\"\n          :max=\"config.max\"\n          placeholder=\"最小值\"\n          class=\"range-input\"\n          @input=\"handleChange\"\n        />\n        <span class=\"range-separator\">-</span>\n        <input\n          type=\"number\"\n          v-model.number=\"localValue.max\"\n          :min=\"config.min\"\n          :max=\"config.max\"\n          placeholder=\"最大值\"\n          class=\"range-input\"\n          @input=\"handleChange\"\n        />\n      </div>\n    </div>\n\n    <!-- 帮助文本 -->\n    <div v-if=\"config.help\" class=\"config-help\">\n      {{ config.help }}\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, watch, computed } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    required: true\n  },\n  modelValue: {\n    type: [String, Number, Boolean, Array, Object],\n    default: null\n  },\n  fieldName: {\n    type: String,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['update:modelValue'])\n\n// 本地值处理\nconst localValue = ref(props.modelValue !== null ? props.modelValue : props.config.default)\n\n// 初始化默认值\nif (props.config.type === 'multiselect' && !Array.isArray(localValue.value)) {\n  localValue.value = []\n}\n\nif (props.config.type === 'range' && typeof localValue.value !== 'object') {\n  localValue.value = { min: props.config.min || 0, max: props.config.max || 100 }\n}\n\n// 监听外部值变化\nwatch(() => props.modelValue, (newValue) => {\n  localValue.value = newValue !== null ? newValue : props.config.default\n}, { deep: true })\n\n// 处理值变化\nfunction handleChange () {\n  emit('update:modelValue', localValue.value)\n}\n\n// 计算是否显示帮助文本\nconst showHelp = computed(() => {\n  return props.config.help && props.config.help.trim().length > 0\n})\n</script>\n\n<style scoped>\n.custom-config-item {\n  margin-bottom: 16px;\n}\n\n.config-label {\n  display: block;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--text-color, #333333);\n  margin-bottom: 6px;\n}\n\n.required-star {\n  color: #ff5252;\n  font-weight: bold;\n  margin-left: 4px;\n}\n\n.config-control {\n  width: 100%;\n}\n\n.config-input {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--border-color, #e5e5e5);\n  border-radius: 4px;\n  background: var(--bg-color, #ffffff);\n  color: var(--text-color, #333333);\n  font-size: 13px;\n  transition: all 0.3s ease;\n}\n\n.config-input:focus {\n  border-color: var(--primary-color, #5470c6);\n  box-shadow: 0 0 0 2px rgba(84, 112, 198, 0.2);\n  outline: none;\n}\n\n.config-select {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--border-color, #e5e5e5);\n  border-radius: 4px;\n  background: var(--bg-color, #ffffff);\n  color: var(--text-color, #333333);\n  font-size: 13px;\n  transition: all 0.3s ease;\n}\n\n.config-select:focus {\n  border-color: var(--primary-color, #5470c6);\n  box-shadow: 0 0 0 2px rgba(84, 112, 198, 0.2);\n  outline: none;\n}\n\n.config-checkbox {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n\n.slider-container {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.config-slider {\n  flex: 1;\n  height: 6px;\n  background: var(--border-color, #e5e5e5);\n  border-radius: 3px;\n  outline: none;\n  -webkit-appearance: none;\n  appearance: none;\n}\n\n.config-slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 16px;\n  height: 16px;\n  background: var(--primary-color, #5470c6);\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.config-slider::-webkit-slider-thumb:hover {\n  background: var(--primary-hover, #4c63b6);\n  transform: scale(1.1);\n}\n\n.config-slider::-moz-range-thumb {\n  width: 16px;\n  height: 16px;\n  background: var(--primary-color, #5470c6);\n  border-radius: 50%;\n  cursor: pointer;\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.config-slider::-moz-range-thumb:hover {\n  background: var(--primary-hover, #4c63b6);\n  transform: scale(1.1);\n}\n\n.slider-value {\n  font-size: 12px;\n  color: var(--text-secondary, #666666);\n  font-weight: 500;\n  min-width: 40px;\n  text-align: center;\n}\n\n.config-color {\n  width: 40px;\n  height: 32px;\n  border: 1px solid var(--border-color, #e5e5e5);\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.config-color:hover {\n  border-color: var(--primary-color, #5470c6);\n}\n\n.multiselect-container {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.multiselect-option {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.multiselect-option input[type=\"checkbox\"] {\n  width: 16px;\n  height: 16px;\n  cursor: pointer;\n}\n\n.multiselect-option label {\n  font-size: 13px;\n  color: var(--text-color, #333333);\n  cursor: pointer;\n}\n\n.range-container {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.range-input {\n  flex: 1;\n  padding: 6px 10px;\n  border: 1px solid var(--border-color, #e5e5e5);\n  border-radius: 4px;\n  background: var(--bg-color, #ffffff);\n  color: var(--text-color, #333333);\n  font-size: 13px;\n  transition: all 0.3s ease;\n}\n\n.range-input:focus {\n  border-color: var(--primary-color, #5470c6);\n  box-shadow: 0 0 0 2px rgba(84, 112, 198, 0.2);\n  outline: none;\n}\n\n.range-separator {\n  font-size: 14px;\n  color: var(--text-secondary, #666666);\n  font-weight: 500;\n}\n\n.config-help {\n  font-size: 11px;\n  color: var(--text-secondary, #666666);\n  margin-top: 4px;\n  line-height: 1.4;\n}\n\n/* 暗色主题适配 */\n[data-theme=\"dark\"] .config-input,\n[data-theme=\"dark\"] .config-select,\n[data-theme=\"dark\"] .range-input,\n:root.dark .config-input,\n:root.dark .config-select,\n:root.dark .range-input {\n  background: var(--bg-secondary, #2d2d2d);\n  border-color: var(--border-color, #555555);\n  color: var(--text-color, #e0e0e0);\n}\n\n[data-theme=\"dark\"] .config-input:focus,\n[data-theme=\"dark\"] .config-select:focus,\n[data-theme=\"dark\"] .range-input:focus,\n:root.dark .config-input:focus,\n:root.dark .config-select:focus,\n:root.dark .range-input:focus {\n  border-color: var(--primary-color, #6b9eff);\n  box-shadow: 0 0 0 2px rgba(107, 158, 255, 0.3);\n}\n\n[data-theme=\"dark\"] .config-color,\n:root.dark .config-color {\n  border-color: var(--border-color, #555555);\n}\n\n[data-theme=\"dark\"] .config-color:hover,\n:root.dark .config-color:hover {\n  border-color: var(--primary-color, #6b9eff);\n}\n\n[data-theme=\"dark\"] .config-slider,\n:root.dark .config-slider {\n  background: var(--border-color, #555555);\n}\n\n[data-theme=\"dark\"] .config-slider::-webkit-slider-thumb,\n:root.dark .config-slider::-webkit-slider-thumb {\n  background: var(--primary-color, #6b9eff);\n}\n\n[data-theme=\"dark\"] .config-slider::-moz-range-thumb,\n:root.dark .config-slider::-moz-range-thumb {\n  background: var(--primary-color, #6b9eff);\n}\n</style>\n"],"mappings":"AAmIA,SAASA,GAAG,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;;;;;IADzC;IAGA,MAAMC,KAAK,GAAGC,OAAA;IAed,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,MAAMC,UAAU,GAAGP,GAAG,CAACG,KAAK,CAACK,UAAU,KAAK,IAAI,GAAGL,KAAK,CAACK,UAAU,GAAGL,KAAK,CAACM,MAAM,CAACC,OAAO;;IAE1F;IACA,IAAIP,KAAK,CAACM,MAAM,CAACE,IAAI,KAAK,aAAa,IAAI,CAACC,KAAK,CAACC,OAAO,CAACN,UAAU,CAACO,KAAK,CAAC,EAAE;MAC3EP,UAAU,CAACO,KAAK,GAAG,EAAC;IACtB;IAEA,IAAIX,KAAK,CAACM,MAAM,CAACE,IAAI,KAAK,OAAO,IAAI,OAAOJ,UAAU,CAACO,KAAK,KAAK,QAAQ,EAAE;MACzEP,UAAU,CAACO,KAAK,GAAG;QAAEC,GAAG,EAAEZ,KAAK,CAACM,MAAM,CAACM,GAAG,IAAI,CAAC;QAAEC,GAAG,EAAEb,KAAK,CAACM,MAAM,CAACO,GAAG,IAAI;MAAI;IAChF;;IAEA;IACAf,KAAK,CAAC,MAAME,KAAK,CAACK,UAAU,EAAGS,QAAQ,IAAK;MAC1CV,UAAU,CAACO,KAAK,GAAGG,QAAQ,KAAK,IAAI,GAAGA,QAAQ,GAAGd,KAAK,CAACM,MAAM,CAACC,OAAM;IACvE,CAAC,EAAE;MAAEQ,IAAI,EAAE;IAAK,CAAC;;IAEjB;IACA,SAASC,YAAYA,CAAA,EAAI;MACvBd,IAAI,CAAC,mBAAmB,EAAEE,UAAU,CAACO,KAAK;IAC5C;;IAEA;IACA,MAAMM,QAAQ,GAAGlB,QAAQ,CAAC,MAAM;MAC9B,OAAOC,KAAK,CAACM,MAAM,CAACY,IAAI,IAAIlB,KAAK,CAACM,MAAM,CAACY,IAAI,CAACC,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG;IAChE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}