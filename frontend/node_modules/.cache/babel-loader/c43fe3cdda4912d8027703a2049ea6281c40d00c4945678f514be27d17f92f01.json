{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, computed, onMounted, onBeforeUnmount } from 'vue';\n// 不规则蛛网顶点生成\nconst count = 6; // 6根蛛丝\nconst duration = 1800;\nconst min = 0.18,\n  max = 1;\nexport default {\n  __name: 'RadarChartIcon',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    function genWebPoints(center, rBase, rVar, count, seed = 0) {\n      const arr = [];\n      for (let i = 0; i < count; i++) {\n        const angle = -Math.PI / 2 + i * 2 * Math.PI / count;\n        // 伪随机扰动\n        const rand = Math.sin(i * seed + seed * 1.7) * rVar + Math.cos(i * seed + seed * 2.3) * rVar * 0.5;\n        const r = rBase + rand;\n        arr.push([center[0] + r * Math.cos(angle), center[1] + r * Math.sin(angle)]);\n      }\n      return arr;\n    }\n    const center = [60, 48];\n    const base = genWebPoints(center, 38, 7, count, 2.3);\n    const web1 = genWebPoints(center, 28, 5, count, 1.2);\n    const web2 = genWebPoints(center, 18, 3, count, 2.7);\n    const web3 = genWebPoints(center, 9, 2, count, 3.1);\n    const t = ref(0);\n    let dir = 1,\n      animId = null;\n    const areaPoints = computed(() => base.map(([x, y]) => [center[0] + (x - center[0]) * (min + (max - min) * t.value), center[1] + (y - center[1]) * (min + (max - min) * t.value)]));\n    const animatedPoints = computed(() => areaPoints.value.map(p => p.join(\",\")).join(\" \"));\n    function getPolygonPoints(arr) {\n      return arr.map(p => p.join(\",\")).join(\" \");\n    }\n    function animateRadar(ts) {\n      if (!animateRadar.last) animateRadar.last = ts;\n      const dt = ts - animateRadar.last;\n      animateRadar.last = ts;\n      t.value += dir * dt / duration;\n      if (t.value > 1) t.value = 1;\n      if (t.value < 0) t.value = 0;\n      if (dir === 1 && t.value >= 1 || dir === -1 && t.value <= 0) {\n        setTimeout(() => {\n          dir *= -1;\n          animateRadar.last = undefined;\n          animId = requestAnimationFrame(animateRadar);\n        }, 320);\n        return;\n      }\n      animId = requestAnimationFrame(animateRadar);\n    }\n    onMounted(() => {\n      t.value = 0;\n      dir = 1;\n      animId = requestAnimationFrame(animateRadar);\n    });\n    onBeforeUnmount(() => {\n      if (animId) cancelAnimationFrame(animId);\n    });\n    const __returned__ = {\n      genWebPoints,\n      center,\n      count,\n      base,\n      web1,\n      web2,\n      web3,\n      t,\n      get dir() {\n        return dir;\n      },\n      set dir(v) {\n        dir = v;\n      },\n      get animId() {\n        return animId;\n      },\n      set animId(v) {\n        animId = v;\n      },\n      duration,\n      min,\n      max,\n      areaPoints,\n      animatedPoints,\n      getPolygonPoints,\n      animateRadar,\n      ref,\n      computed,\n      onMounted,\n      onBeforeUnmount\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onBeforeUnmount","count","duration","min","max","genWebPoints","center","rBase","rVar","seed","arr","i","angle","Math","PI","rand","sin","cos","r","push","base","web1","web2","web3","t","dir","animId","areaPoints","map","x","y","value","animatedPoints","p","join","getPolygonPoints","animateRadar","ts","last","dt","setTimeout","undefined","requestAnimationFrame","cancelAnimationFrame"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/components/svg/RadarChartIcon.vue"],"sourcesContent":["<template>\n<svg width=\"150\" height=\"120\" viewBox=\"0 0 120 80\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"empty-radar-svg\">\n    <g>\n        <!-- 多层不规则蛛网环 -->\n        <polygon :points=\"getPolygonPoints(base)\" class=\"radar-web\" style=\"opacity:0.18\" />\n        <polygon :points=\"getPolygonPoints(web1)\" class=\"radar-web\" style=\"opacity:0.13\" />\n        <polygon :points=\"getPolygonPoints(web2)\" class=\"radar-web\" style=\"opacity:0.09\" />\n        <polygon :points=\"getPolygonPoints(web3)\" class=\"radar-web\" style=\"opacity:0.06\" />\n        <!-- 蛛丝径向线动画（不规则） -->\n        <line v-for=\"(p,i) in base\" :key=\"'line'+i\" x1=\"60\" y1=\"48\" :x2=\"p[0]\" :y2=\"p[1]\" class=\"radar-silk\" :style=\"{animationDelay: (i*0.22)+'s'}\" />\n        <!-- 区域和端点淡入 -->\n        <polygon class=\"radar-area\" :points=\"animatedPoints\" />\n        <circle v-for=\"(p,i) in areaPoints\" :key=\"'dot'+i\" :cx=\"p[0]\" :cy=\"p[1]\" r=\"3\" class=\"radar-dot\" />\n    </g>\n</svg>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, computed, onMounted, onBeforeUnmount } from 'vue'\n// 不规则蛛网顶点生成\nfunction genWebPoints(center, rBase, rVar, count, seed=0) {\n    const arr = []\n    for (let i = 0; i < count; i++) {\n        const angle = -Math.PI/2 + i * 2 * Math.PI / count\n        // 伪随机扰动\n        const rand = Math.sin(i*seed + seed*1.7) * rVar + Math.cos(i*seed + seed*2.3) * rVar * 0.5\n        const r = rBase + rand\n        arr.push([\n        center[0] + r * Math.cos(angle),\n        center[1] + r * Math.sin(angle)\n        ])\n    }\n    return arr\n}\nconst center = [60, 48]\nconst count = 6 // 6根蛛丝\nconst base = genWebPoints(center, 38, 7, count, 2.3)\nconst web1 = genWebPoints(center, 28, 5, count, 1.2)\nconst web2 = genWebPoints(center, 18, 3, count, 2.7)\nconst web3 = genWebPoints(center, 9, 2, count, 3.1)\nconst t = ref(0)\nlet dir = 1, animId = null\nconst duration = 1800\nconst min = 0.18, max = 1\nconst areaPoints = computed(() => base.map(([x, y]) => [\n    center[0] + (x - center[0]) * (min + (max - min) * t.value),\n    center[1] + (y - center[1]) * (min + (max - min) * t.value)\n]))\nconst animatedPoints = computed(() => areaPoints.value.map(p => p.join(\",\")).join(\" \"))\nfunction getPolygonPoints(arr) {\n  return arr.map(p => p.join(\",\")).join(\" \")\n}\nfunction animateRadar(ts) {\n  if (!animateRadar.last) animateRadar.last = ts\n  const dt = ts - animateRadar.last\n  animateRadar.last = ts\n  t.value += dir * dt / duration\n  if (t.value > 1) t.value = 1\n  if (t.value < 0) t.value = 0\n  if ((dir === 1 && t.value >= 1) || (dir === -1 && t.value <= 0)) {\n    setTimeout(() => {\n      dir *= -1\n      animateRadar.last = undefined\n      animId = requestAnimationFrame(animateRadar)\n    }, 320)\n    return\n  }\n  animId = requestAnimationFrame(animateRadar)\n}\nonMounted(() => { t.value = 0; dir = 1; animId = requestAnimationFrame(animateRadar) })\nonBeforeUnmount(() => { if (animId) cancelAnimationFrame(animId) })\n</script>\n\n<style scoped>\n.empty-radar-svg { display: block; margin: 0 auto; animation: floatX 4.2s ease-in-out infinite; }\n.radar-web {\n  fill: none;\n  stroke: #A0C4FF;\n  stroke-width: 1.1;\n  transition: opacity 0.3s;\n}\n.radar-silk {\n  stroke: #4F8EF7;\n  stroke-width: 2.2;\n  stroke-dasharray: 36;\n  stroke-dashoffset: 36;\n  opacity: 0.85;\n  animation: silk-grow 1.1s cubic-bezier(.4,1.6,.6,1) forwards;\n}\n@keyframes silk-grow {\n  0% { stroke-dashoffset: 36; opacity: 0.18; }\n  18% { stroke-dashoffset: 0; opacity: 1; }\n  100% { stroke-dashoffset: 0; opacity: 1; }\n}\n.radar-area {\n  fill: #4F8EF7;\n  opacity: 0;\n  filter: drop-shadow(0 2px 6px #4f8ef72a);\n  animation: area-fadein 0.7s 1.2s cubic-bezier(.4,1.6,.6,1) forwards;\n}\n.radar-dot {\n  fill: #FFB300;\n  opacity: 0;\n  transition: opacity 0.4s;\n  animation: dot-fadein 0.7s 1.2s cubic-bezier(.4,1.6,.6,1) forwards;\n}\n@keyframes area-fadein {\n  0% { opacity: 0; }\n  100% { opacity: 0.3; }\n}\n@keyframes dot-fadein {\n  0% { opacity: 0; }\n  100% { opacity: 0.7; }\n}\n@keyframes floatX {\n    0% { transform: translateY(0) translateX(0); }\n    25% { transform: translateY(-8px) translateX(4px); }\n    50% { transform: translateY(-12px) translateX(-4px); }\n    75% { transform: translateY(-8px) translateX(4px); }\n    100% { transform: translateY(0) translateX(0); }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}