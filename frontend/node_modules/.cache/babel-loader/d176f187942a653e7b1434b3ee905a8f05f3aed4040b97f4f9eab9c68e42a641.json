{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = [\"title\"];\nconst _hoisted_2 = {\n  key: \"sun\",\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\"\n};\nconst _hoisted_3 = {\n  key: \"moon\",\n  width: \"20\",\n  height: \"20\",\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": \"2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"button\", {\n    class: \"theme-toggle\",\n    onClick: $setup.toggleTheme,\n    title: $setup.isDark ? '切换到浅色模式' : '切换到暗黑模式'\n  }, [_createVNode(_Transition, {\n    name: \"theme-icon\",\n    mode: \"out-in\"\n  }, {\n    default: _withCtx(() => [$setup.isDark ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_2, _cache[0] || (_cache[0] = [_createElementVNode(\"circle\", {\n      cx: \"12\",\n      cy: \"12\",\n      r: \"5\"\n    }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n      d: \"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"\n    }, null, -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_3, _cache[1] || (_cache[1] = [_createElementVNode(\"path\", {\n      d: \"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"\n    }, null, -1 /* HOISTED */)])))]),\n    _: 1 /* STABLE */\n  })], 8 /* PROPS */, _hoisted_1);\n}","map":{"version":3,"names":["key","width","height","viewBox","fill","stroke","_createElementBlock","class","onClick","$setup","toggleTheme","title","isDark","_createVNode","_Transition","name","mode","default","_withCtx","_hoisted_2","_cache","_createElementVNode","cx","cy","r","d","_hoisted_3","_","_hoisted_1"],"sources":["D:\\Learning Material\\Git\\Fuck-Charts\\newArchitecture\\frontend_vue_design\\src\\components\\ThemeToggle.vue"],"sourcesContent":["<template>\n  <button \n    class=\"theme-toggle\"\n    @click=\"toggleTheme\"\n    :title=\"isDark ? '切换到浅色模式' : '切换到暗黑模式'\"\n  >\n    <transition name=\"theme-icon\" mode=\"out-in\">\n      <svg \n        v-if=\"isDark\"\n        key=\"sun\"\n        width=\"20\" \n        height=\"20\" \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        stroke=\"currentColor\" \n        stroke-width=\"2\"\n      >\n        <circle cx=\"12\" cy=\"12\" r=\"5\"/>\n        <path d=\"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42\"/>\n      </svg>\n      <svg \n        v-else\n        key=\"moon\"\n        width=\"20\" \n        height=\"20\" \n        viewBox=\"0 0 24 24\" \n        fill=\"none\" \n        stroke=\"currentColor\" \n        stroke-width=\"2\"\n      >\n        <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"/>\n      </svg>\n    </transition>\n  </button>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\n\nconst isDark = ref(false)\n\n// 初始化主题\nonMounted(() => {\n  // 检查本地存储\n  const savedTheme = localStorage.getItem('theme')\n  if (savedTheme) {\n    isDark.value = savedTheme === 'dark'\n  } else {\n    // 检查系统偏好\n    isDark.value = window.matchMedia('(prefers-color-scheme: dark)').matches\n  }\n  \n  updateTheme()\n  \n  // 监听系统主题变化\n  window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {\n    if (!localStorage.getItem('theme')) {\n      isDark.value = e.matches\n      updateTheme()\n    }\n  })\n})\n\nfunction toggleTheme() {\n  isDark.value = !isDark.value\n  updateTheme()\n  \n  // 保存到本地存储\n  localStorage.setItem('theme', isDark.value ? 'dark' : 'light')\n}\n\nfunction updateTheme() {\n  if (isDark.value) {\n    document.documentElement.setAttribute('data-theme', 'dark')\n  } else {\n    document.documentElement.setAttribute('data-theme', 'light')\n  }\n}\n</script>\n\n<style scoped>\n.theme-toggle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: var(--radius-lg);\n  background: var(--bg-secondary);\n  color: var(--text-color);\n  cursor: pointer;\n  transition: all var(--transition-normal);\n  position: relative;\n  overflow: hidden;\n}\n\n.theme-toggle:hover {\n  background: var(--bg-hover);\n  transform: scale(1.05);\n}\n\n.theme-toggle:active {\n  transform: scale(0.95);\n}\n\n.theme-icon-enter-active,\n.theme-icon-leave-active {\n  transition: all 0.3s ease;\n}\n\n.theme-icon-enter-from {\n  opacity: 0;\n  transform: rotate(180deg) scale(0.5);\n}\n\n.theme-icon-leave-to {\n  opacity: 0;\n  transform: rotate(-180deg) scale(0.5);\n}\n\n.theme-icon-enter-to,\n.theme-icon-leave-from {\n  opacity: 1;\n  transform: rotate(0deg) scale(1);\n}\n\n/* 添加一个轻微的光晕效果 */\n.theme-toggle::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border-radius: var(--radius-lg);\n  background: linear-gradient(\n    135deg,\n    transparent 0%,\n    rgba(255, 255, 255, 0.1) 50%,\n    transparent 100%\n  );\n  opacity: 0;\n  transition: opacity var(--transition-normal);\n}\n\n.theme-toggle:hover::before {\n  opacity: 1;\n}\n\n/* 暗黑模式下的特殊样式 */\n[data-theme=\"dark\"] .theme-toggle {\n  background: var(--bg-secondary);\n  box-shadow: var(--shadow-sm);\n}\n\n[data-theme=\"dark\"] .theme-toggle:hover {\n  background: var(--bg-hover);\n  box-shadow: var(--shadow-md);\n}\n</style>\n"],"mappings":";mBAAA;;EASQA,GAAG,EAAC,KAAK;EACTC,KAAK,EAAC,IAAI;EACVC,MAAM,EAAC,IAAI;EACXC,OAAO,EAAC,WAAW;EACnBC,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrB,cAAY,EAAC;;;EAObL,GAAG,EAAC,MAAM;EACVC,KAAK,EAAC,IAAI;EACVC,MAAM,EAAC,IAAI;EACXC,OAAO,EAAC,WAAW;EACnBC,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrB,cAAY,EAAC;;;uBA3BnBC,mBAAA,CAgCS;IA/BPC,KAAK,EAAC,cAAc;IACnBC,OAAK,EAAEC,MAAA,CAAAC,WAAW;IAClBC,KAAK,EAAEF,MAAA,CAAAG,MAAM;MAEdC,YAAA,CA0BaC,WAAA;IA1BDC,IAAI,EAAC,YAAY;IAACC,IAAI,EAAC;;IANvCC,OAAA,EAAAC,QAAA,CAOM,MAYM,CAXET,MAAA,CAAAG,MAAM,I,cADdN,mBAAA,CAYM,OAZNa,UAYM,EAAAC,MAAA,QAAAA,MAAA,OAFJC,mBAAA,CAA+B;MAAvBC,EAAE,EAAC,IAAI;MAACC,EAAE,EAAC,IAAI;MAACC,CAAC,EAAC;gCAC1BH,mBAAA,CAA8H;MAAxHI,CAAC,EAAC;IAAoH,2B,qBAE9HnB,mBAAA,CAWM,OAXNoB,UAWM,EAAAN,MAAA,QAAAA,MAAA,OADJC,mBAAA,CAA2D;MAArDI,CAAC,EAAC;IAAiD,2B;IA9BjEE,CAAA;sBAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}