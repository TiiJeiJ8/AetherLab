{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\n// 旭日图生成器\nexport default function sunburstOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n  // 自动计算最大层级\n  function getMaxDepth(data, depth) {\n    depth = depth || 1;\n    if (!Array.isArray(data)) return depth;\n    let max = depth;\n    for (var i = 0; i < data.length; i++) {\n      var node = data[i];\n      if (node.children && node.children.length > 0) {\n        max = Math.max(max, getMaxDepth(node.children, depth + 1));\n      }\n    }\n    return max;\n  }\n  var maxDepth = getMaxDepth(seriesData);\n  // 最外层最大半径 80%\n  var maxRadius = 80;\n  var levels = [];\n  for (var i = 0; i < maxDepth; i++) {\n    var r0 = i === 0 ? '0%' : Math.round(i / maxDepth * maxRadius) + '%';\n    var r = Math.round((i + 1) / maxDepth * maxRadius) + '%';\n    var label = {};\n    var itemStyle = {};\n    if (i === 0) {\n      label = {\n        show: false\n      };\n    } else if (i === maxDepth - 1) {\n      label = {\n        position: 'outside',\n        padding: 3,\n        silent: false,\n        rotate: 'radial'\n      };\n      itemStyle = {\n        borderWidth: 3\n      };\n    } else if (i === 1) {\n      label = {\n        rotate: 'tangential'\n      };\n      itemStyle = {\n        borderWidth: 2\n      };\n    } else {\n      label = {\n        align: 'right'\n      };\n    }\n    levels.push({\n      r0: r0,\n      r: r,\n      label: label,\n      itemStyle: itemStyle\n    });\n  }\n  return {\n    title: {\n      text: config.title || 'Chart of Sunburst',\n      subtext: config.subtext || '',\n      textStyle: {\n        fontSize: 16\n      },\n      left: 'center',\n      top: 'top'\n    },\n    tooltip: {\n      trigger: 'item',\n      formatter: info => `${info.name} : ${info.value}`\n    },\n    series: [{\n      type: 'sunburst',\n      data: seriesData,\n      radius: [0, maxRadius + '%'],\n      sort: undefined,\n      emphasis: {\n        focus: 'ancestor'\n      },\n      label: {\n        show: function (params) {\n          const rect = params.rect || params.labelRect;\n          if (rect && rect.width * rect.height < 400) {\n            return false;\n          }\n          return true;\n        },\n        fontSize: 12\n      },\n      levels,\n      ...customOption\n    }]\n  };\n}","map":{"version":3,"names":["sunburstOption","config","fileDataMap","xData","yDataArr","selectedChartType","seriesData","customOption","getMaxDepth","data","depth","Array","isArray","max","i","length","node","children","Math","maxDepth","maxRadius","levels","r0","round","r","label","itemStyle","show","position","padding","silent","rotate","borderWidth","align","push","title","text","subtext","textStyle","fontSize","left","top","tooltip","trigger","formatter","info","name","value","series","type","radius","sort","undefined","emphasis","focus","params","rect","labelRect","width","height"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/assets/JS/chartOptions/sunburst.js"],"sourcesContent":["/* eslint-disable */\n\n// 旭日图生成器\nexport default function sunburstOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n    // 自动计算最大层级\n    function getMaxDepth(data, depth) {\n        depth = depth || 1;\n        if (!Array.isArray(data)) return depth;\n        let max = depth;\n        for (var i = 0; i < data.length; i++) {\n            var node = data[i];\n            if (node.children && node.children.length > 0) {\n                max = Math.max(max, getMaxDepth(node.children, depth + 1));\n            }\n        }\n        return max;\n    }\n\n    var maxDepth = getMaxDepth(seriesData);\n    // 最外层最大半径 80%\n    var maxRadius = 80;\n    var levels = [];\n    for (var i = 0; i < maxDepth; i++) {\n        var r0 = (i === 0) ? '0%' : Math.round((i / maxDepth) * maxRadius) + '%';\n        var r = Math.round(((i + 1) / maxDepth) * maxRadius) + '%';\n        var label = {};\n        var itemStyle = {};\n        if (i === 0) {\n            label = { show: false };\n        } else if (i === maxDepth - 1) {\n            label = { position: 'outside', padding: 3, silent: false, rotate: 'radial' };\n            itemStyle = { borderWidth: 3 };\n        } else if (i === 1) {\n            label = { rotate: 'tangential' };\n            itemStyle = { borderWidth: 2 };\n        } else {\n            label = { align: 'right' };\n        }\n        levels.push({ r0: r0, r: r, label: label, itemStyle: itemStyle });\n    }\n\n    return {\n        title: {\n            text: config.title || 'Chart of Sunburst',\n            subtext: config.subtext || '',\n            textStyle: {\n                fontSize: 16,\n            },\n            left: 'center',\n            top: 'top',\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: info => `${info.name} : ${info.value}`\n        },\n        series: [\n            {\n                type: 'sunburst',\n                data: seriesData,\n                radius: [0, maxRadius + '%'],\n                sort: undefined,\n                emphasis: {\n                    focus: 'ancestor'\n                },\n                label: {\n                    show: function(params) {\n                        const rect = params.rect || params.labelRect;\n                        if (rect && rect.width * rect.height < 400) {\n                            return false;\n                        }\n                        return true;\n                    },\n                    fontSize: 12\n                },\n                levels,\n                ...customOption\n            }\n        ]\n    };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}