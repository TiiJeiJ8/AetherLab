{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\n/* eslint-disable */\n\n// 平行坐标系图配置生成器\nimport { getVisualMapInRangeColor } from \"../utils/themeDispatcher\";\n// 平行坐标系图配置生成器\nexport default function parallelOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n  // 解包数据\n  const {\n    dimensions,\n    name\n  } = seriesData;\n  if (!dimensions || !name || !Array.isArray(dimensions) || !Array.isArray(name)) {\n    return {};\n  }\n\n  // 获取所有字段名，包含 Category\n  const allKeys = Object.keys(name[0]);\n  const groupKey = 'Category';\n  const dimensionNames = allKeys.filter(k => k !== groupKey);\n  const allData = Array.isArray(name) ? name : [];\n\n  // 构造 parallelAxis，最后一个为 Category\n  const parallelAxis = [...dimensionNames.map((dim, idx) => {\n    const isNumber = typeof name[0][dim] === 'number';\n    let axis = {\n      dim: idx,\n      name: dim,\n      type: isNumber ? 'value' : 'category',\n      boundaryGap: false\n    };\n    if (isNumber) {\n      const values = allData.map(item => item[dim]).filter(v => typeof v === 'number' && !isNaN(v));\n      if (values.length) {\n        axis.min = Math.ceil(Math.min(...values) * 0.75);\n        axis.max = Math.ceil(Math.max(...values) * 1.25);\n      }\n    }\n    return axis;\n  }), {\n    dim: dimensionNames.length,\n    name: groupKey,\n    type: 'category',\n    boundaryGap: true\n  }];\n\n  // 构造 series.data，每条数据为 [...维度值, Category]\n  const data = allData.map(item => [...dimensionNames.map(dim => item[dim]), item[groupKey] || '未分类']);\n  const series = [{\n    type: 'parallel',\n    lineStyle: {\n      width: 2\n    },\n    data\n  }];\n\n  // 组装 visualMap，映射到 Category 维度\n  const visualColors = getVisualMapInRangeColor(config.colorScheme);\n  let visualMap = {};\n  let orient = 'horizontal';\n  if (config.position === 'left' || config.position === 'right') {\n    orient = 'vertical';\n  } else {\n    orient = 'horizontal';\n  }\n  if (config.legendVisible === true) {\n    // Category 维度索引为最后一个\n    visualMap = {\n      show: true,\n      type: 'category',\n      inRange: {\n        color: visualColors\n      },\n      dimension: dimensionNames.length,\n      orient,\n      left: 'center',\n      top: config.legendPosition || 'bottom'\n    };\n  } else {\n    visualMap = {};\n  }\n  const option = {\n    parallelAxis,\n    parallel: {\n      left: '5%',\n      right: '13%',\n      bottom: '10%',\n      parallelAxisDefault: {\n        type: 'value',\n        nameLocation: 'end',\n        nameGap: 20\n      }\n    },\n    series,\n    visualMap: config.legendVisible === false ? undefined : visualMap,\n    ...customOption\n  };\n  return option;\n}","map":{"version":3,"names":["getVisualMapInRangeColor","parallelOption","config","fileDataMap","xData","yDataArr","selectedChartType","seriesData","customOption","dimensions","name","Array","isArray","allKeys","Object","keys","groupKey","dimensionNames","filter","k","allData","parallelAxis","map","dim","idx","isNumber","axis","type","boundaryGap","values","item","v","isNaN","length","min","Math","ceil","max","data","series","lineStyle","width","visualColors","colorScheme","visualMap","orient","position","legendVisible","show","inRange","color","dimension","left","top","legendPosition","option","parallel","right","bottom","parallelAxisDefault","nameLocation","nameGap","undefined"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/assets/JS/chartOptions/parallel.js"],"sourcesContent":["/* eslint-disable */\n\n// 平行坐标系图配置生成器\nimport { getVisualMapInRangeColor } from \"../utils/themeDispatcher\";\n// 平行坐标系图配置生成器\nexport default function parallelOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n    // 解包数据\n    const { dimensions, name } = seriesData;\n\n    if (!dimensions || !name || !Array.isArray(dimensions) || !Array.isArray(name)) {\n        return {};\n    }\n\n\n\n    // 获取所有字段名，包含 Category\n    const allKeys = Object.keys(name[0]);\n    const groupKey = 'Category';\n    const dimensionNames = allKeys.filter(k => k !== groupKey);\n    const allData = Array.isArray(name) ? name : [];\n\n    // 构造 parallelAxis，最后一个为 Category\n    const parallelAxis = [\n        ...dimensionNames.map((dim, idx) => {\n            const isNumber = typeof name[0][dim] === 'number';\n            let axis = {\n                dim: idx,\n                name: dim,\n                type: isNumber ? 'value' : 'category',\n                boundaryGap: false\n            };\n            if (isNumber) {\n                const values = allData.map(item => item[dim]).filter(v => typeof v === 'number' && !isNaN(v));\n                if (values.length) {\n                    axis.min = Math.ceil(Math.min(...values) * 0.75);\n                    axis.max = Math.ceil(Math.max(...values) * 1.25);\n                }\n            }\n            return axis;\n        }),\n        {\n            dim: dimensionNames.length,\n            name: groupKey,\n            type: 'category',\n            boundaryGap: true\n        }\n    ];\n\n    // 构造 series.data，每条数据为 [...维度值, Category]\n    const data = allData.map(item => [\n        ...dimensionNames.map(dim => item[dim]),\n        item[groupKey] || '未分类'\n    ]);\n\n    const series = [{\n        type: 'parallel',\n        lineStyle: {\n            width: 2\n        },\n        data\n    }];\n\n\n    // 组装 visualMap，映射到 Category 维度\n    const visualColors = getVisualMapInRangeColor(config.colorScheme);\n    let visualMap = {};\n    let orient = 'horizontal';\n    if (config.position === 'left' || config.position === 'right') {\n        orient = 'vertical';\n    } else {\n        orient = 'horizontal';\n    }\n    if (config.legendVisible === true) {\n        // Category 维度索引为最后一个\n        visualMap = {\n            show: true,\n            type: 'category',\n            inRange: {\n                color: visualColors\n            },\n            dimension: dimensionNames.length,\n            orient,\n            left: 'center',\n            top: config.legendPosition || 'bottom',\n        };\n    } else {\n        visualMap = {};\n    }\n\n    const option = {\n        parallelAxis,\n        parallel: {\n            left: '5%',\n            right: '13%',\n            bottom: '10%',\n            parallelAxisDefault: {\n                type: 'value',\n                nameLocation: 'end',\n                nameGap: 20\n            }\n        },\n        series,\n        visualMap: config.legendVisible === false ? undefined : visualMap,\n        ...customOption\n    };\n\n    return option;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}