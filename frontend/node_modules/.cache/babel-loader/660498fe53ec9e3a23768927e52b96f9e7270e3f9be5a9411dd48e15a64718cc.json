{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chart-config-panel\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 右侧边栏总标题 \"), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n    class: \"panel-header\"\n  }, [_createElementVNode(\"h3\", null, \"Chart Configuration\")], -1 /* HOISTED */)), _createCommentVNode(\" 数据映射配置区域 \"), _createVNode($setup[\"DataMappingSection\"], {\n    \"chart-type\": $props.selectedChartType,\n    \"field-mappings\": $setup.fieldMappings,\n    \"onUpdate:fieldMappings\": $setup.updateFieldMappings,\n    onMappingError: $setup.handleMappingError,\n    onColumnMapped: $setup.handleColumnMapped\n  }, null, 8 /* PROPS */, [\"chart-type\", \"field-mappings\"]), _createCommentVNode(\" 数据过滤 \"), _createVNode($setup[\"FilterSection\"], {\n    filters: $setup.filters,\n    expanded: $setup.showDataFilter,\n    \"onUpdate:filters\": $setup.updateFilters,\n    \"onUpdate:expanded\": $setup.updateDataFilterExpanded\n  }, null, 8 /* PROPS */, [\"filters\", \"expanded\"]), _createCommentVNode(\" 高级配置 \"), _createVNode($setup[\"AdvancedSection\"], {\n    settings: $setup.advancedSettings,\n    expanded: $setup.showAdvancedConfig,\n    \"onUpdate:settings\": $setup.updateAdvancedSettings,\n    \"onUpdate:expanded\": $setup.updateAdvancedConfigExpanded\n  }, null, 8 /* PROPS */, [\"settings\", \"expanded\"]), _createCommentVNode(\" 操作按钮 \"), _createVNode($setup[\"ActionSection\"], {\n    \"is-config-valid\": $setup.isConfigValid,\n    onApply: $setup.generateChart,\n    onReset: $setup.resetConfig\n  }, null, 8 /* PROPS */, [\"is-config-valid\"]), _createCommentVNode(\" 错误提示 \"), _createVNode($setup[\"ErrorMessage\"], {\n    message: $setup.errorMessage,\n    onClose: $setup.clearError\n  }, null, 8 /* PROPS */, [\"message\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_createVNode","$setup","$props","selectedChartType","fieldMappings","updateFieldMappings","onMappingError","handleMappingError","onColumnMapped","handleColumnMapped","filters","expanded","showDataFilter","updateFilters","updateDataFilterExpanded","settings","advancedSettings","showAdvancedConfig","updateAdvancedSettings","updateAdvancedConfigExpanded","isConfigValid","onApply","generateChart","onReset","resetConfig","message","errorMessage","onClose","clearError"],"sources":["D:\\Learning Material\\Git\\Fuck-Charts\\frontend\\src\\components\\ChartConfigPanel.vue"],"sourcesContent":["<template>\n  <div class=\"chart-config-panel\">\n    <!-- 右侧边栏总标题 -->\n    <div class=\"panel-header\">\n      <h3>Chart Configuration</h3>\n    </div>\n\n    <!-- 数据映射配置区域 -->\n    <DataMappingSection\n      :chart-type=\"selectedChartType\"\n      :field-mappings=\"fieldMappings\"\n      @update:field-mappings=\"updateFieldMappings\"\n      @mapping-error=\"handleMappingError\"\n      @column-mapped=\"handleColumnMapped\"\n    />\n\n    <!-- 数据过滤 -->\n    <FilterSection\n      :filters=\"filters\"\n      :expanded=\"showDataFilter\"\n      @update:filters=\"updateFilters\"\n      @update:expanded=\"updateDataFilterExpanded\"\n    />\n\n    <!-- 高级配置 -->\n    <AdvancedSection\n      :settings=\"advancedSettings\"\n      :expanded=\"showAdvancedConfig\"\n      @update:settings=\"updateAdvancedSettings\"\n      @update:expanded=\"updateAdvancedConfigExpanded\"\n    />\n\n    <!-- 操作按钮 -->\n    <ActionSection\n      :is-config-valid=\"isConfigValid\"\n      @apply=\"generateChart\"\n      @reset=\"resetConfig\"\n    />\n\n    <!-- 错误提示 -->\n    <ErrorMessage\n      :message=\"errorMessage\"\n      @close=\"clearError\"\n    />\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, computed, watch } from 'vue'\nimport DataMappingSection from './DataMappingSection.vue'\nimport FilterSection from './FilterSection.vue'\nimport AdvancedSection from './AdvancedSection.vue'\nimport ActionSection from './ActionSection.vue'\nimport ErrorMessage from './ErrorMessage.vue'\n\n// Props\nconst props = defineProps({\n  selectedChartType: {\n    type: String,\n    default: 'bar'\n  },\n  currentFile: {\n    type: Object,\n    default: null\n  }\n})\n\n// Emits\nconst emit = defineEmits(['config-change', 'generate-chart'])\n\n// 响应式数据\nconst showDataFilter = ref(false)\nconst showAdvancedConfig = ref(false)\nconst errorMessage = ref('')\n\n// 字段映射数据\nconst fieldMappings = ref({\n  xAxis: { field: '', type: '' },\n  yAxis: { field: '', type: '' },\n  series: []\n})\n\n// 过滤器配置\nconst filters = ref({\n  dataRange: 'all',\n  nullHandling: 'ignore'\n})\n\n// 高级设置\nconst advancedSettings = ref({\n  title: '',\n  colorScheme: 'default',\n  animation: true\n})\n\n// 计算属性\nconst isConfigValid = computed(() => {\n  return fieldMappings.value.xAxis.field &&\n         (fieldMappings.value.yAxis.field || fieldMappings.value.series.length > 0)\n})\n\n// 计算完整的图表配置\nconst chartConfig = computed(() => ({\n  ...fieldMappings.value,\n  ...filters.value,\n  ...advancedSettings.value\n}))\n\n// 数据映射处理\nfunction updateFieldMappings(newMappings) {\n  fieldMappings.value = newMappings\n  emit('config-change', chartConfig.value)\n}\n\n// 过滤器处理\nfunction updateFilters(newFilters) {\n  filters.value = newFilters\n  emit('config-change', chartConfig.value)\n}\n\nfunction updateDataFilterExpanded(expanded) {\n  showDataFilter.value = expanded\n}\n\n// 高级设置处理\nfunction updateAdvancedSettings(newSettings) {\n  advancedSettings.value = newSettings\n  emit('config-change', chartConfig.value)\n}\n\nfunction updateAdvancedConfigExpanded(expanded) {\n  showAdvancedConfig.value = expanded\n}\n\n// 错误处理\nfunction handleMappingError(error) {\n  errorMessage.value = error\n  setTimeout(() => {\n    errorMessage.value = ''\n  }, 3000)\n}\n\nfunction handleColumnMapped(mapping) {\n  // 字段映射成功后的处理\n  console.log('Column mapped:', mapping)\n}\n\nfunction clearError() {\n  errorMessage.value = ''\n}\n\n// 图表生成\nfunction generateChart() {\n  if (!isConfigValid.value) {\n    errorMessage.value = 'Please complete the required data mapping configuration'\n    return\n  }\n\n  emit('generate-chart', chartConfig.value)\n}\n\n// 重置配置\nfunction resetConfig() {\n  fieldMappings.value = {\n    xAxis: { field: '', type: '' },\n    yAxis: { field: '', type: '' },\n    series: []\n  }\n  \n  filters.value = {\n    dataRange: 'all',\n    nullHandling: 'ignore'\n  }\n  \n  advancedSettings.value = {\n    title: '',\n    colorScheme: 'default',\n    animation: true\n  }\n\n  errorMessage.value = ''\n  emit('config-change', chartConfig.value)\n}\n\n// 监听图表类型变化\nwatch(() => props.selectedChartType, (newType) => {\n  // 根据图表类型调整配置\n  if (newType === 'Pie' || newType === 'pie') {\n    // 饼图不需要Y轴\n    fieldMappings.value.yAxis = { field: '', type: '' }\n    emit('config-change', chartConfig.value)\n  }\n})\n</script>\n\n<style scoped>\n/* 白天主题CSS变量 */\n:root {\n  --bg-color: #ffffff;\n  --bg-secondary: #f8f9fa;\n  --bg-tertiary: #e9ecef;\n  --text-color: #333333;\n  --text-secondary: #666666;\n  --border-color: #e5e5e5;\n  --primary-color: #5470c6;\n  --accent-color: #91cc75;\n  --error-color: #dc3545;\n  --success-color: #28a745;\n  --warning-color: #ffc107;\n  --secondary-color: #6c757d;\n  --primary-hover: #4c63b6;\n  --secondary-hover: #5a6268;\n  --disabled-color: #a8a8a8;\n  --shadow-color: rgba(0, 0, 0, 0.1);\n  --hover-bg: rgba(0, 0, 0, 0.02);\n}\n\n/* 暗黑主题CSS变量 */\n:root.dark,\n[data-theme=\"dark\"] {\n  --bg-color: #1e1e1e;\n  --bg-secondary: #2d2d2d;\n  --bg-tertiary: #3d3d3d;\n  --text-color: #e0e0e0;\n  --text-secondary: #b0b0b0;\n  --border-color: #404040;\n  --primary-color: #6b9eff;\n  --accent-color: #a8d068;\n  --error-color: #ff6b6b;\n  --success-color: #51cf66;\n  --warning-color: #ffd93d;\n  --secondary-color: #868e96;\n  --primary-hover: #5a8cff;\n  --secondary-hover: #767d84;\n  --disabled-color: #666666;\n  --shadow-color: rgba(0, 0, 0, 0.3);\n  --hover-bg: rgba(255, 255, 255, 0.05);\n}\n\n.chart-config-panel {\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  background: var(--bg-color, #ffffff);\n  overflow-y: auto;\n  transition: all 0.3s ease;\n  animation: slideIn 0.5s ease;\n  /* 隐藏滚动条 */\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n}\n\n.chart-config-panel::-webkit-scrollbar {\n  display: none; /* Chrome, Safari and Opera */\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateX(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* 面板总标题 */\n.panel-header {\n  margin-bottom: 25px;\n  padding: 20px 0 15px 0;\n  border-bottom: 2px solid var(--border-color, #e5e5e5);\n  transition: all 0.3s ease;\n  position: relative;\n  animation: fadeInDown 0.5s ease;\n}\n\n@keyframes fadeInDown {\n  from {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.panel-header::before {\n  content: '';\n  position: absolute;\n  bottom: -2px;\n  left: 0;\n  width: 0;\n  height: 2px;\n  background: linear-gradient(90deg, var(--primary-color), var(--accent-color));\n  transition: width 0.5s ease;\n}\n\n.panel-header:hover::before {\n  width: 100%;\n}\n\n.panel-header h3 {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--text-color, #333333);\n  transition: color 0.3s ease;\n  position: relative;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAoB;;uBAA/BC,mBAAA,CA2CM,OA3CNC,UA2CM,GA1CJC,mBAAA,aAAgB,E,0BAChBC,mBAAA,CAEM;IAFDJ,KAAK,EAAC;EAAc,IACvBI,mBAAA,CAA4B,YAAxB,qBAAmB,E,sBAGzBD,mBAAA,cAAiB,EACjBE,YAAA,CAMEC,MAAA;IALC,YAAU,EAAEC,MAAA,CAAAC,iBAAiB;IAC7B,gBAAc,EAAEF,MAAA,CAAAG,aAAa;IAC7B,wBAAqB,EAAEH,MAAA,CAAAI,mBAAmB;IAC1CC,cAAa,EAAEL,MAAA,CAAAM,kBAAkB;IACjCC,cAAa,EAAEP,MAAA,CAAAQ;6DAGlBX,mBAAA,UAAa,EACbE,YAAA,CAKEC,MAAA;IAJCS,OAAO,EAAET,MAAA,CAAAS,OAAO;IAChBC,QAAQ,EAAEV,MAAA,CAAAW,cAAc;IACxB,kBAAc,EAAEX,MAAA,CAAAY,aAAa;IAC7B,mBAAe,EAAEZ,MAAA,CAAAa;oDAGpBhB,mBAAA,UAAa,EACbE,YAAA,CAKEC,MAAA;IAJCc,QAAQ,EAAEd,MAAA,CAAAe,gBAAgB;IAC1BL,QAAQ,EAAEV,MAAA,CAAAgB,kBAAkB;IAC5B,mBAAe,EAAEhB,MAAA,CAAAiB,sBAAsB;IACvC,mBAAe,EAAEjB,MAAA,CAAAkB;qDAGpBrB,mBAAA,UAAa,EACbE,YAAA,CAIEC,MAAA;IAHC,iBAAe,EAAEA,MAAA,CAAAmB,aAAa;IAC9BC,OAAK,EAAEpB,MAAA,CAAAqB,aAAa;IACpBC,OAAK,EAAEtB,MAAA,CAAAuB;gDAGV1B,mBAAA,UAAa,EACbE,YAAA,CAGEC,MAAA;IAFCwB,OAAO,EAAExB,MAAA,CAAAyB,YAAY;IACrBC,OAAK,EAAE1B,MAAA,CAAA2B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}