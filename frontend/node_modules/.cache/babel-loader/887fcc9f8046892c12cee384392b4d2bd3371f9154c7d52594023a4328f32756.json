{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderSlot as _renderSlot, vShow as _vShow, withModifiers as _withModifiers, withDirectives as _withDirectives, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"\"\n};\nconst _hoisted_2 = {\n  class: \"SidebarToggleBtn\",\n  style: {\n    \"font-size\": \"auto\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"aside\", {\n    class: _normalizeClass(['sidebar', $setup.positionClass, {\n      collapsed: $setup.isCollapsed,\n      expanded: $setup.isExpanded\n    }]),\n    style: _normalizeStyle({\n      width: $setup.sidebarWidth + 'px'\n    }),\n    onClick: $setup.toggleCollapse,\n    onMouseenter: $setup.handleMouseEnter,\n    onMouseleave: $setup.handleMouseLeave\n  }, [$setup.isMobile ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 切换按钮图标 \"), _createElementVNode(\"span\", _hoisted_2, _toDisplayString($setup.isCollapsed ? 'III' : '☰'), 1 /* TEXT */), _createCommentVNode(\" 内容区域过渡动画 \"), _createVNode(_Transition, {\n    name: \"fade-slide\",\n    persisted: \"\"\n  }, {\n    default: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", {\n      class: \"sidebar-content\",\n      onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n    }, [_renderSlot(_ctx.$slots, \"default\", {}, undefined, true)], 512 /* NEED_PATCH */), [[_vShow, $setup.isExpanded || !$setup.isCollapsed]])]),\n    _: 3 /* FORWARDED */\n  })], 38 /* CLASS, STYLE, NEED_HYDRATION */);\n}","map":{"version":3,"names":["key","class","style","_createElementBlock","_normalizeClass","$setup","positionClass","isCollapsed","expanded","isExpanded","_normalizeStyle","width","sidebarWidth","onClick","toggleCollapse","onMouseenter","handleMouseEnter","onMouseleave","handleMouseLeave","isMobile","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_toDisplayString","_createVNode","_Transition","name","persisted","default","_withCtx","_cache","_withModifiers","_renderSlot","_ctx","$slots","undefined","_"],"sources":["D:\\Learning Material\\Git\\Fuck-Charts\\newArchitecture\\frontend_vue_design\\src\\components\\SideBar.vue"],"sourcesContent":["<template>\n    <aside\n        :class=\"[\n            'sidebar',\n            positionClass,\n            { collapsed: isCollapsed, expanded: isExpanded }\n        ]\"\n        :style=\"{ width: sidebarWidth + 'px' }\"\n        @click=\"toggleCollapse\"\n        @mouseenter=\"handleMouseEnter\"\n        @mouseleave=\"handleMouseLeave\"\n    >\n        <div v-if=\"isMobile\" class=\"\"></div>\n        <!-- 切换按钮图标 -->\n        <span class=\"SidebarToggleBtn\" style=\"font-size: auto;\">\n            {{ isCollapsed ? 'III' : '☰' }}\n        </span>\n        <!-- 内容区域过渡动画 -->\n        <transition name=\"fade-slide\">\n            <div\n                v-show=\"isExpanded || !isCollapsed\"\n                class=\"sidebar-content\"\n                @click.stop\n            >\n                <slot />\n            </div>\n        </transition>\n    </aside>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, computed, onUnmounted } from 'vue'\n\nconst props = defineProps({\n    position: {\n        type: String,\n        default: 'left',\n        validator: v => ['left', 'right'].includes(v),\n    },\n    collapsedWidth: {\n        type: Number,\n        default: 40,\n    },\n    expandedWidth: {\n        type: Number,\n        default: 200,\n    },\n    autoCollapseOnMobile: {\n        type: Boolean,\n        default: true,\n    },\n})\n\nconst isCollapsed = ref(true)\nconst isHovered = ref(false)\nconst isFixed = ref(false)\n\nconst isMobile = ref(window.innerWidth < 768)\nfunction onResize() {\n    isMobile.value = window.innerWidth < 768\n    if (props.autoCollapseOnMobile && isMobile.value) {\n        isCollapsed.value = true\n    }\n}\nwindow.addEventListener('resize', onResize)\n\nfunction handleMouseEnter() {\n    if (!isFixed.value) {\n        isHovered.value = true\n    }\n}\nfunction handleMouseLeave() {\n    isHovered.value = false\n}\n\nconst isExpanded = computed(() => !isCollapsed.value || isHovered.value)\n\n// 动态宽度，配合动画\nconst sidebarWidth = computed(() =>\n    isExpanded.value ? props.expandedWidth : props.collapsedWidth\n)\n\nfunction toggleCollapse() {\n    isCollapsed.value = !isCollapsed.value\n}\n\nconst positionClass = computed(() => {\n    return props.position === 'left' ? 'sidebar-left' : 'sidebar-right'\n})\n\nonUnmounted(() => {\n    window.removeEventListener('resize', onResize)\n})\n</script>\n    \n<style scoped>\n.sidebar {\n    position: fixed;\n    top: 100px;\n    bottom: 30px;\n    background-color: var(--bg-color);\n    box-shadow: 0 0 1px var(--text-color);\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    z-index: 9998;\n    user-select: none;\n    cursor: pointer;\n    transition: width 0.4s cubic-bezier(.4,2,.6,1), box-shadow 0.3s, background-color 0.3s;\n}\n\n.sidebar-left {\n    left: 0;\n    border-radius: 0 10px 10px 0;\n}\n\n.sidebar-right {\n    right: 0;\n    border-radius: 10px 0 0 10px;\n}\n\n/* 图标按钮 */\n.SidebarToggleBtn {\n    font-size: 1.2rem;\n    padding: 8px;\n    margin: 6px;\n    align-self: flex-end;\n    pointer-events: none;\n    user-select: none;\n    color: var(--text-color);\n}\n\n/* 内容区域 */\n.sidebar-content {\n    flex: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 12px 16px;\n    color: var(--text-color);\n    pointer-events: auto;\n    cursor: default;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n.sidebar-content::-webkit-scrollbar {\n    width: 8px;\n    background: transparent;\n}\n\n/* 进入/离开动画 */\n.fade-slide-enter-active,\n.fade-slide-leave-active {\n    transition: all 0.3s ease;\n}\n.fade-slide-enter-from,\n.fade-slide-leave-to {\n    opacity: 0;\n    transform: translateY(-10px);\n}\n\n/* 小屏自动折叠 */\n@media (max-width: 767px) {\n    .sidebar {\n        top: auto;  /* 取消顶部定位 */\n        bottom: 0;  /* 固定在底部 */\n        left: 0;    /* 横向占满 */\n        right: 0;\n        width: 100% !important;  /* 宽度100% */\n        height: auto;  /* 高度自适应 */\n        border-radius: 12px 12px 0 0;  /* 上圆角 */\n        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\n    }\n\n    /* 移动端布局调整 */\n    .sidebar-content {\n        flex-direction: row;  /* 改为横向排列 */\n        justify-content: space-around;  /* 均匀分布 */\n        padding: 12px 8px;\n        gap: 12px;\n        max-height: 80px;  /* 限制最大高度 */\n        overflow-x: auto;  /* 允许横向滚动 */\n    }\n\n    /* 隐藏切换按钮 */\n    .SidebarToggleBtn {\n        display: none;\n    }\n\n    /* 重置左右侧边栏特定样式 */\n    .sidebar-left,\n    .sidebar-right {\n        border-radius: 12px 12px 0 0;\n    }\n\n    /* 优化滚动条 */\n    .sidebar-content::-webkit-scrollbar {\n        height: 3px;  /* 横向滚动条高度 */\n    }\n    \n    /* 收起状态 */\n    .sidebar.collapsed {\n        transform: translateY(calc(100% - 40px));  /* 只露出顶部 */\n        transition: transform 0.3s ease;\n    }\n    \n    /* 展开状态 */\n    .sidebar.expanded {\n        transform: translateY(0);\n    }\n\n    /* 添加上滑手势区域 */\n    .drag-handle {\n        width: 40px;\n        height: 4px;\n        background: #ddd;\n        border-radius: 2px;\n        margin: 8px auto;\n        cursor: grab;\n    }\n}\n</style>\n"],"mappings":";;EAAAA,GAAA;EAY6BC,KAAK,EAAC;;;EAErBA,KAAK,EAAC,kBAAkB;EAACC,KAAwB,EAAxB;IAAA;EAAA;;;uBAbnCC,mBAAA,CA0BQ;IAzBHF,KAAK,EAFdG,eAAA,E,WAEqDC,MAAA,CAAAC,aAAa,E;iBAA2BD,MAAA,CAAAE,WAAW;MAAAC,QAAA,EAAYH,MAAA,CAAAI;IAAU,E;IAKrHP,KAAK,EAPdQ,eAAA;MAAAC,KAAA,EAOyBN,MAAA,CAAAO,YAAY;IAAA;IAC5BC,OAAK,EAAER,MAAA,CAAAS,cAAc;IACrBC,YAAU,EAAEV,MAAA,CAAAW,gBAAgB;IAC5BC,YAAU,EAAEZ,MAAA,CAAAa;MAEFb,MAAA,CAAAc,QAAQ,I,cAAnBhB,mBAAA,CAAoC,OAApCiB,UAAoC,KAZ5CC,mBAAA,gBAaQA,mBAAA,YAAe,EACfC,mBAAA,CAEO,QAFPC,UAEO,EAAAC,gBAAA,CADAnB,MAAA,CAAAE,WAAW,gCAElBc,mBAAA,cAAiB,EACjBI,YAAA,CAQaC,WAAA;IARDC,IAAI,EAAC,YAAY;IAA7BC,SAQa,EARb;;IAlBRC,OAAA,EAAAC,QAAA,CAmBY,MAMM,C,gBANNR,mBAAA,CAMM;MAJFrB,KAAK,EAAC,iBAAiB;MACtBY,OAAK,EAAAkB,MAAA,QAAAA,MAAA,MAtBtBC,cAAA,CAsBgB,QAAW;QAEXC,WAAA,CAAQC,IAAA,CAAAC,MAAA,iBAAAC,SAAA,Q,mCAJA/B,MAAA,CAAAI,UAAU,KAAKJ,MAAA,CAAAE,WAAW,E;IApBlD8B,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}