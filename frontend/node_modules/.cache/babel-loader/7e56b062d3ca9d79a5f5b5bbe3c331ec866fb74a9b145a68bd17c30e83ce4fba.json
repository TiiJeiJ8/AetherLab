{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, onMounted, onUnmounted } from 'vue';\nexport default {\n  __name: 'TopBar',\n  props: {\n    actions: {\n      type: Array,\n      default: () => [{\n        type: 'button',\n        label: 'Home',\n        to: '/',\n        external: false\n      }]\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const props = __props;\n\n    // 控制每个下拉菜单的显示状态\n\n    // 保证响应式数组有足够的长度\n    const dropdownOpen = ref([]);\n    function ensureDropdownLength(idx) {\n      if (dropdownOpen.value.length <= idx) {\n        for (let i = dropdownOpen.value.length; i <= idx; i++) {\n          dropdownOpen.value.push(false);\n        }\n      }\n    }\n    function toggleDropdown(idx) {\n      ensureDropdownLength(idx);\n      dropdownOpen.value[idx] = !dropdownOpen.value[idx];\n    }\n    function closeDropdown(idx) {\n      dropdownOpen.value[idx] = false;\n    }\n\n    // 点击页面其他地方关闭所有下拉菜单\n    const dropdowns = document.querySelectorAll('.dropdown');\n    let inside = false;\n    dropdowns.forEach(dropdown => {\n      if (dropdown.contains(event.target)) {\n        inside = true;\n      }\n    });\n    if (!inside) {\n      // 关闭所有下拉\n      for (let i = 0; i < dropdownOpen.value.length; i++) {\n        dropdownOpen.value[i] = false;\n      }\n    }\n    onMounted(() => {\n      document.addEventListener('click', handleClickOutside);\n    });\n    onUnmounted(() => {\n      document.removeEventListener('click', handleClickOutside);\n    });\n    const __returned__ = {\n      props,\n      dropdownOpen,\n      ensureDropdownLength,\n      toggleDropdown,\n      closeDropdown,\n      dropdowns,\n      get inside() {\n        return inside;\n      },\n      set inside(v) {\n        inside = v;\n      },\n      ref,\n      onMounted,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","props","__props","dropdownOpen","ensureDropdownLength","idx","value","length","i","push","toggleDropdown","closeDropdown","dropdowns","document","querySelectorAll","inside","forEach","dropdown","contains","event","target","addEventListener","handleClickOutside","removeEventListener"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/TopBar.vue"],"sourcesContent":["<template>\n    <header class=\"top-bar\">\n        <nav class=\"nav-container\">\n        <div class=\"logo dynamic-gradient-text\">Fuck Charts</div>\n        <div class=\"nav-actions\">\n            <template v-for=\"(item, idx) in actions\" :key=\"idx\">\n            <!-- 普通按钮 -->\n            <button\n                v-if=\"item.type === 'button' && !item.to\"\n                class=\"nav-btn\"\n                @click=\"item.onClick\"\n            >\n                {{ item.label }}\n            </button>\n            <!-- 内部路由跳转 -->\n            <RouterLink\n                v-else-if=\"item.type === 'button' && item.to && !item.external\"\n                :to=\"item.to\"\n                class=\"nav-btn router-link\"\n            >\n                {{ item.label }}\n            </RouterLink>\n            <!-- 外部链接跳转 -->\n            <a\n                v-else-if=\"item.type === 'button' && item.to && item.external\"\n                :href=\"item.to\"\n                class=\"nav-btn external-link\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n            >\n                {{ item.label }}\n            </a>\n            <!-- 下拉菜单 -->\n            <div\n                v-else-if=\"item.type === 'dropdown' && item.options && item.options.length\"\n                class=\"dropdown\"\n            >\n                <button class=\"nav-btn\" @click=\"toggleDropdown(idx)\">\n                    {{ item.label }}\n                    <span class=\"arrow\">▼</span>\n                </button>\n                <div v-if=\"dropdownOpen[idx]\" class=\"dropdown-menu\">\n                    <template v-for=\"(option, oidx) in item.options\" :key=\"oidx\">\n                        <RouterLink\n                            v-if=\"option.to && !option.external\"\n                            :to=\"option.to\"\n                            class=\"dropdown-item dropdown-link\"\n                            @click=\"closeDropdown(idx)\"\n                        >\n                            {{ option.label }}\n                        </RouterLink>\n                        <a\n                            v-else-if=\"option.to && option.external\"\n                            :href=\"option.to\"\n                            class=\"dropdown-item dropdown-link\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            @click=\"closeDropdown(idx)\"\n                        >\n                            {{ option.label }}\n                        </a>\n                        <div\n                            v-else\n                            class=\"dropdown-item\"\n                            @click=\"option.onClick ? option.onClick() : null; closeDropdown(idx)\"\n                        >\n                            {{ option.label }}\n                        </div>\n                    </template>\n                </div>\n            </div>\n            </template>\n        </div>\n        </nav>\n    </header>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, onMounted, onUnmounted } from 'vue'\n\nconst props = defineProps({\n    actions: {\n    type: Array,\n    default: () => [\n        { type: 'button', label: 'Home', to: '/', external: false },\n    ],\n    },\n})\n\n// 控制每个下拉菜单的显示状态\n\n// 保证响应式数组有足够的长度\nconst dropdownOpen = ref([])\n\nfunction ensureDropdownLength(idx) {\n    if (dropdownOpen.value.length <= idx) {\n        for (let i = dropdownOpen.value.length; i <= idx; i++) {\n            dropdownOpen.value.push(false)\n        }\n    }\n}\n\nfunction toggleDropdown(idx) {\n    ensureDropdownLength(idx)\n    dropdownOpen.value[idx] = !dropdownOpen.value[idx]\n}\nfunction closeDropdown(idx) {\n    dropdownOpen.value[idx] = false\n}\n\n// 点击页面其他地方关闭所有下拉菜单\n    const dropdowns = document.querySelectorAll('.dropdown')\n    let inside = false\n    dropdowns.forEach((dropdown) => {\n        if (dropdown.contains(event.target)) {\n            inside = true\n        }\n    })\n    if (!inside) {\n        // 关闭所有下拉\n        for (let i = 0; i < dropdownOpen.value.length; i++) {\n            dropdownOpen.value[i] = false\n        }\n    }\n\nonMounted(() => {\n    document.addEventListener('click', handleClickOutside)\n})\nonUnmounted(() => {\n    document.removeEventListener('click', handleClickOutside)\n})\n</script>\n\n<style scoped>\n/* 顶部导航栏 */\n.top-bar {\n    position: fixed;\n    top: 2%;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: var(--bg-color);\n    backdrop-filter: saturate(180%) blur(10px);\n    border-radius: 12px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n    padding: 0 20px;\n    z-index: 9999;\n    width: 90%;\n    max-width: 900px;\n    height: 50px;\n    display: flex;\n    align-items: center;\n}\n\n/* 导航内容容器 */\n.nav-container {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n/* LOGO动态渐变文字 */\n.dynamic-gradient-text {\n    font-weight: 900;\n    font-size: 2.3rem;\n    background: linear-gradient(\n    270deg,\n    #ff416c,\n    #fa83bf,\n    #1f97ff,\n    #12d8fa,\n    #50f6a0,\n    #ff416c\n    );\n    background-size: 1200% 1200%;\n    -webkit-background-clip: text;\n    background-clip: text;\n    -webkit-text-fill-color: transparent;\n    animation: gradientMove 20s ease infinite;\n    user-select: none;\n}\n\n/* 动态渐变动画 */\n@keyframes gradientMove {\n    0% {\n        background-position: 0% 50%;\n    }\n    50% {\n        background-position: 100% 50%;\n    }\n    100% {\n        background-position: 0% 50%;\n    }\n}\n\n/* 按钮样式 */\n.nav-btn {\n    background: transparent;\n    border: none;\n    font-size: 1rem;\n    font-weight: 600;\n    cursor: pointer;\n    color: var(--text-color);\n    padding: 6px 14px;\n    border-radius: 8px;\n    transition: background-color 0.3s ease;\n    text-decoration: none;\n    display: inline-block;\n    text-align: center;\n}\n\n/* 悬停效果 */\n.nav-btn:hover {\n    background-color: rgba(136, 133, 133, 0.1);\n}\n\n/* 下拉菜单 */\n.dropdown {\n    position: relative;\n    display: inline-block;\n}\n\n.arrow {\n    font-size: 0.6rem;\n    margin-left: 6px;\n}\n\n/* 下拉菜单列表 */\n.dropdown-menu {\n    position: absolute;\n    top: 110%;\n    left: 0;\n    background: var(--bg-color) !important;\n    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);\n    border-radius: 8px;\n    min-width: 120px;\n    z-index: 10;\n    padding: 6px 0;\n    user-select: none;\n}\n\n.dropdown-item {\n    padding: 8px 16px;\n    cursor: pointer;\n    white-space: nowrap;\n    transition: background-color 0.2s ease;\n    color: var(--text-color);\n}\n\n.dropdown-item:hover {\n    background-color: #848282;\n}\n\n.dropdown-link {\n    text-decoration: none;\n    color: var(--text-color)\n}\n\n/* 响应式设计 */\n/* 手机端缩小按钮 */\n@media (max-width: 600px) {\n    .top-bar {\n        width: 95%;\n        height: 44px;\n        padding: 0 12px;\n    }\n    .dynamic-gradient-text {\n        font-size: 1.1rem;\n    }\n    .nav-btn {\n        font-size: 0.9rem;\n        padding: 5px 10px;\n    }\n    .dropdown-menu {\n        min-width: 100px;\n    }\n    .dynamic-gradient-text {\n        display: none;\n    }\n}\n</style>"],"mappings":";;;AA+EA,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;IADhD;IAGA,MAAMC,KAAK,GAAGC,OAAA;;IASd;;IAEA;IACA,MAAMC,YAAY,GAAGL,GAAG,CAAC,EAAE;IAE3B,SAASM,oBAAoBA,CAACC,GAAG,EAAE;MAC/B,IAAIF,YAAY,CAACG,KAAK,CAACC,MAAM,IAAIF,GAAG,EAAE;QAClC,KAAK,IAAIG,CAAC,GAAGL,YAAY,CAACG,KAAK,CAACC,MAAM,EAAEC,CAAC,IAAIH,GAAG,EAAEG,CAAC,EAAE,EAAE;UACnDL,YAAY,CAACG,KAAK,CAACG,IAAI,CAAC,KAAK;QACjC;MACJ;IACJ;IAEA,SAASC,cAAcA,CAACL,GAAG,EAAE;MACzBD,oBAAoB,CAACC,GAAG;MACxBF,YAAY,CAACG,KAAK,CAACD,GAAG,CAAC,GAAG,CAACF,YAAY,CAACG,KAAK,CAACD,GAAG;IACrD;IACA,SAASM,aAAaA,CAACN,GAAG,EAAE;MACxBF,YAAY,CAACG,KAAK,CAACD,GAAG,CAAC,GAAG,KAAI;IAClC;;IAEA;IACI,MAAMO,SAAS,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,WAAW;IACvD,IAAIC,MAAM,GAAG,KAAI;IACjBH,SAAS,CAACI,OAAO,CAAEC,QAAQ,IAAK;MAC5B,IAAIA,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAC,EAAE;QACjCL,MAAM,GAAG,IAAG;MAChB;IACJ,CAAC;IACD,IAAI,CAACA,MAAM,EAAE;MACT;MACA,KAAK,IAAIP,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,YAAY,CAACG,KAAK,CAACC,MAAM,EAAEC,CAAC,EAAE,EAAE;QAChDL,YAAY,CAACG,KAAK,CAACE,CAAC,CAAC,GAAG,KAAI;MAChC;IACJ;IAEJT,SAAS,CAAC,MAAM;MACZc,QAAQ,CAACQ,gBAAgB,CAAC,OAAO,EAAEC,kBAAkB;IACzD,CAAC;IACDtB,WAAW,CAAC,MAAM;MACda,QAAQ,CAACU,mBAAmB,CAAC,OAAO,EAAED,kBAAkB;IAC5D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}