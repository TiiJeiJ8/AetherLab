{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue';\nimport { globalDragHandler, createDragData } from '../utils/dragDropUtils.js';\nimport { detectColumnType, generateSampleData } from '../utils/dataMappingUtils.js';\n\n// Props\nconst folderIcon = '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M10 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2h-8l-2-2z\"/></svg>';\nconst expandIcon = '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7 14l5-5 5 5z\"/></svg>';\nconst collapseIcon = '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7 10l5 5 5-5z\"/></svg>';\nconst closeIcon = '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>';\nconst searchIcon = '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/></svg>';\n\n// 方法\n\nexport default {\n  __name: 'FileStructurePanel',\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    files: {\n      type: Array,\n      default: () => []\n    },\n    initialPosition: {\n      type: Object,\n      default: () => ({\n        x: 100,\n        y: 100\n      })\n    }\n  },\n  emits: ['close', 'file-change'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n\n    // Emits\n    const emit = __emit;\n\n    // 响应式数据\n    const panelRef = ref(null);\n    const selectedFileId = ref(null);\n    const searchQuery = ref('');\n    const isCollapsed = ref(false);\n    const isDragging = ref(false);\n    const draggingColumn = ref(null);\n    const position = ref({\n      ...props.initialPosition\n    });\n    const previewData = ref([]);\n\n    // 计算属性\n    const currentFile = computed(() => {\n      return props.files.find(f => f.id === selectedFileId.value) || props.files[0];\n    });\n    const columns = computed(() => {\n      if (!currentFile.value) return [];\n\n      // 从文件预览数据中提取列信息\n      const data = currentFile.value.previewData || [];\n      if (data.length === 0) return [];\n      const firstRow = data[0];\n      return Object.keys(firstRow).map(columnName => {\n        const values = data.map(row => row[columnName]);\n        const type = detectColumnType(values);\n        const sampleData = generateSampleData(values);\n        return {\n          name: columnName,\n          type,\n          sampleData,\n          stats: {\n            count: values.length,\n            unique: new Set(values).size\n          }\n        };\n      });\n    });\n    const filteredColumns = computed(() => {\n      if (!searchQuery.value) return columns.value;\n      const query = searchQuery.value.toLowerCase();\n      return columns.value.filter(column => column.name.toLowerCase().includes(query) || column.type.toLowerCase().includes(query));\n    });\n    const panelStyle = computed(() => ({\n      left: `${position.value.x}px`,\n      top: `${position.value.y}px`,\n      zIndex: isDragging.value ? 1001 : 1000\n    }));\n\n    // 图标\n    function getColumnIcon(type) {\n      const icons = {\n        'string': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M9 4v3h5v12h3V7h5V4H9zM3 12h3v7h3v-7h3V9H3v3z\"/></svg>',\n        'number': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7 17h2v-6H7v6zm4 0h2V7h-2v10zm4-4h2v-2.5h-2V13z\"/></svg>',\n        'date': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"/></svg>',\n        'boolean': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>'\n      };\n      return icons[type] || icons['string'];\n    }\n    function getFileType(filename) {\n      const extension = filename.split('.').pop()?.toLowerCase();\n      return extension ? extension.toUpperCase() : 'FILE';\n    }\n    function formatFileSize(bytes) {\n      if (bytes === 0) return '0 Bytes';\n      const k = 1024;\n      const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    }\n    function formatSampleValue(value) {\n      if (value === null || value === undefined) return 'null';\n      if (typeof value === 'string' && value.length > 15) {\n        return value.substring(0, 15) + '...';\n      }\n      return String(value);\n    }\n    function formatPreviewValue(value) {\n      if (value === null || value === undefined) return '-';\n      if (typeof value === 'string' && value.length > 10) {\n        return value.substring(0, 10) + '...';\n      }\n      return String(value);\n    }\n    function toggleCollapse() {\n      isCollapsed.value = !isCollapsed.value;\n    }\n    function closePanel() {\n      emit('close');\n    }\n    function onFileChange() {\n      const file = currentFile.value;\n      if (file) {\n        emit('file-change', file);\n        loadPreviewData(file);\n      }\n    }\n    function loadPreviewData(file) {\n      // 从文件中加载预览数据\n      if (file.previewData) {\n        previewData.value = file.previewData.slice(0, 10);\n      }\n    }\n\n    // 拖拽相关\n    let dragOffset = {\n      x: 0,\n      y: 0\n    };\n    let isMouseDown = false;\n    function handleMouseDown(event) {\n      if (event.target.closest('.panel-header')) return;\n      isMouseDown = true;\n    }\n    function startDrag(event) {\n      isDragging.value = true;\n      dragOffset.x = event.clientX - position.value.x;\n      dragOffset.y = event.clientY - position.value.y;\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n    function handleMouseMove(event) {\n      if (!isDragging.value) return;\n      position.value.x = event.clientX - dragOffset.x;\n      position.value.y = event.clientY - dragOffset.y;\n\n      // 限制在视口内\n      const rect = panelRef.value?.getBoundingClientRect();\n      if (rect) {\n        position.value.x = Math.max(0, Math.min(window.innerWidth - rect.width, position.value.x));\n        position.value.y = Math.max(0, Math.min(window.innerHeight - rect.height, position.value.y));\n      }\n    }\n    function handleMouseUp() {\n      isDragging.value = false;\n      isMouseDown = false;\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    }\n\n    // 列拖拽\n    function handleDragStart(column, event) {\n      draggingColumn.value = column.name;\n      const dragData = createDragData(column, currentFile.value);\n      globalDragHandler.startDrag(dragData, event);\n    }\n    function handleDragEnd() {\n      draggingColumn.value = null;\n      globalDragHandler.endDrag();\n    }\n\n    // 生命周期\n    watch(() => props.files, newFiles => {\n      if (newFiles.length > 0 && !selectedFileId.value) {\n        selectedFileId.value = newFiles[0].id;\n      }\n    }, {\n      immediate: true\n    });\n    watch(() => selectedFileId.value, newId => {\n      if (newId) {\n        const file = props.files.find(f => f.id === newId);\n        if (file) {\n          loadPreviewData(file);\n        }\n      }\n    }, {\n      immediate: true\n    });\n    onMounted(() => {\n      // 初始化位置\n      if (props.files.length > 0) {\n        selectedFileId.value = props.files[0].id;\n        loadPreviewData(props.files[0]);\n      }\n    });\n    onUnmounted(() => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    });\n    const __returned__ = {\n      props,\n      emit,\n      panelRef,\n      selectedFileId,\n      searchQuery,\n      isCollapsed,\n      isDragging,\n      draggingColumn,\n      position,\n      previewData,\n      currentFile,\n      columns,\n      filteredColumns,\n      panelStyle,\n      folderIcon,\n      expandIcon,\n      collapseIcon,\n      closeIcon,\n      searchIcon,\n      getColumnIcon,\n      getFileType,\n      formatFileSize,\n      formatSampleValue,\n      formatPreviewValue,\n      toggleCollapse,\n      closePanel,\n      onFileChange,\n      loadPreviewData,\n      get dragOffset() {\n        return dragOffset;\n      },\n      set dragOffset(v) {\n        dragOffset = v;\n      },\n      get isMouseDown() {\n        return isMouseDown;\n      },\n      set isMouseDown(v) {\n        isMouseDown = v;\n      },\n      handleMouseDown,\n      startDrag,\n      handleMouseMove,\n      handleMouseUp,\n      handleDragStart,\n      handleDragEnd,\n      ref,\n      computed,\n      watch,\n      onMounted,\n      onUnmounted,\n      get globalDragHandler() {\n        return globalDragHandler;\n      },\n      get createDragData() {\n        return createDragData;\n      },\n      get detectColumnType() {\n        return detectColumnType;\n      },\n      get generateSampleData() {\n        return generateSampleData;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","watch","onMounted","onUnmounted","globalDragHandler","createDragData","detectColumnType","generateSampleData","folderIcon","expandIcon","collapseIcon","closeIcon","searchIcon","props","__props","emit","__emit","panelRef","selectedFileId","searchQuery","isCollapsed","isDragging","draggingColumn","position","initialPosition","previewData","currentFile","files","find","f","id","value","columns","data","length","firstRow","Object","keys","map","columnName","values","row","type","sampleData","name","stats","count","unique","Set","size","filteredColumns","query","toLowerCase","filter","column","includes","panelStyle","left","x","top","y","zIndex","getColumnIcon","icons","getFileType","filename","extension","split","pop","toUpperCase","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","formatSampleValue","undefined","substring","String","formatPreviewValue","toggleCollapse","closePanel","onFileChange","file","loadPreviewData","slice","dragOffset","isMouseDown","handleMouseDown","event","target","closest","startDrag","clientX","clientY","document","addEventListener","handleMouseMove","handleMouseUp","rect","getBoundingClientRect","max","min","window","innerWidth","width","innerHeight","height","removeEventListener","handleDragStart","dragData","handleDragEnd","endDrag","newFiles","immediate","newId"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/FileStructurePanel.vue"],"sourcesContent":["/* eslint-disable */\n<template>\n  <div \n    v-if=\"show\"\n    class=\"file-structure-panel\"\n    :class=\"{ 'is-dragging': isDragging }\"\n    :style=\"panelStyle\"\n    @mousedown=\"handleMouseDown\"\n    ref=\"panelRef\">\n    \n    <!-- 面板头部 -->\n    <div class=\"panel-header\" @mousedown.prevent=\"startDrag\">\n      <div class=\"panel-title\">\n        <span class=\"panel-icon\" v-html=\"folderIcon\"></span>\n        <span>{{ currentFile?.name || 'File Structure' }}</span>\n      </div>\n      <div class=\"panel-controls\">\n        <button \n          class=\"panel-control-btn\"\n          @click=\"toggleCollapse\"\n          :title=\"isCollapsed ? 'Expand' : 'Collapse'\">\n          <span v-html=\"isCollapsed ? expandIcon : collapseIcon\"></span>\n        </button>\n        <button \n          class=\"panel-control-btn close-btn\"\n          @click=\"closePanel\"\n          title=\"Close\">\n          <span v-html=\"closeIcon\"></span>\n        </button>\n      </div>\n    </div>\n\n    <!-- 面板内容 -->\n    <div v-if=\"!isCollapsed\" class=\"panel-content\">\n      <!-- 文件选择器 -->\n      <div class=\"file-selector\" v-if=\"files.length > 1\">\n        <select v-model=\"selectedFileId\" @change=\"onFileChange\" class=\"file-select\">\n          <option v-for=\"file in files\" :key=\"file.id\" :value=\"file.id\">\n            {{ file.name }}\n          </option>\n        </select>\n      </div>\n\n      <!-- 文件信息 -->\n      <div v-if=\"currentFile\" class=\"file-info\">\n        <div class=\"file-meta\">\n          <span class=\"file-type\">{{ getFileType(currentFile.name) }}</span>\n          <span class=\"file-size\">{{ formatFileSize(currentFile.size) }}</span>\n          <span class=\"column-count\">{{ columns.length }} columns</span>\n        </div>\n      </div>\n\n      <!-- 搜索框 -->\n      <div class=\"search-box\">\n        <input \n          v-model=\"searchQuery\"\n          type=\"text\"\n          placeholder=\"Search columns...\"\n          class=\"search-input\">\n        <span class=\"search-icon\" v-html=\"searchIcon\"></span>\n      </div>\n\n      <!-- 列列表 -->\n      <div class=\"columns-list\">\n        <div class=\"columns-header\">\n          <span class=\"header-text\">Columns</span>\n          <span class=\"columns-count\">({{ filteredColumns.length }})</span>\n        </div>\n        \n        <div class=\"columns-container\">\n          <div\n            v-for=\"column in filteredColumns\"\n            :key=\"`${currentFile?.id}-${column.name}`\"\n            class=\"column-item\"\n            :class=\"{ 'is-dragging': draggingColumn === column.name }\"\n            draggable=\"true\"\n            @dragstart=\"handleDragStart(column, $event)\"\n            @dragend=\"handleDragEnd\">\n            \n            <div class=\"column-header\">\n              <span class=\"column-icon\" v-html=\"getColumnIcon(column.type)\"></span>\n              <span class=\"column-name\">{{ column.name }}</span>\n              <span class=\"column-type\">{{ column.type }}</span>\n            </div>\n            \n            <div class=\"column-samples\" v-if=\"column.sampleData && column.sampleData.length > 0\">\n              <div class=\"sample-label\">Sample:</div>\n              <div class=\"sample-values\">\n                <span \n                  v-for=\"(sample, index) in column.sampleData.slice(0, 3)\" \n                  :key=\"index\"\n                  class=\"sample-value\">\n                  {{ formatSampleValue(sample) }}\n                </span>\n                <span v-if=\"column.sampleData.length > 3\" class=\"sample-more\">\n                  +{{ column.sampleData.length - 3 }} more\n                </span>\n              </div>\n            </div>\n            \n            <div class=\"column-stats\" v-if=\"column.stats\">\n              <div class=\"stat-item\">\n                <span class=\"stat-label\">Count:</span>\n                <span class=\"stat-value\">{{ column.stats.count }}</span>\n              </div>\n              <div class=\"stat-item\" v-if=\"column.stats.unique\">\n                <span class=\"stat-label\">Unique:</span>\n                <span class=\"stat-value\">{{ column.stats.unique }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 数据预览 -->\n      <div class=\"data-preview\" v-if=\"previewData.length > 0\">\n        <div class=\"preview-header\">\n          <span class=\"header-text\">Preview</span>\n          <span class=\"preview-count\">({{ previewData.length }} rows)</span>\n        </div>\n        \n        <div class=\"preview-table\">\n          <table>\n            <thead>\n              <tr>\n                <th v-for=\"column in columns.slice(0, 4)\" :key=\"column.name\">\n                  {{ column.name }}\n                </th>\n                <th v-if=\"columns.length > 4\">...</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(row, index) in previewData.slice(0, 5)\" :key=\"index\">\n                <td v-for=\"column in columns.slice(0, 4)\" :key=\"column.name\">\n                  {{ formatPreviewValue(row[column.name]) }}\n                </td>\n                <td v-if=\"columns.length > 4\">...</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted, onUnmounted } from 'vue'\nimport { globalDragHandler, createDragData } from '../utils/dragDropUtils.js'\nimport { detectColumnType, generateSampleData } from '../utils/dataMappingUtils.js'\n\n// Props\nconst props = defineProps({\n  show: {\n    type: Boolean,\n    default: false\n  },\n  files: {\n    type: Array,\n    default: () => []\n  },\n  initialPosition: {\n    type: Object,\n    default: () => ({ x: 100, y: 100 })\n  }\n})\n\n// Emits\nconst emit = defineEmits(['close', 'file-change'])\n\n// 响应式数据\nconst panelRef = ref(null)\nconst selectedFileId = ref(null)\nconst searchQuery = ref('')\nconst isCollapsed = ref(false)\nconst isDragging = ref(false)\nconst draggingColumn = ref(null)\nconst position = ref({ ...props.initialPosition })\nconst previewData = ref([])\n\n// 计算属性\nconst currentFile = computed(() => {\n  return props.files.find(f => f.id === selectedFileId.value) || props.files[0]\n})\n\nconst columns = computed(() => {\n  if (!currentFile.value) return []\n  \n  // 从文件预览数据中提取列信息\n  const data = currentFile.value.previewData || []\n  if (data.length === 0) return []\n  \n  const firstRow = data[0]\n  return Object.keys(firstRow).map(columnName => {\n    const values = data.map(row => row[columnName])\n    const type = detectColumnType(values)\n    const sampleData = generateSampleData(values)\n    \n    return {\n      name: columnName,\n      type,\n      sampleData,\n      stats: {\n        count: values.length,\n        unique: new Set(values).size\n      }\n    }\n  })\n})\n\nconst filteredColumns = computed(() => {\n  if (!searchQuery.value) return columns.value\n  \n  const query = searchQuery.value.toLowerCase()\n  return columns.value.filter(column => \n    column.name.toLowerCase().includes(query) ||\n    column.type.toLowerCase().includes(query)\n  )\n})\n\nconst panelStyle = computed(() => ({\n  left: `${position.value.x}px`,\n  top: `${position.value.y}px`,\n  zIndex: isDragging.value ? 1001 : 1000\n}))\n\n// 图标\nconst folderIcon = '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M10 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2h-8l-2-2z\"/></svg>'\nconst expandIcon = '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7 14l5-5 5 5z\"/></svg>'\nconst collapseIcon = '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7 10l5 5 5-5z\"/></svg>'\nconst closeIcon = '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg>'\nconst searchIcon = '<svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/></svg>'\n\n// 方法\nfunction getColumnIcon(type) {\n  const icons = {\n    'string': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M9 4v3h5v12h3V7h5V4H9zM3 12h3v7h3v-7h3V9H3v3z\"/></svg>',\n    'number': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M7 17h2v-6H7v6zm4 0h2V7h-2v10zm4-4h2v-2.5h-2V13z\"/></svg>',\n    'date': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"/></svg>',\n    'boolean': '<svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/></svg>'\n  }\n  return icons[type] || icons['string']\n}\n\nfunction getFileType(filename) {\n  const extension = filename.split('.').pop()?.toLowerCase()\n  return extension ? extension.toUpperCase() : 'FILE'\n}\n\nfunction formatFileSize(bytes) {\n  if (bytes === 0) return '0 Bytes'\n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\nfunction formatSampleValue(value) {\n  if (value === null || value === undefined) return 'null'\n  if (typeof value === 'string' && value.length > 15) {\n    return value.substring(0, 15) + '...'\n  }\n  return String(value)\n}\n\nfunction formatPreviewValue(value) {\n  if (value === null || value === undefined) return '-'\n  if (typeof value === 'string' && value.length > 10) {\n    return value.substring(0, 10) + '...'\n  }\n  return String(value)\n}\n\nfunction toggleCollapse() {\n  isCollapsed.value = !isCollapsed.value\n}\n\nfunction closePanel() {\n  emit('close')\n}\n\nfunction onFileChange() {\n  const file = currentFile.value\n  if (file) {\n    emit('file-change', file)\n    loadPreviewData(file)\n  }\n}\n\nfunction loadPreviewData(file) {\n  // 从文件中加载预览数据\n  if (file.previewData) {\n    previewData.value = file.previewData.slice(0, 10)\n  }\n}\n\n// 拖拽相关\nlet dragOffset = { x: 0, y: 0 }\nlet isMouseDown = false\n\nfunction handleMouseDown(event) {\n  if (event.target.closest('.panel-header')) return\n  isMouseDown = true\n}\n\nfunction startDrag(event) {\n  isDragging.value = true\n  dragOffset.x = event.clientX - position.value.x\n  dragOffset.y = event.clientY - position.value.y\n  \n  document.addEventListener('mousemove', handleMouseMove)\n  document.addEventListener('mouseup', handleMouseUp)\n}\n\nfunction handleMouseMove(event) {\n  if (!isDragging.value) return\n  \n  position.value.x = event.clientX - dragOffset.x\n  position.value.y = event.clientY - dragOffset.y\n  \n  // 限制在视口内\n  const rect = panelRef.value?.getBoundingClientRect()\n  if (rect) {\n    position.value.x = Math.max(0, Math.min(window.innerWidth - rect.width, position.value.x))\n    position.value.y = Math.max(0, Math.min(window.innerHeight - rect.height, position.value.y))\n  }\n}\n\nfunction handleMouseUp() {\n  isDragging.value = false\n  isMouseDown = false\n  \n  document.removeEventListener('mousemove', handleMouseMove)\n  document.removeEventListener('mouseup', handleMouseUp)\n}\n\n// 列拖拽\nfunction handleDragStart(column, event) {\n  draggingColumn.value = column.name\n  const dragData = createDragData(column, currentFile.value)\n  globalDragHandler.startDrag(dragData, event)\n}\n\nfunction handleDragEnd() {\n  draggingColumn.value = null\n  globalDragHandler.endDrag()\n}\n\n// 生命周期\nwatch(() => props.files, (newFiles) => {\n  if (newFiles.length > 0 && !selectedFileId.value) {\n    selectedFileId.value = newFiles[0].id\n  }\n}, { immediate: true })\n\nwatch(() => selectedFileId.value, (newId) => {\n  if (newId) {\n    const file = props.files.find(f => f.id === newId)\n    if (file) {\n      loadPreviewData(file)\n    }\n  }\n}, { immediate: true })\n\nonMounted(() => {\n  // 初始化位置\n  if (props.files.length > 0) {\n    selectedFileId.value = props.files[0].id\n    loadPreviewData(props.files[0])\n  }\n})\n\nonUnmounted(() => {\n  document.removeEventListener('mousemove', handleMouseMove)\n  document.removeEventListener('mouseup', handleMouseUp)\n})\n</script>\n\n<style scoped>\n.file-structure-panel {\n  position: fixed;\n  width: 320px;\n  max-height: 80vh;\n  background: var(--bg-color, #fff);\n  border: 1px solid var(--border-color, #e0e0e0);\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(8px);\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.file-structure-panel.is-dragging {\n  cursor: grabbing;\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);\n}\n\n.panel-header {\n  padding: 12px 16px;\n  background: var(--header-bg, #f8f9fa);\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: grab;\n  flex-shrink: 0;\n}\n\n.panel-header:active {\n  cursor: grabbing;\n}\n\n.panel-title {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 600;\n  color: var(--text-color, #333);\n}\n\n.panel-icon {\n  color: var(--primary-color, #5470c6);\n}\n\n.panel-controls {\n  display: flex;\n  gap: 4px;\n}\n\n.panel-control-btn {\n  width: 28px;\n  height: 28px;\n  border: none;\n  background: transparent;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.2s;\n}\n\n.panel-control-btn:hover {\n  background: var(--hover-bg, rgba(0, 0, 0, 0.05));\n}\n\n.panel-control-btn.close-btn:hover {\n  background: #ff4757;\n  color: white;\n}\n\n.panel-content {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.file-selector {\n  padding: 12px 16px;\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n  flex-shrink: 0;\n}\n\n.file-select {\n  width: 100%;\n  padding: 8px 12px;\n  border: 1px solid var(--border-color, #e0e0e0);\n  border-radius: 4px;\n  background: var(--bg-color, #fff);\n  color: var(--text-color, #333);\n  font-size: 13px;\n}\n\n.file-info {\n  padding: 8px 16px;\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n  flex-shrink: 0;\n}\n\n.file-meta {\n  display: flex;\n  gap: 12px;\n  font-size: 12px;\n  color: var(--text-secondary, #666);\n}\n\n.file-type {\n  background: var(--primary-color, #5470c6);\n  color: white;\n  padding: 2px 6px;\n  border-radius: 3px;\n  font-weight: 500;\n}\n\n.search-box {\n  padding: 12px 16px;\n  position: relative;\n  flex-shrink: 0;\n}\n\n.search-input {\n  width: 100%;\n  padding: 8px 12px 8px 36px;\n  border: 1px solid var(--border-color, #e0e0e0);\n  border-radius: 4px;\n  background: var(--bg-color, #fff);\n  color: var(--text-color, #333);\n  font-size: 13px;\n}\n\n.search-icon {\n  position: absolute;\n  left: 28px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--text-secondary, #666);\n}\n\n.columns-list {\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.columns-header {\n  padding: 8px 16px;\n  background: var(--header-bg, #f8f9fa);\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  color: var(--text-color, #333);\n  flex-shrink: 0;\n}\n\n.columns-count {\n  color: var(--text-secondary, #666);\n  font-weight: normal;\n}\n\n.columns-container {\n  flex: 1;\n  overflow-y: auto;\n  padding: 8px 0;\n}\n\n.column-item {\n  padding: 8px 16px;\n  margin: 0 8px 4px;\n  border-radius: 4px;\n  cursor: grab;\n  transition: all 0.2s;\n  background: var(--bg-color, #fff);\n  border: 1px solid transparent;\n}\n\n.column-item:hover {\n  background: var(--hover-bg, rgba(0, 0, 0, 0.02));\n  border-color: var(--primary-color, #5470c6);\n}\n\n.column-item.is-dragging {\n  cursor: grabbing;\n  opacity: 0.7;\n  transform: scale(0.98);\n}\n\n.column-header {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-bottom: 4px;\n}\n\n.column-icon {\n  color: var(--primary-color, #5470c6);\n  flex-shrink: 0;\n}\n\n.column-name {\n  font-weight: 600;\n  color: var(--text-color, #333);\n  flex: 1;\n  font-size: 13px;\n}\n\n.column-type {\n  font-size: 11px;\n  color: var(--text-secondary, #666);\n  background: var(--bg-secondary, #f0f0f0);\n  padding: 2px 6px;\n  border-radius: 3px;\n  text-transform: uppercase;\n  font-weight: 500;\n}\n\n.column-samples {\n  font-size: 11px;\n  color: var(--text-secondary, #666);\n  margin-top: 4px;\n}\n\n.sample-label {\n  font-weight: 500;\n  margin-bottom: 2px;\n}\n\n.sample-values {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n}\n\n.sample-value {\n  background: var(--bg-secondary, #f0f0f0);\n  padding: 1px 4px;\n  border-radius: 2px;\n  font-family: monospace;\n}\n\n.sample-more {\n  color: var(--text-secondary, #999);\n  font-style: italic;\n}\n\n.column-stats {\n  display: flex;\n  gap: 8px;\n  margin-top: 4px;\n  font-size: 11px;\n}\n\n.stat-item {\n  display: flex;\n  gap: 2px;\n}\n\n.stat-label {\n  color: var(--text-secondary, #666);\n}\n\n.stat-value {\n  font-weight: 600;\n  color: var(--text-color, #333);\n}\n\n.data-preview {\n  border-top: 1px solid var(--border-color, #e0e0e0);\n  flex-shrink: 0;\n}\n\n.preview-header {\n  padding: 8px 16px;\n  background: var(--header-bg, #f8f9fa);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  color: var(--text-color, #333);\n}\n\n.preview-count {\n  color: var(--text-secondary, #666);\n  font-weight: normal;\n}\n\n.preview-table {\n  padding: 8px 16px;\n  overflow-x: auto;\n}\n\n.preview-table table {\n  width: 100%;\n  border-collapse: collapse;\n  font-size: 11px;\n}\n\n.preview-table th,\n.preview-table td {\n  padding: 4px 6px;\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n  text-align: left;\n}\n\n.preview-table th {\n  background: var(--header-bg, #f8f9fa);\n  font-weight: 600;\n  color: var(--text-color, #333);\n}\n\n.preview-table td {\n  color: var(--text-secondary, #666);\n  font-family: monospace;\n}\n\n/* 滚动条样式 */\n.columns-container::-webkit-scrollbar,\n.preview-table::-webkit-scrollbar {\n  width: 4px;\n}\n\n.columns-container::-webkit-scrollbar-track,\n.preview-table::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.columns-container::-webkit-scrollbar-thumb,\n.preview-table::-webkit-scrollbar-thumb {\n  background: var(--border-color, #e0e0e0);\n  border-radius: 2px;\n}\n\n.columns-container::-webkit-scrollbar-thumb:hover,\n.preview-table::-webkit-scrollbar-thumb:hover {\n  background: var(--text-secondary, #666);\n}\n\n/* 暗黑模式 */\n@media (prefers-color-scheme: dark) {\n  .file-structure-panel {\n    --bg-color: #1a1a1a;\n    --header-bg: #2d2d2d;\n    --border-color: #404040;\n    --text-color: #e0e0e0;\n    --text-secondary: #b0b0b0;\n    --hover-bg: rgba(255, 255, 255, 0.05);\n    --bg-secondary: #2d2d2d;\n    --primary-color: #6366f1;\n  }\n}</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}