{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\n/* eslint-disable */\n\n// 关系图生成器\nexport default function graphOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n  const {\n    nodes,\n    edges\n  } = seriesData;\n  // 兼容无category字段\n  let categories = Array.from(new Set(nodes.map(node => node.category))).filter(Boolean);\n  if (categories.length === 0) {\n    categories = ['Default'];\n    // 给所有节点补上默认分组\n    nodes.forEach(n => {\n      n.category = 'Default';\n    });\n  }\n\n  // 自动映射节点大小\n  const values = nodes.map(n => typeof n.value === 'number' ? n.value : 0);\n  const minValue = Math.min(...values);\n  const maxValue = Math.max(...values);\n  // 映射到 3~48 像素区间\n  const getSymbolSize = v => {\n    if (maxValue === minValue) return 15;\n    return 3 + 40 * ((v - minValue) / (maxValue - minValue));\n  };\n  const sizedNodes = nodes.map(n => ({\n    ...n,\n    symbolSize: getSymbolSize(n.value)\n  }));\n  return {\n    tooltip: {\n      show: true,\n      formatter: function (params) {\n        if (params.dataType === 'node') {\n          console.log('Node hovered:', params.dataType);\n          return params.data.name || params.data.id;\n        } else if (params.dataType === 'edge') {\n          console.log('Edge hovered:', params.dataType);\n          return `${params.data.source} → ${params.data.target}` + (params.data.weight ? ` (Weight: ${params.data.weight})` : '');\n        }\n        return '';\n      }\n    },\n    toolbox: {\n      show: true,\n      feature: {\n        dataZoom: {\n          show: true\n        },\n        saveAsImage: {\n          show: true\n        },\n        restore: {\n          show: true\n        },\n        dataView: {\n          show: true,\n          readOnly: false\n        },\n        magicType: {\n          show: true,\n          type: ['force', 'chord', 'none']\n        }\n      }\n    },\n    legend: {\n      type: 'scroll',\n      data: categories,\n      show: config.legendVisible !== false,\n      top: config.legendPosition || 'bottom'\n    },\n    series: [{\n      type: 'graph',\n      layout: 'circular',\n      // none, circular, force\n      roam: true,\n      data: sizedNodes,\n      links: edges,\n      categories: categories.map(cat => ({\n        name: cat\n      })),\n      label: {\n        show: true,\n        position: 'right',\n        formatter: '{b}'\n      },\n      force: {\n        repulsion: 200,\n        edgeLength: 100\n      },\n      lineStyle: {\n        color: 'source',\n        curveness: 0.3\n      },\n      edgeLabel: {\n        show: false\n      },\n      emphasis: {\n        focus: 'adjacency'\n      }\n    }],\n    ...customOption\n  };\n}","map":{"version":3,"names":["graphOption","config","fileDataMap","xData","yDataArr","selectedChartType","seriesData","customOption","nodes","edges","categories","Array","from","Set","map","node","category","filter","Boolean","length","forEach","n","values","value","minValue","Math","min","maxValue","max","getSymbolSize","v","sizedNodes","symbolSize","tooltip","show","formatter","params","dataType","console","log","data","name","id","source","target","weight","toolbox","feature","dataZoom","saveAsImage","restore","dataView","readOnly","magicType","type","legend","legendVisible","top","legendPosition","series","layout","roam","links","cat","label","position","force","repulsion","edgeLength","lineStyle","color","curveness","edgeLabel","emphasis","focus"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/assets/JS/chartOptions/graph.js"],"sourcesContent":["/* eslint-disable */\n\n// 关系图生成器\nexport default function graphOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n    const { nodes, edges } = seriesData;\n    // 兼容无category字段\n    let categories = Array.from(new Set(nodes.map(node => node.category))).filter(Boolean);\n    if (categories.length === 0) {\n        categories = ['Default'];\n        // 给所有节点补上默认分组\n        nodes.forEach(n => { n.category = 'Default'; });\n    }\n\n    // 自动映射节点大小\n    const values = nodes.map(n => typeof n.value === 'number' ? n.value : 0);\n    const minValue = Math.min(...values);\n    const maxValue = Math.max(...values);\n    // 映射到 3~48 像素区间\n    const getSymbolSize = v => {\n        if (maxValue === minValue) return 15;\n        return 3 + 40 * ((v - minValue) / (maxValue - minValue));\n    };\n    const sizedNodes = nodes.map(n => ({ ...n, symbolSize: getSymbolSize(n.value) }));\n\n    return {\n        tooltip: {\n            show: true,\n            formatter: function (params) {\n                if (params.dataType === 'node') {\n                    console.log('Node hovered:', params.dataType);\n                    return params.data.name || params.data.id;\n                } else if (params.dataType === 'edge') {\n                    console.log('Edge hovered:', params.dataType);\n                    return `${params.data.source} → ${params.data.target}` + (params.data.weight ? ` (Weight: ${params.data.weight})` : '');\n                }\n                return '';\n            }\n        },\n        toolbox: {\n            show: true,\n            feature: {\n                dataZoom: { show: true },\n                saveAsImage: { show: true },\n                restore: { show: true },\n                dataView: { show: true, readOnly: false },\n                magicType: {\n                    show: true,\n                    type: ['force', 'chord', 'none']\n                }\n            }\n        },\n        legend: {\n            type: 'scroll',\n            data: categories,\n            show: config.legendVisible !== false,\n            top: config.legendPosition || 'bottom',\n        },\n        series: [\n            {\n                type: 'graph',\n                layout: 'circular', // none, circular, force\n                roam: true,\n                data: sizedNodes,\n                links: edges,\n                categories: categories.map(cat => ({ name: cat })),\n                label: {\n                    show: true,\n                    position: 'right',\n                    formatter: '{b}'\n                },\n                force: {\n                    repulsion: 200,\n                    edgeLength: 100\n                },\n                lineStyle: {\n                    color: 'source',\n                    curveness: 0.3,\n                },\n                edgeLabel: {\n                    show: false\n                },\n                emphasis: {\n                    focus: 'adjacency'\n                },\n            }\n        ],\n        ...customOption,\n    };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}