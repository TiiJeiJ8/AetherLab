{"ast":null,"code":"export default {\n  __name: 'AnimateIcon',\n  props: {\n    iconList: {\n      type: Array,\n      required: true\n    },\n    interval: {\n      type: Number,\n      default: 3500\n    },\n    // 每个图标显示时长ms\n    fade: {\n      type: Number,\n      default: 400\n    } // 淡入淡出时长ms\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const iconIndex = ref(0);\n    const iconOpacity = ref(1);\n    let iconTimer = null;\n    let fadeTimer = null;\n    const fadeDuration = computed(() => props.fade);\n    const currentIcon = computed(() => {\n      const icon = props.iconList[iconIndex.value];\n      return icon && typeof icon === 'object' ? icon : null;\n    });\n    function startIconLoop() {\n      clearInterval(iconTimer);\n      clearTimeout(fadeTimer);\n      iconOpacity.value = 1;\n      iconTimer = setInterval(() => {\n        iconOpacity.value = 0;\n        fadeTimer = setTimeout(() => {\n          iconIndex.value = (iconIndex.value + 1) % props.iconList.length;\n          iconOpacity.value = 1;\n        }, props.fade);\n      }, props.interval);\n    }\n    onMounted(() => {\n      startIconLoop();\n    });\n    onBeforeUnmount(() => {\n      clearInterval(iconTimer);\n      clearTimeout(fadeTimer);\n    });\n\n    // 支持外部 iconList 变更时重置轮播\n    watch(() => props.iconList, () => {\n      iconIndex.value = 0;\n      startIconLoop();\n    });\n    const __returned__ = {\n      props,\n      iconIndex,\n      iconOpacity,\n      get iconTimer() {\n        return iconTimer;\n      },\n      set iconTimer(v) {\n        iconTimer = v;\n      },\n      get fadeTimer() {\n        return fadeTimer;\n      },\n      set fadeTimer(v) {\n        fadeTimer = v;\n      },\n      fadeDuration,\n      currentIcon,\n      startIconLoop\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["props","__props","iconIndex","ref","iconOpacity","iconTimer","fadeTimer","fadeDuration","computed","fade","currentIcon","icon","iconList","value","startIconLoop","clearInterval","clearTimeout","setInterval","setTimeout","length","interval","onMounted","onBeforeUnmount","watch"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/components/Common/AnimateIcon.vue"],"sourcesContent":["\n<template>\n  <component\n    v-if=\"currentIcon\"\n    :is=\"currentIcon\"\n    class=\"animate-icon-svg\"\n    :style=\"{ opacity: iconOpacity, transition: `opacity ${fadeDuration}ms cubic-bezier(.4,1.6,.6,1)` }\"\n  />\n</template>\n\n<script setup>\n\n\nconst props = defineProps({\n  iconList: { type: Array, required: true },\n  interval: { type: Number, default: 3500 }, // 每个图标显示时长ms\n  fade: { type: Number, default: 400 } // 淡入淡出时长ms\n})\n\nconst iconIndex = ref(0)\nconst iconOpacity = ref(1)\nlet iconTimer = null\nlet fadeTimer = null\n\nconst fadeDuration = computed(() => props.fade)\nconst currentIcon = computed(() => {\n  const icon = props.iconList[iconIndex.value]\n  return icon && typeof icon === 'object' ? icon : null\n})\n\nfunction startIconLoop () {\n  clearInterval(iconTimer)\n  clearTimeout(fadeTimer)\n  iconOpacity.value = 1\n  iconTimer = setInterval(() => {\n    iconOpacity.value = 0\n    fadeTimer = setTimeout(() => {\n      iconIndex.value = (iconIndex.value + 1) % props.iconList.length\n      iconOpacity.value = 1\n    }, props.fade)\n  }, props.interval)\n}\n\nonMounted(() => {\n  startIconLoop()\n})\nonBeforeUnmount(() => {\n  clearInterval(iconTimer)\n  clearTimeout(fadeTimer)\n})\n\n// 支持外部 iconList 变更时重置轮播\nwatch(() => props.iconList, () => {\n  iconIndex.value = 0\n  startIconLoop()\n})\n</script>\n\n<style scoped>\n.animate-icon-svg {\n  margin-bottom: 15px;\n  opacity: 0.92;\n  animation: floatX 3.2s ease-in-out infinite;\n  will-change: transform;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n@keyframes floatX {\n  0% { transform: translateY(0) translateX(0); }\n  25% { transform: translateY(-8px) translateX(4px); }\n  50% { transform: translateY(-12px) translateX(-4px); }\n  75% { transform: translateY(-8px) translateX(4px); }\n  100% { transform: translateY(0) translateX(0); }\n}\n</style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAaA,MAAMA,KAAK,GAAGC,OAAA;IAMd,MAAMC,SAAS,GAAGC,GAAG,CAAC,CAAC;IACvB,MAAMC,WAAW,GAAGD,GAAG,CAAC,CAAC;IACzB,IAAIE,SAAS,GAAG,IAAG;IACnB,IAAIC,SAAS,GAAG,IAAG;IAEnB,MAAMC,YAAY,GAAGC,QAAQ,CAAC,MAAMR,KAAK,CAACS,IAAI;IAC9C,MAAMC,WAAW,GAAGF,QAAQ,CAAC,MAAM;MACjC,MAAMG,IAAI,GAAGX,KAAK,CAACY,QAAQ,CAACV,SAAS,CAACW,KAAK;MAC3C,OAAOF,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,GAAGA,IAAI,GAAG,IAAG;IACtD,CAAC;IAED,SAASG,aAAaA,CAAA,EAAI;MACxBC,aAAa,CAACV,SAAS;MACvBW,YAAY,CAACV,SAAS;MACtBF,WAAW,CAACS,KAAK,GAAG;MACpBR,SAAS,GAAGY,WAAW,CAAC,MAAM;QAC5Bb,WAAW,CAACS,KAAK,GAAG;QACpBP,SAAS,GAAGY,UAAU,CAAC,MAAM;UAC3BhB,SAAS,CAACW,KAAK,GAAG,CAACX,SAAS,CAACW,KAAK,GAAG,CAAC,IAAIb,KAAK,CAACY,QAAQ,CAACO,MAAK;UAC9Df,WAAW,CAACS,KAAK,GAAG;QACtB,CAAC,EAAEb,KAAK,CAACS,IAAI;MACf,CAAC,EAAET,KAAK,CAACoB,QAAQ;IACnB;IAEAC,SAAS,CAAC,MAAM;MACdP,aAAa,CAAC;IAChB,CAAC;IACDQ,eAAe,CAAC,MAAM;MACpBP,aAAa,CAACV,SAAS;MACvBW,YAAY,CAACV,SAAS;IACxB,CAAC;;IAED;IACAiB,KAAK,CAAC,MAAMvB,KAAK,CAACY,QAAQ,EAAE,MAAM;MAChCV,SAAS,CAACW,KAAK,GAAG;MAClBC,aAAa,CAAC;IAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}