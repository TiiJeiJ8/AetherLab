{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, unref as _unref, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"chart-mapping-panel\"\n};\nconst _hoisted_2 = {\n  class: \"mapping-guide\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"mapping-summary\"\n};\nconst _hoisted_4 = {\n  class: \"mapped-fields-list\"\n};\nconst _hoisted_5 = {\n  class: \"field-role\"\n};\nconst _hoisted_6 = {\n  class: \"field-name\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"innerHTML\"];\nimport { computed } from 'vue';\nimport { getThemeIcon } from '@/assets/JS/icons.js';\nimport ChartMappingBar from './ChartMappingBar.vue';\nimport ChartMappingLine from './ChartMappingLine.vue';\nimport ChartMappingPie from './ChartMappingPie.vue';\nimport ChartMappingScatter from './ChartMappingScatter.vue';\nimport ChartMappingBasic from './ChartMappingBasic.vue';\n\n// Props\n\nexport default {\n  __name: 'ChartMappingPanel',\n  props: {\n    chartType: {\n      type: String,\n      required: true\n    },\n    mappedFields: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: ['field-mapped', 'field-removed'],\n  setup(__props, {\n    emit: __emit\n  }) {\n    /* eslint-disable */\n    const props = __props;\n\n    // Emits\n    const emit = __emit;\n\n    // 获取图表类型标签\n    function getChartTypeLabel(type) {\n      const labels = {\n        'bar': 'Bar Chart',\n        'line': 'Line Chart',\n        'pie': 'Pie Chart',\n        'scatter': 'Scatter Plot',\n        'area': 'Area Chart',\n        'radar': 'Radar Chart',\n        'funnel': 'Funnel Chart'\n      };\n      return labels[type] || type;\n    }\n\n    // 获取映射指导信息\n    function getMappingInstructions(type) {\n      const instructions = {\n        'bar': 'Drag categories to X-axis and numeric values to Y-axis for comparison.',\n        'line': 'Drag time/sequence data to X-axis and values to Y-axis for trends.',\n        'pie': 'Drag categories and their corresponding values to create proportional segments.',\n        'scatter': 'Drag two numeric variables to X and Y axes to show correlations.',\n        'area': 'Similar to line chart, drag data to show values over time with filled areas.',\n        'radar': 'Drag multiple metrics to create a multi-dimensional comparison.'\n      };\n      return instructions[type] || 'Drag data fields to appropriate chart areas.';\n    }\n\n    // 获取对应的映射组件\n    function getMappingComponent(type) {\n      const components = {\n        'bar': ChartMappingBar,\n        'line': ChartMappingLine,\n        'pie': ChartMappingPie,\n        'scatter': ChartMappingScatter,\n        'area': ChartMappingLine,\n        // Area chart uses same mapping as line\n        'radar': ChartMappingBasic,\n        'funnel': ChartMappingBasic\n      };\n      return components[type] || ChartMappingBasic;\n    }\n\n    // 格式化字段角色显示\n    function formatFieldRole(role) {\n      const roleLabels = {\n        'xAxis': 'X-Axis',\n        'yAxis': 'Y-Axis',\n        'category': 'Category',\n        'value': 'Value',\n        'series': 'Series',\n        'size': 'Size',\n        'color': 'Color'\n      };\n      return roleLabels[role] || role;\n    }\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h4\", null, \"Data Mapping for \" + _toDisplayString(getChartTypeLabel(__props.chartType)), 1), _createElementVNode(\"p\", null, _toDisplayString(getMappingInstructions(__props.chartType)), 1)]), (_openBlock(), _createBlock(_resolveDynamicComponent(getMappingComponent(__props.chartType)), {\n        mappedFields: __props.mappedFields,\n        onFieldMapped: _cache[0] || (_cache[0] = $event => _ctx.$emit('field-mapped', $event)),\n        onFieldRemoved: _cache[1] || (_cache[1] = $event => _ctx.$emit('field-removed', $event))\n      }, null, 40, [\"mappedFields\"])), Object.keys(__props.mappedFields).length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[2] || (_cache[2] = _createElementVNode(\"h5\", null, \"Current Mappings\", -1)), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.mappedFields, (field, key) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          key: key,\n          class: \"mapped-field-item\"\n        }, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString(formatFieldRole(key)) + \":\", 1), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(field.name), 1), _createElementVNode(\"span\", {\n          class: _normalizeClass([\"field-type\", `type-${field.type}`])\n        }, _toDisplayString(field.type), 3), _createElementVNode(\"button\", {\n          class: \"remove-field-btn\",\n          onClick: $event => _ctx.$emit('field-removed', key),\n          title: \"Remove field\"\n        }, [_createElementVNode(\"span\", {\n          innerHTML: _unref(getThemeIcon)('remove')\n        }, null, 8, _hoisted_8)], 8, _hoisted_7)]);\n      }), 128))])])) : _createCommentVNode(\"\", true)]);\n    };\n  }\n};","map":{"version":3,"names":["computed","getThemeIcon","ChartMappingBar","ChartMappingLine","ChartMappingPie","ChartMappingScatter","ChartMappingBasic","props","__props","emit","__emit","getChartTypeLabel","type","labels","getMappingInstructions","instructions","getMappingComponent","components","formatFieldRole","role","roleLabels"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/chart-mappings/ChartMappingPanel.vue"],"sourcesContent":["<template>\n  <div class=\"chart-mapping-panel\">\n    <!-- 映射指导信息 -->\n    <div class=\"mapping-guide\">\n      <h4>Data Mapping for {{ getChartTypeLabel(chartType) }}</h4>\n      <p>{{ getMappingInstructions(chartType) }}</p>\n    </div>\n\n    <!-- 动态映射组件 -->\n    <component \n      :is=\"getMappingComponent(chartType)\"\n      :mappedFields=\"mappedFields\"\n      @field-mapped=\"$emit('field-mapped', $event)\"\n      @field-removed=\"$emit('field-removed', $event)\"\n    />\n\n    <!-- 映射状态总览 -->\n    <div class=\"mapping-summary\" v-if=\"Object.keys(mappedFields).length > 0\">\n      <h5>Current Mappings</h5>\n      <div class=\"mapped-fields-list\">\n        <div \n          v-for=\"(field, key) in mappedFields\" \n          :key=\"key\"\n          class=\"mapped-field-item\">\n          <span class=\"field-role\">{{ formatFieldRole(key) }}:</span>\n          <span class=\"field-name\">{{ field.name }}</span>\n          <span class=\"field-type\" :class=\"`type-${field.type}`\">{{ field.type }}</span>\n          <button \n            class=\"remove-field-btn\"\n            @click=\"$emit('field-removed', key)\"\n            title=\"Remove field\">\n            <span v-html=\"getThemeIcon('remove')\"></span>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { computed } from 'vue'\nimport { getThemeIcon } from '@/assets/JS/icons.js'\nimport ChartMappingBar from './ChartMappingBar.vue'\nimport ChartMappingLine from './ChartMappingLine.vue'\nimport ChartMappingPie from './ChartMappingPie.vue'\nimport ChartMappingScatter from './ChartMappingScatter.vue'\nimport ChartMappingBasic from './ChartMappingBasic.vue'\n\n// Props\nconst props = defineProps({\n  chartType: {\n    type: String,\n    required: true\n  },\n  mappedFields: {\n    type: Object,\n    default: () => ({})\n  }\n})\n\n// Emits\nconst emit = defineEmits(['field-mapped', 'field-removed'])\n\n// 获取图表类型标签\nfunction getChartTypeLabel(type) {\n  const labels = {\n    'bar': 'Bar Chart',\n    'line': 'Line Chart',\n    'pie': 'Pie Chart', \n    'scatter': 'Scatter Plot',\n    'area': 'Area Chart',\n    'radar': 'Radar Chart',\n    'funnel': 'Funnel Chart'\n  }\n  return labels[type] || type\n}\n\n// 获取映射指导信息\nfunction getMappingInstructions(type) {\n  const instructions = {\n    'bar': 'Drag categories to X-axis and numeric values to Y-axis for comparison.',\n    'line': 'Drag time/sequence data to X-axis and values to Y-axis for trends.',\n    'pie': 'Drag categories and their corresponding values to create proportional segments.',\n    'scatter': 'Drag two numeric variables to X and Y axes to show correlations.',\n    'area': 'Similar to line chart, drag data to show values over time with filled areas.',\n    'radar': 'Drag multiple metrics to create a multi-dimensional comparison.'\n  }\n  return instructions[type] || 'Drag data fields to appropriate chart areas.'\n}\n\n// 获取对应的映射组件\nfunction getMappingComponent(type) {\n  const components = {\n    'bar': ChartMappingBar,\n    'line': ChartMappingLine,\n    'pie': ChartMappingPie,\n    'scatter': ChartMappingScatter,\n    'area': ChartMappingLine, // Area chart uses same mapping as line\n    'radar': ChartMappingBasic,\n    'funnel': ChartMappingBasic\n  }\n  return components[type] || ChartMappingBasic\n}\n\n// 格式化字段角色显示\nfunction formatFieldRole(role) {\n  const roleLabels = {\n    'xAxis': 'X-Axis',\n    'yAxis': 'Y-Axis',\n    'category': 'Category',\n    'value': 'Value',\n    'series': 'Series',\n    'size': 'Size',\n    'color': 'Color'\n  }\n  return roleLabels[role] || role\n}\n</script>\n\n<style scoped>\n.chart-mapping-panel {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n/* 映射指导信息 */\n.mapping-guide {\n  padding: 16px;\n  background: rgba(59, 130, 246, 0.05);\n  border: 1px solid rgba(59, 130, 246, 0.1);\n  border-radius: 8px;\n  border-left: 4px solid #3b82f6;\n}\n\n[data-theme=\"dark\"] .mapping-guide {\n  background: rgba(59, 130, 246, 0.1);\n  border: 1px solid rgba(59, 130, 246, 0.2);\n}\n\n.mapping-guide h4 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: #3b82f6;\n}\n\n.mapping-guide p {\n  margin: 0;\n  font-size: 13px;\n  color: var(--text-secondary);\n  line-height: 1.4;\n}\n\n/* 映射状态总览 */\n.mapping-summary {\n  margin-top: auto;\n  padding: 16px;\n  background: rgba(0, 0, 0, 0.02);\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  border-radius: 8px;\n}\n\n[data-theme=\"dark\"] .mapping-summary {\n  background: rgba(255, 255, 255, 0.02);\n  border: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n.mapping-summary h5 {\n  margin: 0 0 12px 0;\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.mapped-fields-list {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.mapped-field-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background: rgba(255, 255, 255, 0.6);\n  border: 1px solid rgba(0, 0, 0, 0.06);\n  border-radius: 6px;\n  font-size: 12px;\n}\n\n[data-theme=\"dark\"] .mapped-field-item {\n  background: rgba(55, 65, 81, 0.6);\n  border: 1px solid rgba(255, 255, 255, 0.06);\n}\n\n.field-role {\n  font-weight: 600;\n  color: var(--text-secondary);\n  min-width: 60px;\n}\n\n.field-name {\n  flex: 1;\n  font-weight: 500;\n  color: var(--text-color);\n}\n\n.field-type {\n  font-size: 10px;\n  font-weight: 500;\n  padding: 2px 6px;\n  border-radius: 3px;\n  text-transform: uppercase;\n  letter-spacing: 0.3px;\n}\n\n/* 字段类型样式 */\n.type-string {\n  background: rgba(34, 197, 94, 0.15);\n  color: #059669;\n}\n\n.type-number,\n.type-integer {\n  background: rgba(59, 130, 246, 0.15);\n  color: #1d4ed8;\n}\n\n.type-category {\n  background: rgba(236, 72, 153, 0.15);\n  color: #be185d;\n}\n\n.type-boolean {\n  background: rgba(139, 92, 246, 0.15);\n  color: #7c3aed;\n}\n\n.type-date {\n  background: rgba(245, 158, 11, 0.15);\n  color: #d97706;\n}\n\n[data-theme=\"dark\"] .type-string {\n  background: rgba(34, 197, 94, 0.25);\n  color: #22c55e;\n}\n\n[data-theme=\"dark\"] .type-number,\n[data-theme=\"dark\"] .type-integer {\n  background: rgba(59, 130, 246, 0.25);\n  color: #60a5fa;\n}\n\n[data-theme=\"dark\"] .type-category {\n  background: rgba(236, 72, 153, 0.25);\n  color: #f472b6;\n}\n\n[data-theme=\"dark\"] .type-boolean {\n  background: rgba(139, 92, 246, 0.25);\n  color: #a78bfa;\n}\n\n[data-theme=\"dark\"] .type-date {\n  background: rgba(245, 158, 11, 0.25);\n  color: #fbbf24;\n}\n\n.remove-field-btn {\n  background: none;\n  border: none;\n  padding: 4px;\n  border-radius: 3px;\n  cursor: pointer;\n  color: var(--text-secondary);\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.remove-field-btn:hover {\n  background: rgba(239, 68, 68, 0.1);\n  color: #ef4444;\n}\n\n.remove-field-btn svg {\n  width: 12px;\n  height: 12px;\n}\n\n/* 响应式适配 */\n@media (max-width: 768px) {\n  .chart-mapping-panel {\n    gap: 16px;\n  }\n  \n  .mapping-guide {\n    padding: 12px;\n  }\n  \n  .mapping-summary {\n    padding: 12px;\n  }\n  \n  .mapped-field-item {\n    padding: 6px 8px;\n    font-size: 11px;\n  }\n  \n  .field-role {\n    min-width: 50px;\n  }\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAyCA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,YAAY,QAAQ,sBAAqB;AAClD,OAAOC,eAAe,MAAM,uBAAsB;AAClD,OAAOC,gBAAgB,MAAM,wBAAuB;AACpD,OAAOC,eAAe,MAAM,uBAAsB;AAClD,OAAOC,mBAAmB,MAAM,2BAA0B;AAC1D,OAAOC,iBAAiB,MAAM,yBAAwB;;AAEtD;;;;;;;;;;;;;;;;;;IATA;IAUA,MAAMC,KAAK,GAAGC,OAAA;;IAWd;IACA,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,SAASC,iBAAiBA,CAACC,IAAI,EAAE;MAC/B,MAAMC,MAAM,GAAG;QACb,KAAK,EAAE,WAAW;QAClB,MAAM,EAAE,YAAY;QACpB,KAAK,EAAE,WAAW;QAClB,SAAS,EAAE,cAAc;QACzB,MAAM,EAAE,YAAY;QACpB,OAAO,EAAE,aAAa;QACtB,QAAQ,EAAE;MACZ;MACA,OAAOA,MAAM,CAACD,IAAI,CAAC,IAAIA,IAAG;IAC5B;;IAEA;IACA,SAASE,sBAAsBA,CAACF,IAAI,EAAE;MACpC,MAAMG,YAAY,GAAG;QACnB,KAAK,EAAE,wEAAwE;QAC/E,MAAM,EAAE,oEAAoE;QAC5E,KAAK,EAAE,iFAAiF;QACxF,SAAS,EAAE,kEAAkE;QAC7E,MAAM,EAAE,8EAA8E;QACtF,OAAO,EAAE;MACX;MACA,OAAOA,YAAY,CAACH,IAAI,CAAC,IAAI,8CAA6C;IAC5E;;IAEA;IACA,SAASI,mBAAmBA,CAACJ,IAAI,EAAE;MACjC,MAAMK,UAAU,GAAG;QACjB,KAAK,EAAEf,eAAe;QACtB,MAAM,EAAEC,gBAAgB;QACxB,KAAK,EAAEC,eAAe;QACtB,SAAS,EAAEC,mBAAmB;QAC9B,MAAM,EAAEF,gBAAgB;QAAE;QAC1B,OAAO,EAAEG,iBAAiB;QAC1B,QAAQ,EAAEA;MACZ;MACA,OAAOW,UAAU,CAACL,IAAI,CAAC,IAAIN,iBAAgB;IAC7C;;IAEA;IACA,SAASY,eAAeA,CAACC,IAAI,EAAE;MAC7B,MAAMC,UAAU,GAAG;QACjB,OAAO,EAAE,QAAQ;QACjB,OAAO,EAAE,QAAQ;QACjB,UAAU,EAAE,UAAU;QACtB,OAAO,EAAE,OAAO;QAChB,QAAQ,EAAE,QAAQ;QAClB,MAAM,EAAE,MAAM;QACd,OAAO,EAAE;MACX;MACA,OAAOA,UAAU,CAACD,IAAI,CAAC,IAAIA,IAAG;IAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}