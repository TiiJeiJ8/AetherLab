{"ast":null,"code":"import { ref, watch, computed } from 'vue';\nimport { onUnmounted } from 'vue';\nexport default {\n  __name: 'SideBar',\n  props: {\n    position: {\n      type: String,\n      default: 'left',\n      // 'left' 或 'right'\n      validator: v => ['left', 'right'].includes(v)\n    },\n    collapsedWidth: {\n      type: Number,\n      default: 40 // 折叠状态宽度，单位 px\n    },\n    expandedWidth: {\n      type: Number,\n      default: 250 // 展开状态宽度，单位 px\n    },\n    autoCollapseOnMobile: {\n      type: Boolean,\n      default: true // 是否自动在小屏幕折叠\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    /* eslint-disable */\n    const props = __props;\n    const isCollapsed = ref(true); // 默认折叠\n    const isHovered = ref(false);\n\n    // 判断是否是移动端小屏幕，监听窗口尺寸\n    const isMobile = ref(window.innerWidth < 768);\n    function onResize() {\n      isMobile.value = window.innerWidth < 768;\n      if (props.autoCollapseOnMobile && isMobile.value) {\n        isCollapsed.value = true;\n      }\n    }\n    window.addEventListener('resize', onResize);\n\n    // 鼠标悬浮时展开\n    function handleMouseEnter() {\n      isHovered.value = true;\n    }\n    function handleMouseLeave() {\n      isHovered.value = false;\n    }\n    const isExpanded = computed(() => !isCollapsed.value || isHovered.value);\n    function toggleCollapse() {\n      isCollapsed.value = !isCollapsed.value;\n    }\n\n    // 位置类名\n    const positionClass = computed(() => {\n      return props.position === 'left' ? 'sidebar-left' : 'sidebar-right';\n    });\n\n    // 组件卸载时移除事件监听\n    onUnmounted(() => {\n      window.removeEventListener('resize', onResize);\n    });\n    const __returned__ = {\n      props,\n      isCollapsed,\n      isHovered,\n      isMobile,\n      onResize,\n      handleMouseEnter,\n      handleMouseLeave,\n      isExpanded,\n      toggleCollapse,\n      positionClass,\n      ref,\n      watch,\n      computed,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","computed","onUnmounted","props","__props","isCollapsed","isHovered","isMobile","window","innerWidth","onResize","value","autoCollapseOnMobile","addEventListener","handleMouseEnter","handleMouseLeave","isExpanded","toggleCollapse","positionClass","position","removeEventListener"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/SideBar.vue"],"sourcesContent":["<template>\n    <aside\n        :class=\"[\n        'sidebar',\n        positionClass,\n        { collapsed: isCollapsed, expanded: isExpanded }\n        ]\"\n        @mouseenter=\"handleMouseEnter\"\n        @mouseleave=\"handleMouseLeave\"\n    >\n        <!-- 点击收缩/展开按钮 -->\n        <button class=\"toggle-btn\" @click=\"toggleCollapse\" aria-label=\"Toggle sidebar\">\n            <span v-if=\"isCollapsed\">▷</span>\n            <span v-else>◀</span>\n        </button>\n\n        <!-- 插槽区域放侧边栏内容 -->\n        <div class=\"sidebar-content\" v-show=\"isExpanded || !isCollapsed\">\n            <slot />\n        </div>\n    </aside>\n</template>\n\n<script setup>\n/* eslint-disable */\n    import { ref, watch, computed } from 'vue'\n\n    const props = defineProps({\n    position: {\n        type: String,\n        default: 'left', // 'left' 或 'right'\n        validator: v => ['left', 'right'].includes(v),\n    },\n    collapsedWidth: {\n        type: Number,\n        default: 40, // 折叠状态宽度，单位 px\n    },\n    expandedWidth: {\n        type: Number,\n        default: 250, // 展开状态宽度，单位 px\n    },\n    autoCollapseOnMobile: {\n        type: Boolean,\n        default: true, // 是否自动在小屏幕折叠\n    },\n    })\n\n    const isCollapsed = ref(true) // 默认折叠\n    const isHovered = ref(false)\n\n    // 判断是否是移动端小屏幕，监听窗口尺寸\n    const isMobile = ref(window.innerWidth < 768)\n    function onResize() {\n        isMobile.value = window.innerWidth < 768\n        if (props.autoCollapseOnMobile && isMobile.value) {\n            isCollapsed.value = true\n        }\n    }\n    window.addEventListener('resize', onResize)\n\n    // 鼠标悬浮时展开\n    function handleMouseEnter() {\n        isHovered.value = true\n    }\n\n    function handleMouseLeave() {\n        isHovered.value = false\n    }\n\n    const isExpanded = computed(() => !isCollapsed.value || isHovered.value)\n\n    function toggleCollapse() {\n        isCollapsed.value = !isCollapsed.value\n    }\n\n    // 位置类名\n    const positionClass = computed(() => {\n        return props.position === 'left' ? 'sidebar-left' : 'sidebar-right'\n    })\n\n    // 组件卸载时移除事件监听\n    import { onUnmounted } from 'vue'\n    onUnmounted(() => {\n        window.removeEventListener('resize', onResize)\n    })\n</script>\n\n<style scoped>\n    .sidebar {\n        position: fixed;\n        top: 100px;\n        bottom: 30px;\n        background-color: var(--bg-color);\n        box-shadow: 0 0 12px rgb(0 0 0 / 0.12);\n        overflow-x: hidden;\n        overflow-y: auto;\n        transition: width 0.3s ease;\n        display: flex;\n        flex-direction: column;\n        z-index: 9998;\n        user-select: none;\n        border-radius: 0 8px 8px 0;\n    }\n\n    /* 左侧右侧位置 */\n    .sidebar-left {\n        left: 0;\n        border-radius: 0 8px 8px 0;\n    }\n\n    .sidebar-right {\n        right: 0;\n        border-radius: 8px 0 0 8px;\n    }\n\n    /* 折叠宽度 */\n    .sidebar.collapsed {\n        width: var(--collapsed-width);\n    }\n\n    /* 展开宽度 */\n    .sidebar.expanded {\n        width: var(--expanded-width);\n    }\n\n    /* CSS变量传入宽度 */\n    :root {\n        --collapsed-width: 40px;\n        --expanded-width: 250px;\n    }\n\n    /* 切换宽度变量，动态替换 */\n    .sidebar {\n        width: var(--collapsed-width);\n    }\n\n    .sidebar.expanded {\n        width: var(--expanded-width);\n    }\n\n    /* 切换按钮 */\n    .toggle-btn {\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        font-size: 1.3rem;\n        padding: 8px;\n        user-select: none;\n        color: var(--text-color);\n        align-self: flex-end;\n        margin: 6px;\n        border-radius: 4px;\n        transition: background-color 0.2s ease;\n    }\n\n    .toggle-btn:hover {\n        background-color: rgba(136, 133, 133, 0.1);\n    }\n\n    /* 侧边栏内容区域 */\n    .sidebar-content {\n        flex: 1;\n        overflow-y: auto;\n        padding: 12px 16px;\n        color: var(--text-color);\n    }\n\n    /* 小屏响应式，自动折叠 */\n    @media (max-width: 767px) {\n        .sidebar {\n            top: 80px; /* 顶部导航高度更小时调整 */\n            width: var(--collapsed-width) !important;\n        }\n    }\n</style>"],"mappings":"AAyBI,SAASA,GAAG,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,KAAI;AAwDzC,SAASC,WAAW,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAzDpC;IAGI,MAAMC,KAAK,GAAGC,OAAA;IAoBd,MAAMC,WAAW,GAAGN,GAAG,CAAC,IAAI,CAAC,EAAC;IAC9B,MAAMO,SAAS,GAAGP,GAAG,CAAC,KAAK;;IAE3B;IACA,MAAMQ,QAAQ,GAAGR,GAAG,CAACS,MAAM,CAACC,UAAU,GAAG,GAAG;IAC5C,SAASC,QAAQA,CAAA,EAAG;MAChBH,QAAQ,CAACI,KAAK,GAAGH,MAAM,CAACC,UAAU,GAAG,GAAE;MACvC,IAAIN,KAAK,CAACS,oBAAoB,IAAIL,QAAQ,CAACI,KAAK,EAAE;QAC9CN,WAAW,CAACM,KAAK,GAAG,IAAG;MAC3B;IACJ;IACAH,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAEH,QAAQ;;IAE1C;IACA,SAASI,gBAAgBA,CAAA,EAAG;MACxBR,SAAS,CAACK,KAAK,GAAG,IAAG;IACzB;IAEA,SAASI,gBAAgBA,CAAA,EAAG;MACxBT,SAAS,CAACK,KAAK,GAAG,KAAI;IAC1B;IAEA,MAAMK,UAAU,GAAGf,QAAQ,CAAC,MAAM,CAACI,WAAW,CAACM,KAAK,IAAIL,SAAS,CAACK,KAAK;IAEvE,SAASM,cAAcA,CAAA,EAAG;MACtBZ,WAAW,CAACM,KAAK,GAAG,CAACN,WAAW,CAACM,KAAI;IACzC;;IAEA;IACA,MAAMO,aAAa,GAAGjB,QAAQ,CAAC,MAAM;MACjC,OAAOE,KAAK,CAACgB,QAAQ,KAAK,MAAM,GAAG,cAAc,GAAG,eAAc;IACtE,CAAC;;IAED;IAEAjB,WAAW,CAAC,MAAM;MACdM,MAAM,CAACY,mBAAmB,CAAC,QAAQ,EAAEV,QAAQ;IACjD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}