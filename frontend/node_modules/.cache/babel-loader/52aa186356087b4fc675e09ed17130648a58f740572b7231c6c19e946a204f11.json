{"ast":null,"code":"import { ref, computed, watch } from 'vue';\n\n// Props\n\nexport default {\n  __name: 'ChartConfigPanel',\n  props: {\n    selectedChartType: {\n      type: String,\n      default: 'bar'\n    },\n    currentFile: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['config-change', 'generate-chart'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n\n    // Emits\n    const emit = __emit;\n\n    // 响应式数据\n    const showAdvanced = ref(false);\n    const showAdvancedConfig = ref(false);\n    const errorMessage = ref('');\n\n    // 拖拽状态\n    const isDragOver = ref({\n      xAxis: false,\n      yAxis: false,\n      series: false\n    });\n    const dragError = ref({\n      xAxis: false,\n      yAxis: false,\n      series: false\n    });\n\n    // 图表配置\n    const chartConfig = ref({\n      xAxis: {\n        field: '',\n        type: ''\n      },\n      yAxis: {\n        field: '',\n        type: ''\n      },\n      series: [],\n      title: '',\n      colorScheme: 'default',\n      animation: true,\n      dataRange: 'all',\n      nullHandling: 'ignore'\n    });\n\n    // 计算属性\n    const isConfigValid = computed(() => {\n      return chartConfig.value.xAxis.field && (chartConfig.value.yAxis.field || chartConfig.value.series.length > 0);\n    });\n\n    // 图表类型映射\n    const chartTypeMap = {\n      bar: {\n        name: '柱状图',\n        icon: '📊'\n      },\n      line: {\n        name: '折线图',\n        icon: '📈'\n      },\n      pie: {\n        name: '饼图',\n        icon: '🥧'\n      },\n      scatter: {\n        name: '散点图',\n        icon: '📍'\n      },\n      area: {\n        name: '面积图',\n        icon: '📊'\n      }\n    };\n\n    // 方法\n    function getChartTypeName(type) {\n      return chartTypeMap[type]?.name || type;\n    }\n    function getChartIcon(type) {\n      return chartTypeMap[type]?.icon || '📊';\n    }\n    function toggleAdvanced() {\n      showAdvanced.value = !showAdvanced.value;\n    }\n    function toggleAdvancedConfig() {\n      showAdvancedConfig.value = !showAdvancedConfig.value;\n    }\n\n    // 拖拽处理\n    function handleDragEnter(target) {\n      isDragOver.value[target] = true;\n      dragError.value[target] = false;\n    }\n    function handleDragLeave(target) {\n      isDragOver.value[target] = false;\n    }\n    function handleDragOver(event, target) {\n      event.preventDefault();\n      isDragOver.value[target] = true;\n    }\n    function handleDrop(event, target) {\n      event.preventDefault();\n      isDragOver.value[target] = false;\n      try {\n        const dragData = JSON.parse(event.dataTransfer.getData('text/plain'));\n        if (dragData.type === 'column') {\n          const column = dragData.column;\n\n          // 验证数据类型是否适合目标区域\n          if (validateColumnForTarget(column, target)) {\n            mapColumnToTarget(column, target);\n            errorMessage.value = '';\n          } else {\n            dragError.value[target] = true;\n            errorMessage.value = `列 \"${column.name}\" 的数据类型不适合 ${getTargetName(target)}`;\n            setTimeout(() => {\n              dragError.value[target] = false;\n              errorMessage.value = '';\n            }, 3000);\n          }\n        }\n      } catch (error) {\n        console.error('Drop failed:', error);\n        errorMessage.value = '拖拽失败，请重试';\n      }\n    }\n    function validateColumnForTarget(column, target) {\n      const columnType = column.type;\n      switch (target) {\n        case 'xAxis':\n          // X轴通常接受类别型数据\n          return ['string', 'category', 'date'].includes(columnType);\n        case 'yAxis':\n          // Y轴通常接受数值型数据\n          return ['number', 'integer'].includes(columnType);\n        case 'series':\n          // 系列数据通常接受数值型数据\n          return ['number', 'integer'].includes(columnType);\n        default:\n          return true;\n      }\n    }\n    function mapColumnToTarget(column, target) {\n      switch (target) {\n        case 'xAxis':\n          chartConfig.value.xAxis = {\n            field: column.name,\n            type: column.type\n          };\n          break;\n        case 'yAxis':\n          chartConfig.value.yAxis = {\n            field: column.name,\n            type: column.type\n          };\n          break;\n        case 'series':\n          // 系列可以有多个，但这里简化为单个\n          chartConfig.value.series = [{\n            field: column.name,\n            type: column.type\n          }];\n          break;\n      }\n      emit('config-change', chartConfig.value);\n    }\n    function removeMapping(target) {\n      switch (target) {\n        case 'xAxis':\n          chartConfig.value.xAxis = {\n            field: '',\n            type: ''\n          };\n          break;\n        case 'yAxis':\n          chartConfig.value.yAxis = {\n            field: '',\n            type: ''\n          };\n          break;\n        case 'series':\n          chartConfig.value.series = [];\n          break;\n      }\n      emit('config-change', chartConfig.value);\n    }\n    function removeSeriesMapping(index) {\n      chartConfig.value.series.splice(index, 1);\n      emit('config-change', chartConfig.value);\n    }\n    function getTargetName(target) {\n      const names = {\n        xAxis: 'X轴',\n        yAxis: 'Y轴',\n        series: '数据系列'\n      };\n      return names[target] || target;\n    }\n    function generateChart() {\n      if (!isConfigValid.value) {\n        errorMessage.value = '请完成必要的数据映射配置';\n        return;\n      }\n      emit('generate-chart', chartConfig.value);\n    }\n    function resetConfig() {\n      chartConfig.value = {\n        xAxis: {\n          field: '',\n          type: ''\n        },\n        yAxis: {\n          field: '',\n          type: ''\n        },\n        series: [],\n        title: '',\n        colorScheme: 'default',\n        animation: true,\n        dataRange: 'all',\n        nullHandling: 'ignore'\n      };\n      errorMessage.value = '';\n      emit('config-change', chartConfig.value);\n    }\n\n    // 监听图表类型变化\n    watch(() => props.selectedChartType, newType => {\n      // 根据图表类型调整配置\n      if (newType === 'pie') {\n        // 饼图不需要Y轴\n        chartConfig.value.yAxis = {\n          field: '',\n          type: ''\n        };\n      }\n    });\n    const __returned__ = {\n      props,\n      emit,\n      showAdvanced,\n      showAdvancedConfig,\n      errorMessage,\n      isDragOver,\n      dragError,\n      chartConfig,\n      isConfigValid,\n      chartTypeMap,\n      getChartTypeName,\n      getChartIcon,\n      toggleAdvanced,\n      toggleAdvancedConfig,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      validateColumnForTarget,\n      mapColumnToTarget,\n      removeMapping,\n      removeSeriesMapping,\n      getTargetName,\n      generateChart,\n      resetConfig,\n      ref,\n      computed,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","watch","props","__props","emit","__emit","showAdvanced","showAdvancedConfig","errorMessage","isDragOver","xAxis","yAxis","series","dragError","chartConfig","field","type","title","colorScheme","animation","dataRange","nullHandling","isConfigValid","value","length","chartTypeMap","bar","name","icon","line","pie","scatter","area","getChartTypeName","getChartIcon","toggleAdvanced","toggleAdvancedConfig","handleDragEnter","target","handleDragLeave","handleDragOver","event","preventDefault","handleDrop","dragData","JSON","parse","dataTransfer","getData","column","validateColumnForTarget","mapColumnToTarget","getTargetName","setTimeout","error","console","columnType","includes","removeMapping","removeSeriesMapping","index","splice","names","generateChart","resetConfig","selectedChartType","newType"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/components/ChartConfigPanel.vue"],"sourcesContent":["<template>\n  <div class=\"chart-config-panel\">\n    <div class=\"config-header\">\n      <h3>图表配置</h3>\n      <div class=\"chart-type-display\" v-if=\"selectedChartType\">\n        <i :class=\"getChartIcon(selectedChartType)\"></i>\n        <span>{{ getChartTypeName(selectedChartType) }}</span>\n      </div>\n    </div>\n\n    <!-- 数据映射区域 -->\n    <div class=\"mapping-section\">\n      <h4>数据映射配置</h4>\n      \n      <!-- X轴配置 -->\n      <div class=\"mapping-item\">\n        <label class=\"mapping-label\">X轴</label>\n        <div class=\"mapping-hint\">category</div>\n        <div \n          class=\"drop-zone\"\n          :class=\"{ \n            'drop-zone-active': isDragOver.xAxis,\n            'drop-zone-filled': chartConfig.xAxis.field,\n            'drop-zone-error': dragError.xAxis\n          }\"\n          @drop=\"handleDrop($event, 'xAxis')\"\n          @dragover.prevent=\"handleDragOver($event, 'xAxis')\"\n          @dragenter.prevent=\"handleDragEnter('xAxis')\"\n          @dragleave.prevent=\"handleDragLeave('xAxis')\"\n        >\n          <div v-if=\"!chartConfig.xAxis.field\" class=\"drop-placeholder\">\n            <i class=\"drop-icon\">↓</i>\n            <span>拖拽列到此处</span>\n          </div>\n          <div v-else class=\"mapped-field\">\n            <div class=\"field-info\">\n              <span class=\"field-name\">{{ chartConfig.xAxis.field }}</span>\n              <span class=\"field-type\">{{ chartConfig.xAxis.type }}</span>\n            </div>\n            <button class=\"remove-btn\" @click=\"removeMapping('xAxis')\">×</button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Y轴配置 -->\n      <div class=\"mapping-item\">\n        <label class=\"mapping-label\">Y轴</label>\n        <div class=\"mapping-hint\">value</div>\n        <div \n          class=\"drop-zone\"\n          :class=\"{ \n            'drop-zone-active': isDragOver.yAxis,\n            'drop-zone-filled': chartConfig.yAxis.field,\n            'drop-zone-error': dragError.yAxis\n          }\"\n          @drop=\"handleDrop($event, 'yAxis')\"\n          @dragover.prevent=\"handleDragOver($event, 'yAxis')\"\n          @dragenter.prevent=\"handleDragEnter('yAxis')\"\n          @dragleave.prevent=\"handleDragLeave('yAxis')\"\n        >\n          <div v-if=\"!chartConfig.yAxis.field\" class=\"drop-placeholder\">\n            <i class=\"drop-icon\">↓</i>\n            <span>拖拽列到此处</span>\n          </div>\n          <div v-else class=\"mapped-field\">\n            <div class=\"field-info\">\n              <span class=\"field-name\">{{ chartConfig.yAxis.field }}</span>\n              <span class=\"field-type\">{{ chartConfig.yAxis.type }}</span>\n            </div>\n            <button class=\"remove-btn\" @click=\"removeMapping('yAxis')\">×</button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 数据系列配置 -->\n      <div class=\"mapping-item\">\n        <label class=\"mapping-label\">数据系列</label>\n        <div class=\"mapping-hint\">value</div>\n        <div \n          class=\"drop-zone\"\n          :class=\"{ \n            'drop-zone-active': isDragOver.series,\n            'drop-zone-filled': chartConfig.series.length > 0,\n            'drop-zone-error': dragError.series\n          }\"\n          @drop=\"handleDrop($event, 'series')\"\n          @dragover.prevent=\"handleDragOver($event, 'series')\"\n          @dragenter.prevent=\"handleDragEnter('series')\"\n          @dragleave.prevent=\"handleDragLeave('series')\"\n        >\n          <div v-if=\"chartConfig.series.length === 0\" class=\"drop-placeholder\">\n            <i class=\"drop-icon\">↓</i>\n            <span>拖拽列到此处</span>\n          </div>\n          <div v-else class=\"mapped-series\">\n            <div \n              v-for=\"(serie, index) in chartConfig.series\" \n              :key=\"index\"\n              class=\"mapped-field\"\n            >\n              <div class=\"field-info\">\n                <span class=\"field-name\">{{ serie.field }}</span>\n                <span class=\"field-type\">{{ serie.type }}</span>\n              </div>\n              <button class=\"remove-btn\" @click=\"removeSeriesMapping(index)\">×</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 高级配置 -->\n    <div class=\"advanced-section\">\n      <div class=\"section-header\" @click=\"toggleAdvanced\">\n        <h4>数据过滤</h4>\n        <i class=\"toggle-icon\" :class=\"{ 'toggle-open': showAdvanced }\">▼</i>\n      </div>\n      <div v-if=\"showAdvanced\" class=\"advanced-content\">\n        <div class=\"filter-item\">\n          <label>数据范围</label>\n          <select v-model=\"chartConfig.dataRange\">\n            <option value=\"all\">全部数据</option>\n            <option value=\"first100\">前100行</option>\n            <option value=\"last100\">后100行</option>\n            <option value=\"sample\">随机采样</option>\n          </select>\n        </div>\n        <div class=\"filter-item\">\n          <label>空值处理</label>\n          <select v-model=\"chartConfig.nullHandling\">\n            <option value=\"ignore\">忽略空值</option>\n            <option value=\"zero\">替换为0</option>\n            <option value=\"interpolate\">线性插值</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- 高级配置 -->\n    <div class=\"advanced-section\">\n      <div class=\"section-header\" @click=\"toggleAdvancedConfig\">\n        <h4>高级配置</h4>\n        <i class=\"toggle-icon\" :class=\"{ 'toggle-open': showAdvancedConfig }\">▼</i>\n      </div>\n      <div v-if=\"showAdvancedConfig\" class=\"advanced-content\">\n        <div class=\"config-item\">\n          <label>图表标题</label>\n          <input v-model=\"chartConfig.title\" placeholder=\"输入图表标题\">\n        </div>\n        <div class=\"config-item\">\n          <label>颜色主题</label>\n          <select v-model=\"chartConfig.colorScheme\">\n            <option value=\"default\">默认</option>\n            <option value=\"blue\">蓝色系</option>\n            <option value=\"green\">绿色系</option>\n            <option value=\"warm\">暖色系</option>\n            <option value=\"cool\">冷色系</option>\n          </select>\n        </div>\n        <div class=\"config-item\">\n          <label>动画效果</label>\n          <input type=\"checkbox\" v-model=\"chartConfig.animation\">\n        </div>\n      </div>\n    </div>\n\n    <!-- 操作按钮 -->\n    <div class=\"action-buttons\">\n      <button \n        class=\"btn btn-primary\" \n        :disabled=\"!isConfigValid\"\n        @click=\"generateChart\"\n      >\n        应用配置\n      </button>\n      <button class=\"btn btn-secondary\" @click=\"resetConfig\">\n        清空配置\n      </button>\n    </div>\n\n    <!-- 错误提示 -->\n    <div v-if=\"errorMessage\" class=\"error-message\">\n      {{ errorMessage }}\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\n\n// Props\nconst props = defineProps({\n  selectedChartType: {\n    type: String,\n    default: 'bar'\n  },\n  currentFile: {\n    type: Object,\n    default: null\n  }\n})\n\n// Emits\nconst emit = defineEmits(['config-change', 'generate-chart'])\n\n// 响应式数据\nconst showAdvanced = ref(false)\nconst showAdvancedConfig = ref(false)\nconst errorMessage = ref('')\n\n// 拖拽状态\nconst isDragOver = ref({\n  xAxis: false,\n  yAxis: false,\n  series: false\n})\n\nconst dragError = ref({\n  xAxis: false,\n  yAxis: false,\n  series: false\n})\n\n// 图表配置\nconst chartConfig = ref({\n  xAxis: {\n    field: '',\n    type: ''\n  },\n  yAxis: {\n    field: '',\n    type: ''\n  },\n  series: [],\n  title: '',\n  colorScheme: 'default',\n  animation: true,\n  dataRange: 'all',\n  nullHandling: 'ignore'\n})\n\n// 计算属性\nconst isConfigValid = computed(() => {\n  return chartConfig.value.xAxis.field && \n         (chartConfig.value.yAxis.field || chartConfig.value.series.length > 0)\n})\n\n// 图表类型映射\nconst chartTypeMap = {\n  bar: { name: '柱状图', icon: '📊' },\n  line: { name: '折线图', icon: '📈' },\n  pie: { name: '饼图', icon: '🥧' },\n  scatter: { name: '散点图', icon: '📍' },\n  area: { name: '面积图', icon: '📊' }\n}\n\n// 方法\nfunction getChartTypeName(type) {\n  return chartTypeMap[type]?.name || type\n}\n\nfunction getChartIcon(type) {\n  return chartTypeMap[type]?.icon || '📊'\n}\n\nfunction toggleAdvanced() {\n  showAdvanced.value = !showAdvanced.value\n}\n\nfunction toggleAdvancedConfig() {\n  showAdvancedConfig.value = !showAdvancedConfig.value\n}\n\n// 拖拽处理\nfunction handleDragEnter(target) {\n  isDragOver.value[target] = true\n  dragError.value[target] = false\n}\n\nfunction handleDragLeave(target) {\n  isDragOver.value[target] = false\n}\n\nfunction handleDragOver(event, target) {\n  event.preventDefault()\n  isDragOver.value[target] = true\n}\n\nfunction handleDrop(event, target) {\n  event.preventDefault()\n  isDragOver.value[target] = false\n  \n  try {\n    const dragData = JSON.parse(event.dataTransfer.getData('text/plain'))\n    \n    if (dragData.type === 'column') {\n      const column = dragData.column\n      \n      // 验证数据类型是否适合目标区域\n      if (validateColumnForTarget(column, target)) {\n        mapColumnToTarget(column, target)\n        errorMessage.value = ''\n      } else {\n        dragError.value[target] = true\n        errorMessage.value = `列 \"${column.name}\" 的数据类型不适合 ${getTargetName(target)}`\n        setTimeout(() => {\n          dragError.value[target] = false\n          errorMessage.value = ''\n        }, 3000)\n      }\n    }\n  } catch (error) {\n    console.error('Drop failed:', error)\n    errorMessage.value = '拖拽失败，请重试'\n  }\n}\n\nfunction validateColumnForTarget(column, target) {\n  const columnType = column.type\n  \n  switch (target) {\n    case 'xAxis':\n      // X轴通常接受类别型数据\n      return ['string', 'category', 'date'].includes(columnType)\n    case 'yAxis':\n      // Y轴通常接受数值型数据\n      return ['number', 'integer'].includes(columnType)\n    case 'series':\n      // 系列数据通常接受数值型数据\n      return ['number', 'integer'].includes(columnType)\n    default:\n      return true\n  }\n}\n\nfunction mapColumnToTarget(column, target) {\n  switch (target) {\n    case 'xAxis':\n      chartConfig.value.xAxis = {\n        field: column.name,\n        type: column.type\n      }\n      break\n    case 'yAxis':\n      chartConfig.value.yAxis = {\n        field: column.name,\n        type: column.type\n      }\n      break\n    case 'series':\n      // 系列可以有多个，但这里简化为单个\n      chartConfig.value.series = [{\n        field: column.name,\n        type: column.type\n      }]\n      break\n  }\n  \n  emit('config-change', chartConfig.value)\n}\n\nfunction removeMapping(target) {\n  switch (target) {\n    case 'xAxis':\n      chartConfig.value.xAxis = { field: '', type: '' }\n      break\n    case 'yAxis':\n      chartConfig.value.yAxis = { field: '', type: '' }\n      break\n    case 'series':\n      chartConfig.value.series = []\n      break\n  }\n  \n  emit('config-change', chartConfig.value)\n}\n\nfunction removeSeriesMapping(index) {\n  chartConfig.value.series.splice(index, 1)\n  emit('config-change', chartConfig.value)\n}\n\nfunction getTargetName(target) {\n  const names = {\n    xAxis: 'X轴',\n    yAxis: 'Y轴',\n    series: '数据系列'\n  }\n  return names[target] || target\n}\n\nfunction generateChart() {\n  if (!isConfigValid.value) {\n    errorMessage.value = '请完成必要的数据映射配置'\n    return\n  }\n  \n  emit('generate-chart', chartConfig.value)\n}\n\nfunction resetConfig() {\n  chartConfig.value = {\n    xAxis: { field: '', type: '' },\n    yAxis: { field: '', type: '' },\n    series: [],\n    title: '',\n    colorScheme: 'default',\n    animation: true,\n    dataRange: 'all',\n    nullHandling: 'ignore'\n  }\n  \n  errorMessage.value = ''\n  emit('config-change', chartConfig.value)\n}\n\n// 监听图表类型变化\nwatch(() => props.selectedChartType, (newType) => {\n  // 根据图表类型调整配置\n  if (newType === 'pie') {\n    // 饼图不需要Y轴\n    chartConfig.value.yAxis = { field: '', type: '' }\n  }\n})\n</script>\n\n<style scoped>\n.chart-config-panel {\n  height: 100%;\n  padding: 20px;\n  background: var(--bg-color, #fff);\n  border-radius: 8px;\n  overflow-y: auto;\n}\n\n.config-header {\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n}\n\n.config-header h3 {\n  margin: 0 0 10px 0;\n  color: var(--text-color, #333);\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.chart-type-display {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-size: 14px;\n  color: var(--text-secondary, #666);\n}\n\n.mapping-section {\n  margin-bottom: 25px;\n}\n\n.mapping-section h4 {\n  margin: 0 0 15px 0;\n  color: var(--text-color, #333);\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.mapping-item {\n  margin-bottom: 20px;\n}\n\n.mapping-label {\n  display: block;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: var(--text-color, #333);\n}\n\n.mapping-hint {\n  font-size: 12px;\n  color: var(--text-secondary, #666);\n  margin-bottom: 8px;\n}\n\n.drop-zone {\n  min-height: 60px;\n  border: 2px dashed var(--border-color, #d0d0d0);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.drop-zone-active {\n  border-color: var(--primary-color, #007bff);\n  background-color: rgba(0, 123, 255, 0.05);\n}\n\n.drop-zone-filled {\n  border-color: var(--success-color, #28a745);\n  background-color: rgba(40, 167, 69, 0.05);\n}\n\n.drop-zone-error {\n  border-color: var(--error-color, #dc3545);\n  background-color: rgba(220, 53, 69, 0.05);\n  animation: shake 0.5s ease-in-out;\n}\n\n@keyframes shake {\n  0%, 100% { transform: translateX(0); }\n  25% { transform: translateX(-5px); }\n  75% { transform: translateX(5px); }\n}\n\n.drop-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 5px;\n  color: var(--text-secondary, #666);\n}\n\n.drop-icon {\n  font-size: 24px;\n  color: var(--text-secondary, #666);\n}\n\n.mapped-field {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 10px;\n  background: var(--bg-secondary, #f8f9fa);\n  border-radius: 6px;\n  margin-bottom: 5px;\n}\n\n.field-info {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n\n.field-name {\n  font-weight: 500;\n  color: var(--text-color, #333);\n}\n\n.field-type {\n  font-size: 12px;\n  color: var(--text-secondary, #666);\n  text-transform: uppercase;\n}\n\n.remove-btn {\n  background: var(--error-color, #dc3545);\n  color: white;\n  border: none;\n  border-radius: 50%;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n}\n\n.remove-btn:hover {\n  background: var(--error-hover, #c82333);\n}\n\n.advanced-section {\n  margin-bottom: 25px;\n}\n\n.section-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  cursor: pointer;\n  padding: 10px 0;\n  border-bottom: 1px solid var(--border-color, #e0e0e0);\n}\n\n.section-header h4 {\n  margin: 0;\n  color: var(--text-color, #333);\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.toggle-icon {\n  transition: transform 0.3s ease;\n  color: var(--text-secondary, #666);\n}\n\n.toggle-open {\n  transform: rotate(180deg);\n}\n\n.advanced-content {\n  padding: 15px 0;\n}\n\n.filter-item,\n.config-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 15px;\n}\n\n.filter-item label,\n.config-item label {\n  font-weight: 500;\n  color: var(--text-color, #333);\n  flex: 1;\n}\n\n.filter-item select,\n.config-item select,\n.config-item input[type=\"text\"] {\n  flex: 1;\n  max-width: 150px;\n  padding: 6px 10px;\n  border: 1px solid var(--border-color, #d0d0d0);\n  border-radius: 4px;\n  background: var(--bg-color, #fff);\n  color: var(--text-color, #333);\n}\n\n.config-item input[type=\"text\"] {\n  max-width: 200px;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 10px;\n  margin-top: 20px;\n}\n\n.btn {\n  flex: 1;\n  padding: 12px 20px;\n  border: none;\n  border-radius: 6px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.btn-primary {\n  background: var(--primary-color, #007bff);\n  color: white;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: var(--primary-hover, #0056b3);\n}\n\n.btn-primary:disabled {\n  background: var(--disabled-color, #6c757d);\n  cursor: not-allowed;\n}\n\n.btn-secondary {\n  background: var(--secondary-color, #6c757d);\n  color: white;\n}\n\n.btn-secondary:hover {\n  background: var(--secondary-hover, #545b62);\n}\n\n.error-message {\n  margin-top: 15px;\n  padding: 10px;\n  background: rgba(220, 53, 69, 0.1);\n  border: 1px solid var(--error-color, #dc3545);\n  border-radius: 4px;\n  color: var(--error-color, #dc3545);\n  font-size: 14px;\n}\n\n/* 暗黑主题适配 */\n:root.dark {\n  --bg-color: #1a1a1a;\n  --bg-secondary: #2d2d2d;\n  --text-color: #e0e0e0;\n  --text-secondary: #b0b0b0;\n  --border-color: #404040;\n  --primary-color: #0d6efd;\n  --primary-hover: #0b5ed7;\n  --success-color: #198754;\n  --error-color: #dc3545;\n  --error-hover: #c82333;\n  --secondary-color: #6c757d;\n  --secondary-hover: #5c636a;\n  --disabled-color: #495057;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}