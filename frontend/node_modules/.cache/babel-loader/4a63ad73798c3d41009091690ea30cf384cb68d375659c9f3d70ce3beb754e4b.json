{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createVNode as _createVNode, Transition as _Transition, withModifiers as _withModifiers, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"preview-content\"\n};\nconst _hoisted_2 = {\n  class: \"preview-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-info\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"file-info\"\n};\nconst _hoisted_5 = {\n  class: \"preview-table-wrapper\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"table-container\",\n  style: {\n    \"overflow\": \"auto\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"preview-table\"\n};\nconst _hoisted_8 = [\"title\"];\nconst _hoisted_9 = {\n  class: \"row-number\"\n};\nconst _hoisted_10 = [\"title\"];\nconst _hoisted_11 = {\n  key: 1,\n  class: \"empty-tip\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock(_Transition, {\n    name: \"modal-fade\"\n  }, {\n    default: _withCtx(() => [$props.show ? (_openBlock(), _createElementBlock(\"div\", {\n      key: 0,\n      class: \"preview-modal\",\n      onClick: _withModifiers($setup.onClose, [\"self\"])\n    }, [_createVNode(_Transition, {\n      name: \"modal-slide\",\n      appear: \"\"\n    }, {\n      default: _withCtx(() => [$props.show ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Â§¥ÈÉ® \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, _toDisplayString($props.currentFile?.name || 'Data Preview'), 1 /* TEXT */), $props.currentFile ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _toDisplayString($setup.formatFileSize($props.currentFile.size)) + \" | \" + _toDisplayString($props.currentFile.rows || 0) + \" row √ó \" + _toDisplayString($props.currentFile.columns || 0) + \" column (Only first 100 rows shown) \", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n        class: \"close-btn\",\n        onClick: $setup.onClose\n      }, \"√ó\")]), _createCommentVNode(\" Êï∞ÊçÆË°®Ê†ºÈ¢ÑËßà \"), _createElementVNode(\"div\", _hoisted_5, [$setup.dataRows.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"th\", {\n        class: \"row-number\"\n      }, \"#\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tableHeaders, (header, idx) => {\n        return _openBlock(), _createElementBlock(\"th\", {\n          key: idx,\n          title: String(header).length > 12 ? String(header) : '',\n          class: \"column-header\"\n        }, _toDisplayString(String(header)), 9 /* TEXT, PROPS */, _hoisted_8);\n      }), 128 /* KEYED_FRAGMENT */))])])]), _createVNode($setup[\"VirtualList\"], {\n        data: $setup.dataRows,\n        itemHeight: 34,\n        height: $setup.virtualListHeight,\n        width: $setup.virtualListWidth\n      }, {\n        default: _withCtx(({\n          item: row,\n          index: idx\n        }) => [_createElementVNode(\"table\", {\n          class: \"preview-table\",\n          style: _normalizeStyle(`table-layout:fixed;width:${$setup.virtualListWidth}px;position:absolute;top:0;left:0;`)\n        }, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"td\", _hoisted_9, _toDisplayString(idx + 1), 1 /* TEXT */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tableHeaders, (header, headerIdx) => {\n          return _openBlock(), _createElementBlock(\"td\", {\n            key: headerIdx,\n            title: $setup.getCellValue(row, header, headerIdx)\n          }, _toDisplayString($setup.getCellValue(row, header, headerIdx)), 9 /* TEXT, PROPS */, _hoisted_10);\n        }), 128 /* KEYED_FRAGMENT */))])])], 4 /* STYLE */)]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"data\", \"height\", \"width\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _cache[1] || (_cache[1] = [_createElementVNode(\"div\", {\n        class: \"empty-icon\"\n      }, \"üìä\", -1 /* HOISTED */), _createElementVNode(\"p\", null, \"No data available...\", -1 /* HOISTED */)])))])])) : _createCommentVNode(\"v-if\", true)]),\n      _: 1 /* STABLE */\n    })])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["key","class","style","_createBlock","_Transition","name","default","_withCtx","$props","show","_createElementBlock","onClick","_withModifiers","$setup","onClose","_createVNode","appear","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","currentFile","_hoisted_4","formatFileSize","size","rows","columns","_hoisted_5","dataRows","length","_hoisted_6","_hoisted_7","_Fragment","_renderList","tableHeaders","header","idx","title","String","_hoisted_8","data","itemHeight","height","virtualListHeight","width","virtualListWidth","item","row","index","_normalizeStyle","_hoisted_9","headerIdx","getCellValue","_hoisted_10","_","_hoisted_11","_cache"],"sources":["D:\\Learning Material\\Git\\Fuck-Charts\\frontend\\src\\components\\Common\\DataPreviewModal.vue"],"sourcesContent":["<template>\n<transition name=\"modal-fade\">\n    <div v-if=\"show\"\n        class=\"preview-modal\"\n        @click.self=\"onClose\">\n        <transition name=\"modal-slide\" appear>\n            <div class=\"preview-content\" v-if=\"show\">\n                <!-- Â§¥ÈÉ® -->\n                <div class=\"preview-header\">\n                    <div class=\"header-info\">\n                        <h3>{{ currentFile?.name || 'Data Preview' }}</h3>\n                        <span class=\"file-info\" v-if=\"currentFile\">\n                            {{ formatFileSize(currentFile.size) }} |\n                            {{ currentFile.rows || 0 }} row √ó {{ currentFile.columns || 0 }} column (Only first 100 rows shown)\n                        </span>\n                    </div>\n                    <button class=\"close-btn\" @click=\"onClose\">√ó</button>\n                </div>\n\n                <!-- Êï∞ÊçÆË°®Ê†ºÈ¢ÑËßà -->\n                <div class=\"preview-table-wrapper\">\n                  <div v-if=\"dataRows.length\" class=\"table-container\" style=\"overflow:auto;\">\n                    <table class=\"preview-table\">\n                      <thead>\n                        <tr>\n                          <th class=\"row-number\">#</th>\n                          <th v-for=\"(header, idx) in tableHeaders\"\n                              :key=\"idx\"\n                              :title=\"String(header).length > 12 ? String(header) : ''\"\n                              class=\"column-header\">{{ String(header) }}</th>\n                        </tr>\n                      </thead>\n                    </table>\n                    <VirtualList\n                      :data=\"dataRows\"\n                      :itemHeight=\"34\"\n                      :height=\"virtualListHeight\"\n                      :width=\"virtualListWidth\"\n                      v-slot=\"{ item: row, index: idx }\"\n                    >\n                      <table class=\"preview-table\" :style=\"`table-layout:fixed;width:${virtualListWidth}px;position:absolute;top:0;left:0;`\">\n                        <tbody>\n                          <tr>\n                            <td class=\"row-number\">{{ idx + 1 }}</td>\n                            <td v-for=\"(header, headerIdx) in tableHeaders\"\n                                :key=\"headerIdx\"\n                                :title=\"getCellValue(row, header, headerIdx)\">\n                              {{ getCellValue(row, header, headerIdx) }}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </table>\n                    </VirtualList>\n                  </div>\n                  <div v-else class=\"empty-tip\">\n                    <div class=\"empty-icon\">üìä</div>\n                    <p>No data available...</p>\n                  </div>\n                </div>\n            </div>\n        </transition>\n    </div>\n</transition>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { computed, ref, onMounted, nextTick } from 'vue'\nimport VirtualList from './VirtualList.vue'\n// ËôöÊãüÂàóË°®È´òÂ∫¶„ÄÅÂÆΩÂ∫¶Ëá™ÈÄÇÂ∫îÂÜÖÂÆπÂå∫\nconst virtualListHeight = ref(600)\nconst virtualListWidth = ref(0)\nonMounted(() => {\n  nextTick(() => {\n    const container = document.querySelector('.table-container')\n    if (container) {\n      virtualListHeight.value = container.clientHeight\n      virtualListWidth.value = container.clientWidth\n    }\n  })\n})\n\nconst props = defineProps({\n    show: Boolean,\n    currentFile: Object,\n    previewData: {\n        type: Array,\n        default: () => []\n    },\n    isSidePreview: {\n        type: Boolean,\n        default: false\n    }\n})\n\nconst emit = defineEmits(['close'])\n\n// Ë°®Â§¥ËÆ°ÁÆó - ‰øÆÂ§çÊï∞ÊçÆÁ±ªÂûãÂ§ÑÁêÜÈÄªËæë\nconst tableHeaders = computed(() => {\n    if (!props.previewData.length) return []\n    \n    // Ëé∑ÂèñÁ¨¨‰∏ÄË°åÊï∞ÊçÆ‰Ωú‰∏∫Ë°®Â§¥\n    const firstRow = props.previewData[0]\n    if (Array.isArray(firstRow)) {\n        // Â¶ÇÊûúÊòØÊï∞ÁªÑÊ†ºÂºèÔºåÁõ¥Êé•‰ΩøÁî®Êï∞ÁªÑÂÖÉÁ¥†‰Ωú‰∏∫Ê†áÈ¢ò\n        return firstRow\n    } else if (typeof firstRow === 'object' && firstRow !== null) {\n        // Â¶ÇÊûúÊòØÂØπË±°Ê†ºÂºèÔºå‰ΩøÁî®ÂØπË±°ÁöÑÈîÆÂêç‰Ωú‰∏∫Ê†áÈ¢ò\n        return Object.keys(firstRow)\n    }\n    return []\n})\n\n// ÂÆûÈôÖÊï∞ÊçÆË°åÔºàÊ†πÊçÆÊï∞ÊçÆÁ±ªÂûãÂÜ≥ÂÆöÊòØÂê¶ÊéíÈô§Ê†áÈ¢òË°åÔºâ\nconst dataRows = computed(() => {\n    if (!props.previewData.length) return []\n    \n    const firstRow = props.previewData[0]\n    if (Array.isArray(firstRow)) {\n        // Êï∞ÁªÑÊ†ºÂºèÔºöÁ¨¨‰∏ÄË°åÊòØË°®Â§¥ÔºåË∑≥ËøáÂÆÉ\n        return props.previewData.slice(1)\n    } else if (typeof firstRow === 'object' && firstRow !== null) {\n        // ÂØπË±°Ê†ºÂºèÔºöÊâÄÊúâË°åÈÉΩÊòØÊï∞ÊçÆË°å\n        return props.previewData\n    }\n    return props.previewData\n})\n\n// Ëé∑ÂèñÂçïÂÖÉÊ†ºÂÄºÁöÑÊñπÊ≥ï\nfunction getCellValue(row, header, index) {\n    if (Array.isArray(row)) {\n        return row[index] || ''\n    } else if (typeof row === 'object' && row !== null) {\n        // ÂØπ‰∫éÂØπË±°Ôºå‰ºòÂÖà‰ΩøÁî®Ë°®Â§¥‰Ωú‰∏∫ÈîÆÊù•Ëé∑ÂèñÂÄº\n        return row[header] !== undefined ? row[header] : ''\n    }\n    return row || ''\n}\n\n// Ê†ºÂºèÂåñÊñá‰ª∂Â§ßÂ∞è\nfunction formatFileSize(bytes) {\n    if (!bytes) return '0 Bytes'\n    const k = 1024\n    const sizes = ['Bytes', 'KB', 'MB', 'GB']\n    const i = Math.floor(Math.log(bytes) / Math.log(k))\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\nfunction onClose() {\n    emit('close')\n}\n</script>\n\n<style scoped>\n@import '../../assets/CSS/DataPreviewModal.css';\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}