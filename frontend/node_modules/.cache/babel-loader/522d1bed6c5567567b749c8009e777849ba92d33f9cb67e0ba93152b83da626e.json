{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\n/* eslint-disable */\n\n/**\n * 折线图高级配置项：\n * 数据点形状\n * 折线样式\n * 平滑\n * 折线颜色渐变\n * 面积图\n * 面积图颜色渐变\n * 凹凸图\n * 最大最小值\n * 均值线\n * 多x轴（hard）\n * 可选区域高亮（可选是否改变折线颜色、高亮区域颜色【若不选择跟随主题样式】）\n * 函数绘图\n * 标记线\n * 阶梯折线图\n * 极坐标\n * 动态排序折线\n */\n\nimport { getThemeColorPalette } from \"../utils/themeDispatcher\";\n\n// 折线图 option 生成器\nexport default function lineOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n  // 网格线显示控制\n  let xGrid = false,\n    yGrid = false;\n  switch (config.gridVisible) {\n    case 'x':\n      xGrid = true;\n      yGrid = false;\n      break;\n    case 'y':\n      xGrid = false;\n      yGrid = true;\n      break;\n    case 'both':\n      xGrid = true;\n      yGrid = true;\n      break;\n    case 'none':\n    default:\n      xGrid = false;\n      yGrid = false;\n  }\n  const {\n    yAxis,\n    title,\n    animation\n  } = config;\n  const yArr = Array.isArray(yAxis) ? yAxis : [yAxis];\n  const seriesArr = yArr.map((y, idx) => {\n    const base = {\n      name: y.field,\n      type: 'line',\n      data: yDataArr[idx],\n      smooth: config.isSmooth || false,\n      animationDuration: animation ? 1500 : 0\n    };\n    // 阶梯折线\n    if (config.isStep) base.step = 'middle';\n    // 动态获取主题色盘\n    let colorPalette = ['#409EFF', '#67C23A'];\n    try {\n      // 兼容不同路径写法\n      const themeDispatcher = require('@/assets/JS/utils/themeDispatcher');\n      colorPalette = themeDispatcher.getThemeColorPalette(config.colorScheme || 'default');\n    } catch (e) {\n      // fallback\n    }\n    // 面积图\n    if (config.isArea) {\n      base.areaStyle = config.areaGradient ? {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 0,\n          y2: 1,\n          colorStops: [{\n            offset: 0,\n            color: colorPalette[0] || '#409EFF'\n          }, {\n            offset: 1,\n            color: colorPalette[1] || '#fff'\n          }]\n        }\n      } : {};\n    }\n    // 折线颜色渐变\n    if (config.lineGradient) {\n      base.lineStyle = {\n        color: {\n          type: 'linear',\n          x: 0,\n          y: 0,\n          x2: 1,\n          y2: 0,\n          colorStops: [{\n            offset: 0,\n            color: colorPalette[0] || '#409EFF'\n          }, {\n            offset: 1,\n            color: colorPalette[1] || '#67C23A'\n          }]\n        }\n      };\n    }\n    // 最大最小值\n    if (config.showMaxMin) {\n      base.markPoint = {\n        data: [{\n          type: 'max',\n          name: 'Max'\n        }, {\n          type: 'min',\n          name: 'Min'\n        }]\n      };\n    }\n    // 均值线\n    if (config.showMeanLine) {\n      base.markLine = {\n        data: [{\n          type: 'average',\n          name: 'Mean'\n        }]\n      };\n    }\n    // 极坐标\n    if (config.isPolar) base.coordinateSystem = 'polar';\n    // 凹凸图\n    if (config.isConcaveConvex) base.symbol = 'triangle';\n    return base;\n  });\n  const option = {\n    title: {\n      text: config.title || 'Chart of Line',\n      subtext: config.subtext,\n      left: config.titlePosition === 'left' ? 'left' : config.titlePosition === 'center' ? 'center' : config.titlePosition === 'right' ? 'right' : 'center',\n      // bottom 也用 center\n      top: config.titlePosition === 'bottom' ? 'bottom' : 'top',\n      textStyle: {\n        fontSize: 16,\n        fontWeight: 'bold'\n      },\n      subtextStyle: {\n        fontSize: 12\n      }\n    },\n    tooltip: {\n      trigger: 'axis'\n    },\n    legend: {\n      type: 'scroll',\n      show: config.legendVisible !== false,\n      data: yArr.map(y => y.field),\n      top: config.legendPosition || 'bottom'\n    },\n    toolbox: {\n      show: true,\n      feature: {\n        dataZoom: {\n          show: true\n        },\n        dataView: {\n          show: true,\n          readOnly: false\n        },\n        magicType: {\n          show: true,\n          type: ['line', 'bar']\n        },\n        restore: {\n          show: true\n        },\n        saveAsImage: {\n          show: true\n        }\n      }\n    },\n    series: seriesArr,\n    animation: animation,\n    animationDuration: animation ? 1500 : 0,\n    ...customOption\n  };\n  if (!config.isPolar) {\n    option.xAxis = {\n      type: 'category',\n      data: xData,\n      name: config.xAxisName || 'X Axis',\n      axisLabel: {\n        interval: 0,\n        rotate: xData.length > 10 ? 45 : 0\n      },\n      splitLine: {\n        show: xGrid\n      }\n    };\n    option.yAxis = {\n      type: 'value',\n      name: config.yAxisName || yArr.map(y => y.field).join(','),\n      splitLine: {\n        show: yGrid\n      }\n    };\n  }\n  // 极坐标配置\n  if (config.isPolar) {\n    option.polar = {};\n    option.angleAxis = {\n      type: 'category',\n      data: xData\n    };\n    option.radiusAxis = {};\n  }\n  return option;\n}","map":{"version":3,"names":["getThemeColorPalette","lineOption","config","fileDataMap","xData","yDataArr","selectedChartType","seriesData","customOption","xGrid","yGrid","gridVisible","yAxis","title","animation","yArr","Array","isArray","seriesArr","map","y","idx","base","name","field","type","data","smooth","isSmooth","animationDuration","isStep","step","colorPalette","themeDispatcher","require","colorScheme","e","isArea","areaStyle","areaGradient","color","x","x2","y2","colorStops","offset","lineGradient","lineStyle","showMaxMin","markPoint","showMeanLine","markLine","isPolar","coordinateSystem","isConcaveConvex","symbol","option","text","subtext","left","titlePosition","top","textStyle","fontSize","fontWeight","subtextStyle","tooltip","trigger","legend","show","legendVisible","legendPosition","toolbox","feature","dataZoom","dataView","readOnly","magicType","restore","saveAsImage","series","xAxis","xAxisName","axisLabel","interval","rotate","length","splitLine","yAxisName","join","polar","angleAxis","radiusAxis"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/assets/JS/chartOptions/line.js"],"sourcesContent":["/* eslint-disable */\n\n/**\n * 折线图高级配置项：\n * 数据点形状\n * 折线样式\n * 平滑\n * 折线颜色渐变\n * 面积图\n * 面积图颜色渐变\n * 凹凸图\n * 最大最小值\n * 均值线\n * 多x轴（hard）\n * 可选区域高亮（可选是否改变折线颜色、高亮区域颜色【若不选择跟随主题样式】）\n * 函数绘图\n * 标记线\n * 阶梯折线图\n * 极坐标\n * 动态排序折线\n */\n\nimport { getThemeColorPalette } from \"../utils/themeDispatcher\";\n\n// 折线图 option 生成器\nexport default function lineOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n    // 网格线显示控制\n    let xGrid = false, yGrid = false;\n    switch (config.gridVisible) {\n        case 'x':\n            xGrid = true; yGrid = false; break;\n        case 'y':\n            xGrid = false; yGrid = true; break;\n        case 'both':\n            xGrid = true; yGrid = true; break;\n        case 'none':\n        default:\n            xGrid = false; yGrid = false;\n    }\n    const { yAxis, title, animation } = config;\n    const yArr = Array.isArray(yAxis) ? yAxis : [yAxis];\n    const seriesArr = yArr.map((y, idx) => {\n        const base = {\n            name: y.field,\n            type: 'line',\n            data: yDataArr[idx],\n            smooth: config.isSmooth || false,\n            animationDuration: animation ? 1500 : 0\n        };\n        // 阶梯折线\n        if (config.isStep) base.step = 'middle';\n        // 动态获取主题色盘\n        let colorPalette = ['#409EFF', '#67C23A'];\n        try {\n            // 兼容不同路径写法\n            const themeDispatcher = require('@/assets/JS/utils/themeDispatcher');\n            colorPalette = themeDispatcher.getThemeColorPalette(config.colorScheme || 'default');\n        } catch (e) {\n            // fallback\n        }\n        // 面积图\n        if (config.isArea) {\n            base.areaStyle = config.areaGradient\n                ? {\n                    color: {\n                        type: 'linear',\n                        x: 0, y: 0, x2: 0, y2: 1,\n                        colorStops: [\n                            { offset: 0, color: colorPalette[0] || '#409EFF' },\n                            { offset: 1, color: colorPalette[1] || '#fff' }\n                        ]\n                    }\n                }\n                : {};\n        }\n        // 折线颜色渐变\n        if (config.lineGradient) {\n            base.lineStyle = {\n                color: {\n                    type: 'linear',\n                    x: 0, y: 0, x2: 1, y2: 0,\n                    colorStops: [\n                        { offset: 0, color: colorPalette[0] || '#409EFF' },\n                        { offset: 1, color: colorPalette[1] || '#67C23A' }\n                    ]\n                }\n            };\n        }\n        // 最大最小值\n        if (config.showMaxMin) {\n            base.markPoint = {\n                data: [\n                    { type: 'max', name: 'Max' },\n                    { type: 'min', name: 'Min' }\n                ]\n            };\n        }\n        // 均值线\n        if (config.showMeanLine) {\n            base.markLine = {\n                data: [\n                    { type: 'average', name: 'Mean' }\n                ]\n            };\n        }\n        // 极坐标\n        if (config.isPolar) base.coordinateSystem = 'polar';\n        // 凹凸图\n        if (config.isConcaveConvex) base.symbol = 'triangle';\n        return base;\n    });\n    const option = {\n        title: {\n            text: config.title || 'Chart of Line',\n            subtext: config.subtext,\n            left: config.titlePosition === 'left' ? 'left'\n                : config.titlePosition === 'center' ? 'center'\n                    : config.titlePosition === 'right' ? 'right'\n                        : 'center', // bottom 也用 center\n            top: config.titlePosition === 'bottom' ? 'bottom' : 'top',\n            textStyle: { fontSize: 16, fontWeight: 'bold' },\n            subtextStyle: { fontSize: 12 }\n        },\n        tooltip: { trigger: 'axis' },\n        legend: {\n            type: 'scroll',\n            show: config.legendVisible !== false,\n            data: yArr.map(y => y.field),\n            top: config.legendPosition || 'bottom',\n        },\n        toolbox: {\n            show: true,\n            feature: {\n                dataZoom: { show: true },\n                dataView: { show: true, readOnly: false },\n                magicType: { show: true, type: ['line', 'bar'] },\n                restore: { show: true },\n                saveAsImage: { show: true }\n            }\n        },\n        series: seriesArr,\n        animation: animation,\n        animationDuration: animation ? 1500 : 0,\n        ...customOption\n    };\n    if (!config.isPolar) {\n        option.xAxis = {\n            type: 'category',\n            data: xData,\n            name: config.xAxisName || 'X Axis',\n            axisLabel: { interval: 0, rotate: xData.length > 10 ? 45 : 0 },\n            splitLine: { show: xGrid }\n        };\n        option.yAxis = {\n            type: 'value',\n            name: config.yAxisName || yArr.map(y => y.field).join(','),\n            splitLine: { show: yGrid }\n        };\n    }\n    // 极坐标配置\n    if (config.isPolar) {\n        option.polar = {};\n        option.angleAxis = { type: 'category', data: xData };\n        option.radiusAxis = {};\n    }\n    return option;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}