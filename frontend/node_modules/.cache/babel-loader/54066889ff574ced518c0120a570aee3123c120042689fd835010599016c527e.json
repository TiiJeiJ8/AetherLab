{"ast":null,"code":"import { ref, watch } from 'vue';\nexport default {\n  __name: 'ChartMappingConfig',\n  props: {\n    mappingConfig: Array,\n    modelValue: Object,\n    isDragOver: Object,\n    dragError: Object\n  },\n  emits: ['update:modelValue', 'drag-enter', 'drag-leave', 'drag-over', 'drop', 'remove-mapping'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n\n    /* no-undef */\n    /* eslint-disable */\n    const props = __props;\n    const emit = __emit;\n    const localConfig = ref({\n      ...props.modelValue\n    });\n    watch(() => props.modelValue, val => {\n      localConfig.value = {\n        ...val\n      };\n    });\n    function updateField(key, value) {\n      localConfig.value[key] = value;\n      emit('update:modelValue', {\n        ...localConfig.value\n      });\n    }\n    function getFieldDisplay(val) {\n      if (typeof val === 'object' && val !== null) {\n        return val.field || '';\n      }\n      return val ?? '';\n    }\n    const __returned__ = {\n      props,\n      emit,\n      localConfig,\n      updateField,\n      getFieldDisplay,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","localConfig","modelValue","val","value","updateField","key","getFieldDisplay","field"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/components/ChartMappingConfig.vue"],"sourcesContent":["<template>\n<div class=\"mapping-section\">\n  <div class=\"mapping-section-header\">\n    <h4>Data Mapping</h4>\n  </div>\n  <div v-for=\"item in mappingConfig\" :key=\"item.key\" class=\"mapping-item\">\n    <div class=\"mapping-item-header\">\n      <label class=\"mapping-label\">\n        {{ item.label }}\n        <span v-if=\"item.required\" class=\"required-star\">*</span>\n      </label>\n      <div class=\"mapping-type-tag\">{{ item.type }}</div>\n    </div>\n    <div\n      class=\"drop-zone\"\n      :class=\"{\n        'drop-zone-active': isDragOver && isDragOver[item.key],\n        'drop-zone-error': dragError && dragError[item.key],\n        'drop-zone-filled': getFieldDisplay(localConfig[item.key])\n      }\"\n      @dragover.prevent=\"emit('drag-over', $event, item.key)\"\n      @dragenter.prevent=\"emit('drag-enter', item.key)\"\n      @dragleave.prevent=\"emit('drag-leave', item.key)\"\n      @drop.prevent=\"emit('drop', $event, item.key)\"\n    >\n      <template v-if=\"getFieldDisplay(localConfig[item.key])\">\n        <div class=\"mapped-field\">\n          <div class=\"field-info\">\n            <span class=\"field-name\">{{ getFieldDisplay(localConfig[item.key]) }}</span>\n            <span class=\"field-type\">{{ localConfig[item.key]?.type }}</span>\n          </div>\n          <button class=\"remove-btn\" @click=\"emit('remove-mapping', item.key)\">✕</button>\n        </div>\n      </template>\n      <template v-else>\n        <div class=\"drop-placeholder\">\n          <div class=\"drop-icon\">↓</div>\n          <span class=\"drop-text\">拖拽字段到此处</span>\n        </div>\n      </template>\n      <div v-if=\"dragError && dragError[item.key]\" class=\"error-tip\">类型不匹配</div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script setup>\n/* no-undef */\n/* eslint-disable */\nimport { ref, watch } from 'vue'\nconst props = defineProps({\n  mappingConfig: Array,\n  modelValue: Object,\n  isDragOver: Object,\n  dragError: Object\n})\nconst emit = defineEmits([\n  'update:modelValue',\n  'drag-enter',\n  'drag-leave',\n  'drag-over',\n  'drop',\n  'remove-mapping'\n])\n\nconst localConfig = ref({ ...props.modelValue })\n\nwatch(() => props.modelValue, (val) => {\n  localConfig.value = { ...val }\n})\n\nfunction updateField(key, value) {\n  localConfig.value[key] = value\n  emit('update:modelValue', { ...localConfig.value })\n}\n\nfunction getFieldDisplay(val) {\n  if (typeof val === 'object' && val !== null) {\n    return val.field || ''\n  }\n  return val ?? ''\n}\n</script>\n\n<style scoped>\n.mapping-section { margin-bottom: 16px; }\n.mapping-item { margin-bottom: 12px; }\n</style>\n"],"mappings":"AAiDA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;;IAF/B;IACA;IAEA,MAAMC,KAAK,GAAGC,OAAA;IAMd,MAAMC,IAAI,GAAGC,MAAA;IASb,MAAMC,WAAW,GAAGN,GAAG,CAAC;MAAE,GAAGE,KAAK,CAACK;IAAW,CAAC;IAE/CN,KAAK,CAAC,MAAMC,KAAK,CAACK,UAAU,EAAGC,GAAG,IAAK;MACrCF,WAAW,CAACG,KAAK,GAAG;QAAE,GAAGD;MAAI;IAC/B,CAAC;IAED,SAASE,WAAWA,CAACC,GAAG,EAAEF,KAAK,EAAE;MAC/BH,WAAW,CAACG,KAAK,CAACE,GAAG,CAAC,GAAGF,KAAI;MAC7BL,IAAI,CAAC,mBAAmB,EAAE;QAAE,GAAGE,WAAW,CAACG;MAAM,CAAC;IACpD;IAEA,SAASG,eAAeA,CAACJ,GAAG,EAAE;MAC5B,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAIA,GAAG,KAAK,IAAI,EAAE;QAC3C,OAAOA,GAAG,CAACK,KAAK,IAAI,EAAC;MACvB;MACA,OAAOL,GAAG,IAAI,EAAC;IACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}