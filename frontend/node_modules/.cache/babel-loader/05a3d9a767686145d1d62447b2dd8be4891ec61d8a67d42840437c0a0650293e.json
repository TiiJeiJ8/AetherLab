{"ast":null,"code":"import { ref, watch, computed, onUnmounted } from 'vue';\nexport default {\n  __name: 'SideBar',\n  props: {\n    position: {\n      type: String,\n      default: 'left',\n      validator: v => ['left', 'right'].includes(v)\n    },\n    collapsedWidth: {\n      type: Number,\n      default: 40\n    },\n    expandedWidth: {\n      type: Number,\n      default: 250\n    },\n    autoCollapseOnMobile: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const isCollapsed = ref(true);\n    const isHovered = ref(false);\n    const isMobile = ref(window.innerWidth < 768);\n    function onResize() {\n      isMobile.value = window.innerWidth < 768;\n      if (props.autoCollapseOnMobile && isMobile.value) {\n        isCollapsed.value = true;\n      }\n    }\n    window.addEventListener('resize', onResize);\n    function handleMouseLeave() {\n      isHovered.value = false;\n    }\n    const isExpanded = computed(() => !isCollapsed.value || isHovered.value);\n    function toggleCollapse() {\n      isCollapsed.value = !isCollapsed.value;\n    }\n    const positionClass = computed(() => {\n      return props.position === 'left' ? 'sidebar-left' : 'sidebar-right';\n    });\n    onUnmounted(() => {\n      window.removeEventListener('resize', onResize);\n    });\n    const __returned__ = {\n      props,\n      isCollapsed,\n      isHovered,\n      isMobile,\n      onResize,\n      handleMouseLeave,\n      isExpanded,\n      toggleCollapse,\n      positionClass,\n      ref,\n      watch,\n      computed,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","computed","onUnmounted","props","__props","isCollapsed","isHovered","isMobile","window","innerWidth","onResize","value","autoCollapseOnMobile","addEventListener","handleMouseLeave","isExpanded","toggleCollapse","positionClass","position","removeEventListener"],"sources":["D:/Learning Material/Git/Fuck-Charts/newArchitecture/frontend_vue_design/src/components/SideBar.vue"],"sourcesContent":["<template>\n    <aside\n        :class=\"[\n        'sidebar',\n        positionClass,\n        { collapsed: isCollapsed, expanded: isExpanded }\n        ]\"\n        @click=\"toggleCollapse\"\n        @mouseleave=\"handleMouseLeave\"\n    >\n        <!-- 切换按钮图标（仍保留，但点击全区域都有效） -->\n        <span class=\"SidebarToggleBtn\" style=\"font-size: auto;\">\n        {{ isCollapsed ? 'III' : '☰' }}\n        </span>\n\n        <!-- 内容区域过渡动画 -->\n        <transition name=\"fade-slide\">\n        <div\n            v-show=\"isExpanded || !isCollapsed\"\n            class=\"sidebar-content\"\n            @click.stop\n        >\n            <slot />\n        </div>\n        </transition>\n    </aside>\n</template>\n\n<script setup>\n    import { ref, watch, computed, onUnmounted } from 'vue'\n\n    const props = defineProps({\n    position: {\n        type: String,\n        default: 'left',\n        validator: v => ['left', 'right'].includes(v),\n    },\n    collapsedWidth: {\n        type: Number,\n        default: 40,\n    },\n    expandedWidth: {\n        type: Number,\n        default: 250,\n    },\n    autoCollapseOnMobile: {\n        type: Boolean,\n        default: true,\n    },\n    })\n\n    const isCollapsed = ref(true)\n    const isHovered = ref(false)\n\n    const isMobile = ref(window.innerWidth < 768)\n    function onResize() {\n    isMobile.value = window.innerWidth < 768\n    if (props.autoCollapseOnMobile && isMobile.value) {\n        isCollapsed.value = true\n    }\n    }\n    window.addEventListener('resize', onResize)\n\n    function handleMouseLeave() {\n    isHovered.value = false\n    }\n\n    const isExpanded = computed(() => !isCollapsed.value || isHovered.value)\n    function toggleCollapse() {\n    isCollapsed.value = !isCollapsed.value\n    }\n\n    const positionClass = computed(() => {\n    return props.position === 'left' ? 'sidebar-left' : 'sidebar-right'\n    })\n\n    onUnmounted(() => {\n    window.removeEventListener('resize', onResize)\n    })\n</script>\n    \n<style scoped>\n    .sidebar {\n        position: fixed;\n        top: 100px;\n        bottom: 30px;\n        background-color: var(--bg-color);\n        box-shadow: 0 0 12px rgb(0 0 0 / 0.12);\n        overflow: hidden;\n        transition: width 0.3s cubic-bezier(.4,2,.6,1), background-color 0.3s;\n        display: flex;\n        flex-direction: column;\n        z-index: 9998;\n        user-select: none;\n        cursor: pointer;\n    }\n    \n    .sidebar-left {\n        left: 0;\n        border-radius: 0 8px 8px 0;\n    }\n    \n    .sidebar-right {\n        right: 0;\n        border-radius: 8px 0 0 8px;\n    }\n    \n    .sidebar.collapsed {\n        width: var(--collapsed-width);\n    }\n    \n    .sidebar.expanded {\n        width: var(--expanded-width);\n    }\n    \n    :root {\n        --collapsed-width: 40px;\n        --expanded-width: 250px;\n    }\n    \n    .sidebar {\n        width: var(--collapsed-width);\n    }\n    \n    .sidebar.expanded {\n        width: var(--expanded-width);\n    }\n    \n    /* 图标按钮 */\n    .SidebarToggleBtn {\n        font-size: 1.2rem;\n        padding: 8px;\n        margin: 6px;\n        align-self: flex-end;\n        pointer-events: none;\n        user-select: none;\n        color: var(--text-color);\n    }\n    \n    /* 内容区域 */\n    .sidebar-content {\n        flex: 1;\n        overflow-y: auto;\n        padding: 12px 16px;\n        color: var(--text-color);\n        pointer-events: auto;\n        cursor: default;\n    }\n    \n    /* 进入/离开动画 */\n    .fade-slide-enter-active,\n    .fade-slide-leave-active {\n        transition: all 0.3s ease;\n    }\n    .fade-slide-enter-from,\n    .fade-slide-leave-to {\n        opacity: 0;\n        transform: translateX(-10px);\n    }\n    \n    /* 小屏自动折叠 */\n    @media (max-width: 767px) {\n        .sidebar {\n        top: 80px;\n        width: var(--collapsed-width) !important;\n        height: 30%;\n        }\n    }\n</style>\n"],"mappings":"AA6BI,SAASA,GAAG,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,KAAI;;;;;;;;;;;;;;;;;;;;;;;;;;IAEtD,MAAMC,KAAK,GAAGC,OAAA;IAoBd,MAAMC,WAAW,GAAGN,GAAG,CAAC,IAAI;IAC5B,MAAMO,SAAS,GAAGP,GAAG,CAAC,KAAK;IAE3B,MAAMQ,QAAQ,GAAGR,GAAG,CAACS,MAAM,CAACC,UAAU,GAAG,GAAG;IAC5C,SAASC,QAAQA,CAAA,EAAG;MACpBH,QAAQ,CAACI,KAAK,GAAGH,MAAM,CAACC,UAAU,GAAG,GAAE;MACvC,IAAIN,KAAK,CAACS,oBAAoB,IAAIL,QAAQ,CAACI,KAAK,EAAE;QAC9CN,WAAW,CAACM,KAAK,GAAG,IAAG;MAC3B;IACA;IACAH,MAAM,CAACK,gBAAgB,CAAC,QAAQ,EAAEH,QAAQ;IAE1C,SAASI,gBAAgBA,CAAA,EAAG;MAC5BR,SAAS,CAACK,KAAK,GAAG,KAAI;IACtB;IAEA,MAAMI,UAAU,GAAGd,QAAQ,CAAC,MAAM,CAACI,WAAW,CAACM,KAAK,IAAIL,SAAS,CAACK,KAAK;IACvE,SAASK,cAAcA,CAAA,EAAG;MAC1BX,WAAW,CAACM,KAAK,GAAG,CAACN,WAAW,CAACM,KAAI;IACrC;IAEA,MAAMM,aAAa,GAAGhB,QAAQ,CAAC,MAAM;MACrC,OAAOE,KAAK,CAACe,QAAQ,KAAK,MAAM,GAAG,cAAc,GAAG,eAAc;IAClE,CAAC;IAEDhB,WAAW,CAAC,MAAM;MAClBM,MAAM,CAACW,mBAAmB,CAAC,QAAQ,EAAET,QAAQ;IAC7C,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}