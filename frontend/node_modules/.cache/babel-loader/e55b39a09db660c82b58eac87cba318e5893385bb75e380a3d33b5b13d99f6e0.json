{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\n/* eslint-disable */\n\n// 引入主题视觉编码分发器\nimport { getVisualMapInRangeColor } from \"../utils/themeDispatcher\";\n\n// 平行坐标系图配置生成器\n\nexport default function parallelOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n  // 解包数据\n  const {\n    dimensions,\n    name\n  } = seriesData;\n  if (!dimensions || !name || !Array.isArray(dimensions) || !Array.isArray(name)) {\n    return {};\n  }\n\n  // 1. 获取所有维度名\n  const dimensionNames = Object.keys(name[0]);\n\n  // 2. 构造 parallelAxis\n  const parallelAxis = dimensionNames.map((dim, idx) => {\n    // 判断类型\n    const isNumber = typeof name[0][dim] === 'number';\n    return {\n      dim: idx,\n      name: dim,\n      type: isNumber ? 'value' : 'category'\n    };\n  });\n\n  // 3. 合并所有数据为一个数组\n  const allData = dimensions.flat().map(item => dimensionNames.map(dim => item[dim]));\n\n  // 4. 找到 category 维度索引\n  const categoryDimIdx = dimensionNames.findIndex(dim => dim.toLowerCase() === 'category');\n\n  // 5. 获取主题色\n  let visualColors = getVisualMapInRangeColor(config && config.colorScheme);\n\n  // 6. 组装 option，使用 visualMap 以 category 上色\n  const option = {\n    parallelAxis,\n    parallel: {\n      left: '5%',\n      right: '13%',\n      bottom: '10%',\n      parallelAxisDefault: {\n        type: 'value',\n        nameLocation: 'end',\n        nameGap: 20\n      }\n    },\n    series: [{\n      type: 'parallel',\n      lineStyle: {\n        width: 2\n      },\n      data: allData\n    }],\n    visualMap: categoryDimIdx >= 0 ? [{\n      type: 'piecewise',\n      dimension: categoryDimIdx,\n      categories: Array.from(new Set(allData.map(arr => arr[categoryDimIdx]))),\n      orient: 'vertical',\n      left: 'right',\n      top: '10%',\n      inRange: {\n        color: visualColors\n      },\n      outOfRange: {\n        color: ['#ccc']\n      }\n    }] : undefined,\n    ...customOption\n  };\n  return option;\n}","map":{"version":3,"names":["getVisualMapInRangeColor","parallelOption","config","fileDataMap","xData","yDataArr","selectedChartType","seriesData","customOption","dimensions","name","Array","isArray","dimensionNames","Object","keys","parallelAxis","map","dim","idx","isNumber","type","allData","flat","item","categoryDimIdx","findIndex","toLowerCase","visualColors","colorScheme","option","parallel","left","right","bottom","parallelAxisDefault","nameLocation","nameGap","series","lineStyle","width","data","visualMap","dimension","categories","from","Set","arr","orient","top","inRange","color","outOfRange","undefined"],"sources":["D:/Learning Material/Git/Fuck-Charts/frontend/src/assets/JS/chartOptions/parallel.js"],"sourcesContent":["/* eslint-disable */\n\n// 引入主题视觉编码分发器\nimport { getVisualMapInRangeColor } from \"../utils/themeDispatcher\"\n\n// 平行坐标系图配置生成器\n\nexport default function parallelOption(config, fileDataMap, xData, yDataArr, selectedChartType, seriesData, customOption = {}) {\n    // 解包数据\n    const { dimensions, name } = seriesData;\n\n    if (!dimensions || !name || !Array.isArray(dimensions) || !Array.isArray(name)) {\n        return {};\n    }\n\n    // 1. 获取所有维度名\n    const dimensionNames = Object.keys(name[0]);\n\n    // 2. 构造 parallelAxis\n    const parallelAxis = dimensionNames.map((dim, idx) => {\n        // 判断类型\n        const isNumber = typeof name[0][dim] === 'number';\n        return {\n            dim: idx,\n            name: dim,\n            type: isNumber ? 'value' : 'category'\n        };\n    });\n\n    // 3. 合并所有数据为一个数组\n    const allData = dimensions.flat().map(item => dimensionNames.map(dim => item[dim]));\n\n    // 4. 找到 category 维度索引\n    const categoryDimIdx = dimensionNames.findIndex(dim => dim.toLowerCase() === 'category');\n\n    // 5. 获取主题色\n    let visualColors = getVisualMapInRangeColor(config && config.colorScheme);\n\n    // 6. 组装 option，使用 visualMap 以 category 上色\n    const option = {\n        parallelAxis,\n        parallel: {\n            left: '5%',\n            right: '13%',\n            bottom: '10%',\n            parallelAxisDefault: {\n                type: 'value',\n                nameLocation: 'end',\n                nameGap: 20\n            }\n        },\n        series: [{\n            type: 'parallel',\n            lineStyle: {\n                width: 2\n            },\n            data: allData\n        }],\n        visualMap: categoryDimIdx >= 0 ? [{\n            type: 'piecewise',\n            dimension: categoryDimIdx,\n            categories: Array.from(new Set(allData.map(arr => arr[categoryDimIdx]))),\n            orient: 'vertical',\n            left: 'right',\n            top: '10%',\n            inRange: {\n                color: visualColors\n            },\n            outOfRange: {\n                color: ['#ccc']\n            }\n        }] : undefined,\n        ...customOption\n    };\n\n    return option;\n}"],"mappings":";;;;;;;;;AAAA;;AAEA;AACA,SAASA,wBAAwB,QAAQ,0BAA0B;;AAEnE;;AAEA,eAAe,SAASC,cAAcA,CAACC,MAAM,EAAEC,WAAW,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,iBAAiB,EAAEC,UAAU,EAAEC,YAAY,GAAG,CAAC,CAAC,EAAE;EAC3H;EACA,MAAM;IAAEC,UAAU;IAAEC;EAAK,CAAC,GAAGH,UAAU;EAEvC,IAAI,CAACE,UAAU,IAAI,CAACC,IAAI,IAAI,CAACC,KAAK,CAACC,OAAO,CAACH,UAAU,CAAC,IAAI,CAACE,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IAC5E,OAAO,CAAC,CAAC;EACb;;EAEA;EACA,MAAMG,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACL,IAAI,CAAC,CAAC,CAAC,CAAC;;EAE3C;EACA,MAAMM,YAAY,GAAGH,cAAc,CAACI,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IAClD;IACA,MAAMC,QAAQ,GAAG,OAAOV,IAAI,CAAC,CAAC,CAAC,CAACQ,GAAG,CAAC,KAAK,QAAQ;IACjD,OAAO;MACHA,GAAG,EAAEC,GAAG;MACRT,IAAI,EAAEQ,GAAG;MACTG,IAAI,EAAED,QAAQ,GAAG,OAAO,GAAG;IAC/B,CAAC;EACL,CAAC,CAAC;;EAEF;EACA,MAAME,OAAO,GAAGb,UAAU,CAACc,IAAI,CAAC,CAAC,CAACN,GAAG,CAACO,IAAI,IAAIX,cAAc,CAACI,GAAG,CAACC,GAAG,IAAIM,IAAI,CAACN,GAAG,CAAC,CAAC,CAAC;;EAEnF;EACA,MAAMO,cAAc,GAAGZ,cAAc,CAACa,SAAS,CAACR,GAAG,IAAIA,GAAG,CAACS,WAAW,CAAC,CAAC,KAAK,UAAU,CAAC;;EAExF;EACA,IAAIC,YAAY,GAAG5B,wBAAwB,CAACE,MAAM,IAAIA,MAAM,CAAC2B,WAAW,CAAC;;EAEzE;EACA,MAAMC,MAAM,GAAG;IACXd,YAAY;IACZe,QAAQ,EAAE;MACNC,IAAI,EAAE,IAAI;MACVC,KAAK,EAAE,KAAK;MACZC,MAAM,EAAE,KAAK;MACbC,mBAAmB,EAAE;QACjBd,IAAI,EAAE,OAAO;QACbe,YAAY,EAAE,KAAK;QACnBC,OAAO,EAAE;MACb;IACJ,CAAC;IACDC,MAAM,EAAE,CAAC;MACLjB,IAAI,EAAE,UAAU;MAChBkB,SAAS,EAAE;QACPC,KAAK,EAAE;MACX,CAAC;MACDC,IAAI,EAAEnB;IACV,CAAC,CAAC;IACFoB,SAAS,EAAEjB,cAAc,IAAI,CAAC,GAAG,CAAC;MAC9BJ,IAAI,EAAE,WAAW;MACjBsB,SAAS,EAAElB,cAAc;MACzBmB,UAAU,EAAEjC,KAAK,CAACkC,IAAI,CAAC,IAAIC,GAAG,CAACxB,OAAO,CAACL,GAAG,CAAC8B,GAAG,IAAIA,GAAG,CAACtB,cAAc,CAAC,CAAC,CAAC,CAAC;MACxEuB,MAAM,EAAE,UAAU;MAClBhB,IAAI,EAAE,OAAO;MACbiB,GAAG,EAAE,KAAK;MACVC,OAAO,EAAE;QACLC,KAAK,EAAEvB;MACX,CAAC;MACDwB,UAAU,EAAE;QACRD,KAAK,EAAE,CAAC,MAAM;MAClB;IACJ,CAAC,CAAC,GAAGE,SAAS;IACd,GAAG7C;EACP,CAAC;EAED,OAAOsB,MAAM;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}