{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mapping-item\"\n};\nconst _hoisted_2 = {\n  class: \"mapping-item-header\"\n};\nconst _hoisted_3 = {\n  class: \"mapping-label\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"required-star\"\n};\nconst _hoisted_5 = {\n  class: \"mapping-type-tag\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"drop-placeholder\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"mapped-content\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"mapped-field\"\n};\nconst _hoisted_9 = {\n  class: \"field-info\"\n};\nconst _hoisted_10 = {\n  class: \"field-name\"\n};\nconst _hoisted_11 = {\n  class: \"field-type\"\n};\nconst _hoisted_12 = {\n  class: \"mapped-series\"\n};\nconst _hoisted_13 = {\n  class: \"field-info\"\n};\nconst _hoisted_14 = {\n  class: \"field-name\"\n};\nconst _hoisted_15 = {\n  class: \"field-type\"\n};\nconst _hoisted_16 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"label\", _hoisted_3, [_createTextVNode(_toDisplayString($props.field.label) + \" \", 1 /* TEXT */), $props.field.required ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"*\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_5, _toDisplayString($props.field.type), 1 /* TEXT */)]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"drop-zone\", {\n      'drop-zone-active': $props.isDragOver,\n      'drop-zone-filled': $setup.hasMapping,\n      'drop-zone-error': $props.hasError\n    }]),\n    onDrop: $setup.handleDrop,\n    onDragover: _withModifiers($setup.handleDragOver, [\"prevent\"]),\n    onDragenter: _withModifiers($setup.handleDragEnter, [\"prevent\"]),\n    onDragleave: _withModifiers($setup.handleDragLeave, [\"prevent\"])\n  }, [!$setup.hasMapping ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n    class: \"drop-icon\"\n  }, \"↓\", -1 /* HOISTED */), _createElementVNode(\"span\", {\n    class: \"drop-text\"\n  }, \"Drag column here\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createCommentVNode(\" 单个字段映射 \"), !$props.field.allowMultiple ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"span\", _hoisted_10, _toDisplayString($props.mapping.field), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_11, _toDisplayString($props.mapping.type), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    class: \"remove-btn\",\n    onClick: $setup.removeMapping\n  }, \"×\")])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 多个字段映射（如系列） \"), _createElementVNode(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.mapping, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"mapped-field\"\n    }, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"span\", _hoisted_14, _toDisplayString(item.field), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_15, _toDisplayString(item.type), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      class: \"remove-btn\",\n      onClick: $event => $setup.removeSeries(index)\n    }, \"×\", 8 /* PROPS */, _hoisted_16)]);\n  }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]))], 34 /* CLASS, NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","$props","field","label","required","_hoisted_4","_createCommentVNode","_hoisted_5","type","_normalizeClass","isDragOver","$setup","hasMapping","hasError","onDrop","handleDrop","onDragover","_withModifiers","handleDragOver","onDragenter","handleDragEnter","onDragleave","handleDragLeave","_hoisted_6","_cache","_hoisted_7","allowMultiple","_hoisted_8","_hoisted_9","_hoisted_10","mapping","_hoisted_11","onClick","removeMapping","_Fragment","_hoisted_12","_renderList","item","index","_hoisted_13","_hoisted_14","_hoisted_15","$event","removeSeries","_hoisted_16"],"sources":["D:\\Learning Material\\Git\\Fuck-Charts\\frontend\\src\\components\\MappingItem.vue"],"sourcesContent":["<template>\n  <div class=\"mapping-item\">\n    <div class=\"mapping-item-header\">\n      <label class=\"mapping-label\">\n        {{ field.label }}\n        <span v-if=\"field.required\" class=\"required-star\">*</span>\n      </label>\n      <div class=\"mapping-type-tag\">{{ field.type }}</div>\n    </div>\n    \n    <div\n      class=\"drop-zone\"\n      :class=\"{\n        'drop-zone-active': isDragOver,\n        'drop-zone-filled': hasMapping,\n        'drop-zone-error': hasError\n      }\"\n      @drop=\"handleDrop\"\n      @dragover.prevent=\"handleDragOver\"\n      @dragenter.prevent=\"handleDragEnter\"\n      @dragleave.prevent=\"handleDragLeave\"\n    >\n      <div v-if=\"!hasMapping\" class=\"drop-placeholder\">\n        <div class=\"drop-icon\">↓</div>\n        <span class=\"drop-text\">Drag column here</span>\n      </div>\n      \n      <div v-else class=\"mapped-content\">\n        <!-- 单个字段映射 -->\n        <div \n          v-if=\"!field.allowMultiple\"\n          class=\"mapped-field\"\n        >\n          <div class=\"field-info\">\n            <span class=\"field-name\">{{ mapping.field }}</span>\n            <span class=\"field-type\">{{ mapping.type }}</span>\n          </div>\n          <button class=\"remove-btn\" @click=\"removeMapping\">×</button>\n        </div>\n        \n        <!-- 多个字段映射（如系列） -->\n        <div \n          v-else\n          class=\"mapped-series\"\n        >\n          <div\n            v-for=\"(item, index) in mapping\"\n            :key=\"index\"\n            class=\"mapped-field\"\n          >\n            <div class=\"field-info\">\n              <span class=\"field-name\">{{ item.field }}</span>\n              <span class=\"field-type\">{{ item.type }}</span>\n            </div>\n            <button class=\"remove-btn\" @click=\"removeSeries(index)\">×</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  field: {\n    type: Object,\n    required: true\n  },\n  mapping: {\n    type: [Object, Array],\n    default: null\n  },\n  isDragOver: {\n    type: Boolean,\n    default: false\n  },\n  hasError: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits([\n  'drop',\n  'drag-enter',\n  'drag-leave', \n  'drag-over',\n  'remove-mapping',\n  'remove-series'\n])\n\nconst hasMapping = computed(() => {\n  if (props.field.allowMultiple) {\n    return Array.isArray(props.mapping) && props.mapping.length > 0\n  }\n  return props.mapping && props.mapping.field\n})\n\nfunction handleDrop(event) {\n  emit('drop', event, props.field.name)\n}\n\nfunction handleDragEnter(event) {\n  emit('drag-enter', props.field.name)\n}\n\nfunction handleDragLeave(event) {\n  emit('drag-leave', props.field.name)\n}\n\nfunction handleDragOver(event) {\n  emit('drag-over', event, props.field.name)\n}\n\nfunction removeMapping() {\n  emit('remove-mapping', props.field.name)\n}\n\nfunction removeSeries(index) {\n  emit('remove-series', props.field.name, index)\n}\n</script>\n\n<style scoped>\n.mapping-item {\n  margin-bottom: 20px;\n  animation: fadeInUp 0.5s ease;\n  animation-fill-mode: both;\n}\n\n.mapping-item:nth-child(1) { animation-delay: 0.1s; }\n.mapping-item:nth-child(2) { animation-delay: 0.2s; }\n.mapping-item:nth-child(3) { animation-delay: 0.3s; }\n\n.mapping-item-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n\n.mapping-label {\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--text-color, #333333);\n}\n\n.required-star {\n  color: #ff5252;\n  font-weight: bold;\n  margin-left: 4px;\n}\n\n.mapping-type-tag {\n  display: inline-flex;\n  align-items: center;\n  padding: 2px 8px;\n  background: var(--bg-secondary, #f1f3f4);\n  color: var(--text-secondary, #666666);\n  border-radius: 10px;\n  font-size: 10px;\n  font-weight: 500;\n  text-transform: uppercase;\n  border: 1px solid var(--border-color, #e5e5e5);\n  transition: all 0.3s ease;\n}\n\n.mapping-type-tag:hover {\n  background: var(--bg-tertiary, #f8abbd);\n  color: #232222aa;\n  font-weight: 600;\n  transform: scale(1.05);\n}\n\n.drop-zone {\n  min-height: 50px;\n  border: 2px dashed var(--border-color, #e5e5e5);\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);\n  background: var(--bg-color, #ffffff);\n  position: relative;\n  overflow: hidden;\n}\n\n.drop-zone::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(84, 112, 198, 0.1), transparent);\n  transition: left 0.5s ease;\n}\n\n.drop-zone:hover::before {\n  left: 100%;\n}\n\n.drop-zone::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: linear-gradient(135deg, rgba(84, 112, 198, 0.1), rgba(145, 204, 117, 0.1));\n  border-radius: 8px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  pointer-events: none;\n}\n\n.drop-zone:hover::after {\n  opacity: 1;\n}\n\n.drop-zone-active {\n  border-color: var(--primary-color, #5470c6);\n  background-color: rgba(84, 112, 198, 0.05);\n  transform: scale(1.02);\n  box-shadow: 0 4px 20px var(--shadow-color, rgba(84, 112, 198, 0.15));\n  border-style: solid;\n  animation: pulseGlow 2s infinite alternate;\n}\n\n.drop-zone-filled {\n  border-color: var(--success-color, #28a745);\n  background-color: rgba(40, 167, 69, 0.05);\n  border-style: solid;\n  min-height: auto;\n  padding: 8px;\n}\n\n.drop-zone-error {\n  border-color: var(--error-color, #dc3545);\n  background-color: rgba(220, 53, 69, 0.05);\n  animation: shake 0.5s ease-in-out;\n}\n\n.drop-placeholder {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n  color: var(--text-secondary, #666666);\n  padding: 12px;\n}\n\n.drop-icon {\n  font-size: 20px;\n  color: var(--primary-color, #5470c6);\n  animation: bounce 2s infinite;\n}\n\n.drop-text {\n  font-size: 13px;\n  font-weight: 500;\n}\n\n.mapped-content {\n  width: 100%;\n}\n\n.mapped-field {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 12px;\n  margin-bottom: 4px;\n  background: var(--bg-secondary, #f8f9fa);\n  border-radius: 6px;\n  border: 1px solid var(--border-color, #e5e5e5);\n  transition: all 0.3s ease;\n}\n\n.mapped-field:hover {\n  background: var(--bg-tertiary, #e9ecef);\n  border-color: var(--primary-color, #5470c6);\n  transform: translateY(-1px);\n  box-shadow: 0 2px 8px rgba(84, 112, 198, 0.1);\n}\n\n.field-info {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.field-name {\n  font-size: 13px;\n  font-weight: 600;\n  color: var(--text-color, #333333);\n}\n\n.field-type {\n  font-size: 11px;\n  color: var(--text-secondary, #666666);\n  background: var(--bg-color, #ffffff);\n  padding: 2px 6px;\n  border-radius: 4px;\n  border: 1px solid var(--border-color, #e5e5e5);\n}\n\n.remove-btn {\n  background: none;\n  border: none;\n  color: var(--error-color, #dc3545);\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.remove-btn:hover {\n  background: var(--error-color, #dc3545);\n  color: white;\n  transform: scale(1.1);\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes pulseGlow {\n  from {\n    box-shadow: 0 4px 20px rgba(84, 112, 198, 0.15);\n  }\n  to {\n    box-shadow: 0 6px 30px rgba(84, 112, 198, 0.3);\n  }\n}\n\n@keyframes shake {\n  0%, 100% { transform: translateX(0); }\n  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }\n  20%, 40%, 60%, 80% { transform: translateX(5px); }\n}\n\n@keyframes bounce {\n  0%, 20%, 50%, 80%, 100% {\n    transform: translateY(0);\n  }\n  40% {\n    transform: translateY(-10px);\n  }\n  60% {\n    transform: translateY(-5px);\n  }\n}\n\n/* 暗黑主题适配 */\n[data-theme=\"dark\"] .mapping-type-tag,\n:root.dark .mapping-type-tag {\n  background: var(--bg-tertiary, #3d3d3d);\n  color: var(--text-secondary, #b0b0b0);\n  border-color: var(--border-color, #404040);\n}\n\n[data-theme=\"dark\"] .mapping-type-tag:hover,\n:root.dark .mapping-type-tag:hover {\n  background: var(--bg-secondary, #2d2d2d);\n  color: var(--text-color, #e0e0e0);\n}\n\n[data-theme=\"dark\"] .drop-zone,\n:root.dark .drop-zone {\n  border-color: var(--border-color, #555555);\n  background: var(--bg-color, #1e1e1e);\n}\n\n[data-theme=\"dark\"] .mapped-field,\n:root.dark .mapped-field {\n  background: var(--bg-secondary, #2d2d2d);\n  border-color: var(--border-color, #404040);\n}\n\n[data-theme=\"dark\"] .mapped-field:hover,\n:root.dark .mapped-field:hover {\n  background: var(--bg-tertiary, #3d3d3d);\n  border-color: var(--primary-color, #6b9eff);\n}\n\n[data-theme=\"dark\"] .field-name,\n:root.dark .field-name {\n  color: var(--text-color, #e0e0e0);\n}\n\n[data-theme=\"dark\"] .field-type,\n:root.dark .field-type {\n  color: var(--text-secondary, #b0b0b0);\n  background: var(--bg-color, #1e1e1e);\n  border-color: var(--border-color, #404040);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}